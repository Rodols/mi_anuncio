(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const c=s},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("8Qeq"),i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),a=n("kJWO"),u=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.b)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return j}),n.d(e,"b",function(){return Tu}),n.d(e,"c",function(){return Cu}),n.d(e,"d",function(){return wu}),n.d(e,"e",function(){return Ou}),n.d(e,"f",function(){return vc}),n.d(e,"g",function(){return uc}),n.d(e,"h",function(){return ma}),n.d(e,"i",function(){return Uu}),n.d(e,"j",function(){return Hs}),n.d(e,"k",function(){return ju}),n.d(e,"l",function(){return Qs}),n.d(e,"m",function(){return Ir}),n.d(e,"n",function(){return tu}),n.d(e,"o",function(){return uo}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return A}),n.d(e,"r",function(){return Io}),n.d(e,"s",function(){return ha}),n.d(e,"t",function(){return fa}),n.d(e,"u",function(){return Au}),n.d(e,"v",function(){return Ta}),n.d(e,"w",function(){return lc}),n.d(e,"x",function(){return xa}),n.d(e,"y",function(){return rc}),n.d(e,"z",function(){return qu}),n.d(e,"A",function(){return p}),n.d(e,"B",function(){return xu}),n.d(e,"C",function(){return Su}),n.d(e,"D",function(){return nu}),n.d(e,"E",function(){return Js}),n.d(e,"F",function(){return Ks}),n.d(e,"G",function(){return kr}),n.d(e,"H",function(){return Zs}),n.d(e,"I",function(){return Sn}),n.d(e,"J",function(){return b}),n.d(e,"K",function(){return dc}),n.d(e,"L",function(){return Ca}),n.d(e,"M",function(){return Ju}),n.d(e,"N",function(){return q}),n.d(e,"O",function(){return ta}),n.d(e,"P",function(){return Xs}),n.d(e,"Q",function(){return Aa}),n.d(e,"R",function(){return Y}),n.d(e,"S",function(){return ic}),n.d(e,"T",function(){return en}),n.d(e,"U",function(){return U}),n.d(e,"V",function(){return tn}),n.d(e,"W",function(){return bc}),n.d(e,"X",function(){return Xu}),n.d(e,"Y",function(){return ku}),n.d(e,"Z",function(){return lo}),n.d(e,"ab",function(){return As}),n.d(e,"bb",function(){return En}),n.d(e,"cb",function(){return an}),n.d(e,"db",function(){return We}),n.d(e,"eb",function(){return $e}),n.d(e,"fb",function(){return Ye}),n.d(e,"gb",function(){return Ke}),n.d(e,"hb",function(){return Qe}),n.d(e,"ib",function(){return Je}),n.d(e,"jb",function(){return Ss}),n.d(e,"kb",function(){return gc}),n.d(e,"lb",function(){return xs}),n.d(e,"mb",function(){return Ts}),n.d(e,"nb",function(){return Ge}),n.d(e,"ob",function(){return D}),n.d(e,"pb",function(){return Ro}),n.d(e,"qb",function(){return Xo}),n.d(e,"rb",function(){return Zo}),n.d(e,"sb",function(){return Is}),n.d(e,"tb",function(){return Rt}),n.d(e,"ub",function(){return m}),n.d(e,"vb",function(){return He}),n.d(e,"wb",function(){return xo}),n.d(e,"xb",function(){return Ln}),n.d(e,"yb",function(){return zs}),n.d(e,"zb",function(){return gi}),n.d(e,"Ab",function(){return Fo}),n.d(e,"Bb",function(){return ds}),n.d(e,"Cb",function(){return pu}),n.d(e,"Db",function(){return ut}),n.d(e,"Eb",function(){return gt}),n.d(e,"Fb",function(){return w}),n.d(e,"Gb",function(){return O}),n.d(e,"Hb",function(){return ft}),n.d(e,"Ib",function(){return bt}),n.d(e,"Jb",function(){return Ho}),n.d(e,"Kb",function(){return Jo}),n.d(e,"Lb",function(){return Ko}),n.d(e,"Mb",function(){return Qo}),n.d(e,"Nb",function(){return Yo}),n.d(e,"Ob",function(){return wr}),n.d(e,"Pb",function(){return ws}),n.d(e,"Qb",function(){return Mt}),n.d(e,"Rb",function(){return Wo}),n.d(e,"Sb",function(){return _u}),n.d(e,"Tb",function(){return ts}),n.d(e,"Ub",function(){return gu}),n.d(e,"Vb",function(){return rs}),n.d(e,"Wb",function(){return Ka}),n.d(e,"Xb",function(){return Ja}),n.d(e,"Yb",function(){return Ya}),n.d(e,"Zb",function(){return ss}),n.d(e,"ac",function(){return os}),n.d(e,"bc",function(){return Go}),n.d(e,"cc",function(){return as}),n.d(e,"dc",function(){return cs}),n.d(e,"ec",function(){return Wa}),n.d(e,"fc",function(){return Ga}),n.d(e,"gc",function(){return fu}),n.d(e,"hc",function(){return Bo}),n.d(e,"ic",function(){return ce}),n.d(e,"jc",function(){return xn}),n.d(e,"kc",function(){return Tn}),n.d(e,"lc",function(){return dt}),n.d(e,"mc",function(){return qo}),n.d(e,"nc",function(){return yu}),n.d(e,"oc",function(){return vs}),n.d(e,"pc",function(){return ys}),n.d(e,"qc",function(){return _s}),n.d(e,"rc",function(){return du});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("oB13"),u=n("x+ZX");function c(){return new r.a}function l(t){return{toString:t}.toString()}const h="__parameters__";function f(t,e,n){return l(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(h)?t[h]:Object.defineProperty(t,h,{value:[]})[h];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const d=f("Inject",t=>({token:t})),p=f("Optional"),g=f("Self"),b=f("SkipSelf");function m(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(m).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function v(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}function y(t){for(let e in t)if(t[e]===y)return e;throw Error("Could not find renamed property on target object.")}function _(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return E(t,S)||E(t,T)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const S=y({"\u0275prov":y}),x=y({"\u0275inj":y}),T=y({ngInjectableDef:y}),k=y({ngInjectorDef:y});class A{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const j=new A("AnalyzeForEntryComponents");var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({});const P="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,N="undefined"!=typeof global&&global,D=P||N||L||R,V=y({__forward_ref__:y});function U(t){return t.__forward_ref__=U,t.toString=function(){return m(this())},t}function F(t){return z(t)?t():t}function z(t){return"function"==typeof t&&t.hasOwnProperty(V)&&t.__forward_ref__===U}const q=Function;function B(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),B(r,e)):e!==t&&e.push(r)}return e}function H(t,e){t.forEach(t=>Array.isArray(t)?H(t,e):e(t))}function W(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function G(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Q(t,e,n){let r=J(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function K(t,e){const n=J(t,e);if(n>=0)return t[1|n]}function J(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Y=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Z={},X=[],tt=y({"\u0275cmp":y}),et=y({"\u0275dir":y}),nt=y({"\u0275pipe":y}),rt=y({"\u0275mod":y}),it=y({"\u0275loc":y}),ot=y({"\u0275fac":y}),st=y({__NG_ELEMENT_ID__:y});let at=0;function ut(t){return l(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||X,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Y.Emulated,id:"c",styles:t.styles||X,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=at++,n.inputs=pt(t.inputs,e),n.outputs=pt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ct):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(lt):null,n})}function ct(t){return mt(t)||function(t){return t[et]||null}(t)}function lt(t){return function(t){return t[nt]||null}(t)}const ht={};function ft(t){const e={type:t.type,bootstrap:t.bootstrap||X,declarations:t.declarations||X,imports:t.imports||X,exports:t.exports||X,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&l(()=>{ht[t.id]=t.type}),e}function dt(t,e){return l(()=>{const n=vt(t,!0);n.declarations=e.declarations||X,n.imports=e.imports||X,n.exports=e.exports||X})}function pt(t,e){if(null==t)return Z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const gt=ut;function bt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function mt(t){return t[tt]||null}function vt(t,e){const n=t[rt]||null;if(!n&&!0===e)throw new Error(`Type ${m(t)} does not have '\u0275mod' property.`);return n}function yt(t){return"string"==typeof t?t:null==t?"":""+t}function _t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():yt(t)}var wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let Ot;function Ct(t){const e=Ot;return Ot=t,e}function Et(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&wt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${m(t)}]`)}const It={},St=/\n/gm,xt="__source",Tt=y({provide:String,useValue:y});let kt=void 0;function At(t){const e=kt;return kt=t,e}function jt(t,e=wt.Default){if(void 0===kt)throw new Error("inject() must be called from an injection context");return null===kt?Et(t,void 0,e):kt.get(t,e&wt.Optional?null:void 0,e)}function Mt(t,e=wt.Default){return(Ot||jt)(F(t),e)}function Pt(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=wt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof p||"Optional"===i.ngMetadataName||i===p?n|=wt.Optional:i instanceof b||"SkipSelf"===i.ngMetadataName||i===b?n|=wt.SkipSelf:i instanceof g||"Self"===i.ngMetadataName||i===g?n|=wt.Self:t=i instanceof d||i===d?i.token:i}e.push(Mt(t,n))}else e.push(Mt(r))}return e}let Lt=void 0;function Rt(t){Lt=t}function Nt(){return void 0!==Lt?Lt:"undefined"!=typeof document?document:void 0}const Dt=20,Vt=10;function Ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function zt(t){return 0!=(8&t.flags)}function qt(t){return 2==(2&t.flags)}function Bt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function Wt(t){return!!t.listen}const Gt={createRenderer:(t,e)=>Nt()};function $t(t){for(;Array.isArray(t);)t=t[0];return t}function Qt(t,e){return $t(e[t])}function Kt(t,e){return $t(e[t.index])}function Jt(t,e){return t.data[e]}function Yt(t,e){return t[e]}function Zt(t,e){const n=e[t];return Ut(n)?n:n[0]}function Xt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function te(t){return 4==(4&t[2])}function ee(t){return 128==(128&t[2])}function ne(t,e){return null==e?null:t[e]}function re(t){t[18]=0}function ie(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const oe={lFrame:ke(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function se(){return oe.bindingsEnabled}function ae(){return oe.lFrame.lView}function ue(){return oe.lFrame.tView}function ce(t){oe.lFrame.contextLView=t}function le(){let t=he();for(;null!==t&&64===t.type;)t=t.parent;return t}function he(){return oe.lFrame.currentTNode}function fe(t,e){const n=oe.lFrame;n.currentTNode=t,n.isParent=e}function de(){return oe.lFrame.isParent}function pe(){oe.lFrame.isParent=!1}function ge(){return oe.isInCheckNoChangesMode}function be(t){oe.isInCheckNoChangesMode=t}function me(){const t=oe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ve(){return oe.lFrame.bindingIndex}function ye(){return oe.lFrame.bindingIndex++}function _e(t){const e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function we(t,e){const n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Oe(e)}function Oe(t){oe.lFrame.currentDirectiveIndex=t}function Ce(){return oe.lFrame.currentQueryIndex}function Ee(t){oe.lFrame.currentQueryIndex=t}function Ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Se(t,e,n){if(n&wt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&wt.Host||(r=Ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=oe.lFrame=Te();return r.currentTNode=e,r.lView=t,!0}function xe(t){const e=Te(),n=t[1];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Te(){const t=oe.lFrame,e=null===t?null:t.child;return null===e?ke(t):e}function ke(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ae(){const t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const je=Ae;function Me(){const t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pe(){return oe.lFrame.selectedIndex}function Le(t){oe.lFrame.selectedIndex=t}function Re(){const t=oe.lFrame;return Jt(t.tView,t.selectedIndex)}let Ne;function De(t){var e;return(null===(e=function(){if(void 0===Ne&&(Ne=null,D.trustedTypes))try{Ne=D.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ne}())||void 0===e?void 0:e.createHTML(t))||t}class Ve{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Ue extends Ve{getTypeName(){return"HTML"}}class Fe extends Ve{getTypeName(){return"Style"}}class ze extends Ve{getTypeName(){return"Script"}}class qe extends Ve{getTypeName(){return"URL"}}class Be extends Ve{getTypeName(){return"ResourceURL"}}function He(t){return t instanceof Ve?t.changingThisBreaksApplicationSecurity:t}function We(t,e){const n=Ge(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ge(t){return t instanceof Ve&&t.getTypeName()||null}function $e(t){return new Ue(t)}function Qe(t){return new Fe(t)}function Ke(t){return new ze(t)}function Je(t){return new qe(t)}function Ye(t){return new Be(t)}let Ze=!0,Xe=!1;function tn(){return Xe=!0,Ze}function en(){if(Xe)throw new Error("Cannot enable prod mode after platform setup.");Ze=!1}class nn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(De(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class rn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=De(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=De(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const on=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function an(t){return(t=String(t)).match(on)||t.match(sn)?t:(tn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function un(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function cn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ln=un("area,br,col,hr,img,wbr"),hn=un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fn=un("rp,rt"),dn=cn(fn,hn),pn=cn(ln,cn(hn,un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cn(fn,un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dn),gn=un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bn=un("srcset"),mn=cn(gn,bn,un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vn=un("script,style,template");class yn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!pn.hasOwnProperty(e))return this.sanitizedSomething=!0,!vn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!mn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;gn[o]&&(s=an(s)),bn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>an(t.trim())).join(", ")),this.buf.push(" ",e,'="',On(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();pn.hasOwnProperty(e)&&!ln.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(On(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const _n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wn=/([^\#-~ |!])/g;function On(t){return t.replace(/&/g,"&amp;").replace(_n,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(wn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cn;function En(t,e){let n=null;try{Cn=Cn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(De(""),"text/html")}catch(t){return!1}}()?new nn:new rn(t)}(t);let r=e?String(e):"";n=Cn.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Cn.getInertBodyElement(r)}while(r!==o);const s=new yn,a=s.sanitizeChildren(In(n)||n);return tn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=In(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function In(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function xn(t){const e=kn();return e?e.sanitize(Sn.HTML,t)||"":We(t,"HTML")?He(t):En(Nt(),yt(t))}function Tn(t){const e=kn();return e?e.sanitize(Sn.URL,t)||"":We(t,"URL")?He(t):an(yt(t))}function kn(){const t=ae();return t&&t[12]}function An(t,e){return t.hasOwnProperty(ot)?t[ot]:null}class jn extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function Mn(t,e){const n=e?" in "+e:"";throw new jn("201",`No provider for ${_t(t)} found${n}`)}class Pn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ln(){return Rn}function Rn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dn),Nn}function Nn(){const t=Vn(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Dn(t,e,n,r){const i=Vn(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Pn(u&&u.currentValue,e,s===Z),t[r]=e}function Vn(t){return t.__ngSimpleChanges__||null}function Un(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Fn(t,e,n){Bn(t,e,3,n)}function zn(t,e,n,r){(3&t[2])===n&&Bn(t,e,n,r)}function qn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Bn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Hn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Hn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}Ln.ngInherit=!0;const Wn=-1;class Gn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function $n(t,e,n){const r=Wt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Kn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Qn(t){return 3===t||4===t||6===t}function Kn(t){return 64===t.charCodeAt(0)}function Jn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Yn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Yn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Zn(t){return t!==Wn}function Xn(t){return 32767&t}function tr(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let er=!0;function nr(t){const e=er;return er=t,e}let rr=0;function ir(t,e){const n=sr(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,or(r.data,t),or(e,null),or(r.blueprint,null));const i=ar(t,e),o=t.injectorIndex;if(Zn(i)){const t=Xn(i),n=tr(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function or(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ar(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Wn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Wn}function ur(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(st)&&(r=n[st]),null==r&&(r=n[st]=rr++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function cr(t,e,n){if(n&wt.Optional)return t;Mn(e,"NodeInjector")}function lr(t,e,n,r){if(n&wt.Optional&&void 0===r&&(r=null),0==(n&(wt.Self|wt.Host))){const i=t[9],o=Ct(void 0);try{return i?i.get(e,r,n&wt.Optional):Et(e,r,n&wt.Optional)}finally{Ct(o)}}return cr(r,e,n)}function hr(t,e,n,r=wt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(st)?t[st]:void 0;return"number"==typeof e?e>=0?255&e:dr:e}(n);if("function"==typeof o){if(!Se(e,t,r))return r&wt.Host?cr(i,n,r):lr(e,n,r,i);try{const t=o();if(null!=t||r&wt.Optional)return t;Mn(n)}finally{je()}}else if("number"==typeof o){let i=null,s=sr(t,e),a=Wn,u=r&wt.Host?e[16][6]:null;for((-1===s||r&wt.SkipSelf)&&(a=-1===s?ar(t,e):e[s+8],a!==Wn&&vr(r,!1)?(i=e[1],s=Xn(a),e=tr(a,e)):s=-1);-1!==s;){const t=e[1];if(mr(o,s,t.data)){const t=pr(s,e,n,i,r,u);if(t!==fr)return t}a=e[s+8],a!==Wn&&vr(r,e[1].data[s+8]===u)&&mr(o,s,e)?(i=t,s=Xn(a),e=tr(a,e)):s=-1}}}return lr(e,n,r,i)}const fr={};function dr(){return new yr(le(),ae())}function pr(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=gr(a,s,n,null==r?qt(a)&&er:r!=s&&0!=(3&a.type),i&wt.Host&&o===a);return null!==u?br(e,s,u,a):fr}function gr(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&Ht(t)&&t.type===n)return u}return null}function br(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Gn){const s=i;s.resolving&&function(t,e){throw new jn("200","Circular dependency in DI detected for "+t)}(_t(o[n]));const a=nr(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ct(s.injectImpl):null;Se(t,r,wt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Rn(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&Ct(u),nr(a),s.resolving=!1,je()}}return i}function mr(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function vr(t,e){return!(t&wt.Self||t&wt.Host&&e)}class yr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return hr(this._tNode,this._lView,t,void 0,e)}}function _r(t){const e=t;if(z(t))return()=>{const t=_r(F(e));return t?t():null};let n=An(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function wr(t){return l(()=>{const e=t.prototype.constructor,n=e[ot]||_r(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[ot]||_r(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Or(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function Er(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Or(t)?Or(t):this._findContext(Cr(t)):null}_findOriginalError(t){let e=Cr(t);for(;e&&Cr(e);)e=Cr(e);return e}}function Sr(t,e){t.__ngContext__=e}const xr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(D))();function Tr(t){return t instanceof Function?t():t}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ar(t,e){return(void 0)(t,e)}function jr(t){const e=t[3];return Ft(e)?e[3]:e}function Mr(t){return Lr(t[13])}function Pr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let o,s=!1;Ft(r)?o=r:Ut(r)&&(s=!0,r=r[0]);const a=$t(r);0===t&&null!==n?null==i?Br(e,n,a):qr(e,n,a,i||null,!0):1===t&&null!==n?qr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Wr(t,e);r&&function(t,e,n,r){Wt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==$t(n)&&Rr(e,t,r,o,i);for(let s=Vt;s<n.length;s++){const i=n[s];Zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Nr(t,e,n){return Wt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Dr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ie(i,-1)),n.splice(r,1)}function Vr(t,e){if(t.length<=Vt)return;const n=Vt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Dr(o,r),e>0&&(t[n-1][4]=r[4]);const s=G(t,Vt+e);Zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];Wt(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(Ut(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ut(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),Ut(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Gn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):$t(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Wt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ft(e[3])){n!==e[3]&&Dr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function zr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Y.None||e===Y.Emulated)return null}return Kt(r,n)}(t,e.parent,n)}function qr(t,e,n,r,i){Wt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Br(t,e,n){Wt(t)?t.appendChild(e,n):e.appendChild(n)}function Hr(t,e,n,r,i){null!==r?qr(t,e,n,r,i):Br(t,e,n)}function Wr(t,e){return Wt(t)?t.parentNode(e):e.parentNode}function Gr(t,e,n){return $r(t,e,n)}let $r=function(t,e,n){return 40&t.type?Kt(t,n):null};function Qr(t,e,n,r){const i=zr(t,r,e),o=e[11],s=Gr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hr(o,i,n[a],s,!1);else Hr(o,i,n,s,!1)}function Kr(t,e){if(null!==e){const n=e.type;if(3&n)return Kt(e,t);if(4&n)return Jr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Kr(t,n);{const n=t[e.index];return Ft(n)?Jr(-1,n):$t(n)}}if(32&n)return Ar(e,t)()||$t(t[e.index]);{const n=t[16],r=n[6],i=jr(n),o=r.projection[e.projection];return null!=o?Kr(i,o):Kr(t,e.next)}}return null}function Jr(t,e){const n=Vt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Kr(t,r)}return e[7]}function Yr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Sr($t(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Yr(t,e,n.child,r,i,o,!1),Rr(e,t,i,a,o);else if(32&u){const s=Ar(n,r);let u;for(;u=s();)Rr(e,t,i,u,o);Rr(e,t,i,a,o)}else 16&u?Xr(t,e,r,n,i,o):Rr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zr(t,e,n,r,i,o){Yr(n,r,t.firstChild,e,i,o,!1)}function Xr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Rr(e,t,i,a[u],o);else Yr(t,e,a,s[3],i,o,!0)}function ti(t,e,n){Wt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ei(t,e,n){Wt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ni(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ri="ng-template";function ii(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ni(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oi(t){return 4===t.type&&t.value!==ri}function si(t,e,n){return e===(4!==t.type||n?t.value:ri)}function ai(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Qn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!si(t,u,n)||""===u&&1===e.length){if(ui(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ii(t.attrs,c,n)){if(ui(r))return!1;s=!0}continue}const l=ci(8&r?"class":u,i,oi(t),n);if(-1===l){if(ui(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ni(e,c,0)||2&r&&c!==t){if(ui(r))return!1;s=!0}}}}else{if(!s&&!ui(r)&&!ui(u))return!1;if(s&&ui(u))continue;s=!1,r=u|1&r}}return ui(r)||s}function ui(t){return 0==(1&t)}function ci(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function li(t,e,n=!1){for(let r=0;r<e.length;r++)if(ai(t,e[r],n))return!0;return!1}function hi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function fi(t,e){return t?":not("+e.trim()+")":e}function di(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ui(s)||(e+=fi(o,i),i=""),r=s,o=o||!ui(r);n++}return""!==i&&(e+=fi(o,i)),e}const pi={};function gi(t){bi(ue(),ae(),Pe()+t,ge())}function bi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Fn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&zn(e,r,0,n)}Le(n)}function mi(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function yi(t){return 2|t}function _i(t){return(131068&t)>>2}function wi(t,e){return-131069&t|e<<2}function Oi(t){return 1|t}function Ci(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ee(i),n.contentQueries(2,e[o],o)}}}function Ei(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,re(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ii(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=he(),s=de(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),oe.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return fe(o,!0),o}function Si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xi(t,e,n){xe(e);try{const r=t.viewQuery;null!==r&&no(1,r,n);const i=t.template;null!==i&&Ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ci(t,e),t.staticViewQueries&&no(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Me()}}function Ti(t,e,n,r){const i=e[2];if(256==(256&i))return;xe(e);const o=ge();try{re(e),oe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ai(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Fn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&zn(e,n,0,null),qn(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Pr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ie(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Pr(e))for(let t=Vt;t<e.length;t++){const n=e[t],r=n[1];ee(n)&&Ti(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ci(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Fn(e,n)}else{const n=t.contentHooks;null!==n&&zn(e,n,1),qn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Le(~r);else{const i=r,o=n[++t],s=n[++t];we(o,i),s(2,e[i])}}}finally{Le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ki(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&no(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Fn(e,n)}else{const n=t.viewHooks;null!==n&&zn(e,n,2),qn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ie(e[3],-1))}finally{Me()}}function ki(t,e,n,r){const i=e[10],o=!ge(),s=te(e);try{o&&!s&&i.begin&&i.begin(),s&&xi(t,e,r),Ti(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ai(t,e,n,r,i){const o=Pe();try{Le(-1),2&r&&e.length>Dt&&bi(t,e,Dt,ge()),n(r,i)}finally{Le(o)}}function ji(t,e,n){se()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ir(n,e),Sr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Ht(r);o&&Wi(e,n,r);const u=br(e,t,a,n);Sr(u,e),null!==s&&Gi(0,a-i,u,r,0,s),o&&(Zt(n.index,e)[8]=u)}}(t,e,n,Kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oe.lFrame.currentDirectiveIndex;try{Le(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fi(r,i)}}finally{Le(-1),Oe(s)}}(t,e,n))}function Mi(t,e,n=Kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Li(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Li(t,e,n,r,i,o,s,a,u,c){const l=Dt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:pi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=io(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Ni(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=Kt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(so(t,n,c,r,i),qt(e)&&function(t,e){const n=Zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Wt(o)?o.setProperty(u,r,i):Kn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Vi(t,e,n,r){let i=!1;if(se()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];li(n,s.selectors,!1)&&(i||(i=[]),ur(ir(n,e),t,s.type),Ht(s)?(zi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Bi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Si(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Jn(n.mergedAttrs,c.hostAttrs),Hi(t,n,e,u,c),qi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||oi(e)?null:$i(n,i);o.push(c),s=Ni(n,u,s),a=Ni(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new jn("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Jn(n.mergedAttrs,n.attrs),i}function Ui(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function qi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function Bi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=An(i.type)),s=new Gn(o,Ht(i),null);t.blueprint[r]=s,n[r]=s,Ui(t,e,0,r,Si(t,n,i.hostVars,pi),i)}function Wi(t,e,n){const r=Kt(e,t),i=Pi(n),o=t[10],s=Zi(t,Ei(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Gi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function $i(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Qi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ki(t,e){const n=Zt(e,t);if(ee(n)){const t=n[1];80&n[2]?Ti(t,n,t.template,n[8]):n[5]>0&&Ji(n)}}function Ji(t){for(let n=Mr(t);null!==n;n=Pr(n))for(let t=Vt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ti(t,e,t.template,e[8])}else e[5]>0&&Ji(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Zt(e[n],t);ee(r)&&r[5]>0&&Ji(r)}}function Yi(t,e){const n=Zt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),xi(r,n,n[8])}function Zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=jr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function to(t,e,n){const r=e[10];r.begin&&r.begin();try{Ti(t,e,t.template,n)}catch(i){throw oo(e,i),i}finally{r.end&&r.end()}}function eo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Xt(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function no(t,e,n){Ee(0),e(t,n)}const ro=(()=>Promise.resolve(null))();function io(t){return t[7]||(t[7]=[])}function oo(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function so(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ao(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=v(i,t):2==o&&(r=v(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const uo=new A("INJECTOR",-1);class co{get(t,e=It){if(e===It){const e=new Error(`NullInjectorError: No provider for ${m(t)}!`);throw e.name="NullInjectorError",e}return e}}const lo=new A("Set Injector scope."),ho={},fo={},po=[];let go=void 0;function bo(){return void 0===go&&(go=new co),go}function mo(t,e=null,n=null,r){return new vo(t,n,e||bo(),r)}class vo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&H(e,n=>this.processProvider(n,t,e)),H([t],t=>this.processInjectorType(t,[],i)),this.records.set(uo,wo(void 0,this));const o=this.records.get(lo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:m(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=It,n=wt.Default){this.assertNotDestroyed();const r=At(this);try{if(!(n&wt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof A)&&C(t);e=n&&this.injectableDefInScope(n)?wo(yo(t),ho):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&wt.Self?bo():this.parent).get(t,e=n&wt.Optional&&e===It?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(m(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[xt]&&i.unshift(e[xt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=m(e);if(Array.isArray(e))i=e.map(m).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):m(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(St,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{At(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(m(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{H(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];H(r,t=>this.processProvider(t,n,r||po))}}this.injectorDefTypes.add(o),this.records.set(o,wo(r.factory,ho));const a=r.providers;if(null!=a&&!s){const e=t;H(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Co(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return Oo(t)?wo(void 0,t.useValue):wo(_o(t),ho)}(t);if(Co(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=wo(void 0,ho,!0),e.factory=()=>Pt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ho&&(e.value=fo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function yo(t){const e=C(t),n=null!==e?e.factory:An(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof A)throw new Error(`Token ${m(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=$(e,"?");throw new Error(`Can't resolve all parameters for ${m(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[T]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function _o(t,e,n){let r=void 0;if(Co(t)){const e=F(t);return An(e)||yo(e)}if(Oo(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Pt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Mt(F(t.useExisting));else{const e=F(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return An(e)||yo(e);r=()=>new e(...Pt(t.deps))}var i;return r}function wo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Oo(t){return null!==t&&"object"==typeof t&&Tt in t}function Co(t){return"function"==typeof t}const Eo=function(t,e,n){return function(t,e=null,n=null,r){const i=mo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Io=(()=>{class t{static create(t,e){return Array.isArray(t)?Eo(t,e,""):Eo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=It,t.NULL=new co,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>Mt(uo)}),t.__NG_ELEMENT_ID__=-1,t})();function So(t,e){Un(Xt(t)[1],le())}function xo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=To(t.inputs),e.declaredInputs=To(t.declaredInputs),e.outputs=To(t.outputs);const n=i.hostBindings;n&&jo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ko(t,o),s&&Ao(t,s),_(t.inputs,i.inputs),_(t.declaredInputs,i.declaredInputs),_(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===xo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Jn(i.hostAttrs,n=Jn(n,i.hostAttrs))}}(r)}function To(t){return t===Z?{}:t===X?[]:t}function ko(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ao(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function jo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Mo=null;function Po(){if(!Mo){const t=D.Symbol;if(t&&t.iterator)Mo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Mo=n)}}}return Mo}class Lo{constructor(t){this.wrapped=t}static wrap(t){return new Lo(t)}static unwrap(t){return Lo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Lo}}function Ro(t){return!!No(t)&&(Array.isArray(t)||!(t instanceof Map)&&Po()in t)}function No(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Do(t,e,n){return t[e]=n}function Vo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Uo(t,e,n,r){const i=Vo(t,e,n);return Vo(t,e+1,r)||i}function Fo(t,e,n,r){const i=ae();return Vo(i,ye(),e)&&(ue(),function(t,e,n,r,i,o){const s=Kt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Wt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?yt(o):s(o,r||"",i);Wt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(Re(),i,t,e,n,r)),Fo}function zo(t,e,n,r){return Vo(t,ye(),n)?e+yt(n)+r:pi}function qo(t,e,n,r,i,o,s,a){const u=ae(),c=ue(),l=t+Dt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ii(e,t,4,s||null,ne(c,a));Vi(e,n,l,ne(c,u)),Un(e,l);const h=l.tViews=Li(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];fe(h,!1);const f=u[11].createComment("");Qr(c,u,f,h),Sr(f,u),Zi(u,u[l]=Qi(f,u,f,h)),Bt(h)&&ji(c,u,h),null!=s&&Mi(u,h,a)}function Bo(t){return Yt(oe.lFrame.contextLView,Dt+t)}function Ho(t,e=wt.Default){const n=ae();return null===n?Mt(t,e):hr(le(),n,F(t),e)}function Wo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Qn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(le(),t)}function Go(t,e,n){const r=ae();return Vo(r,ye(),e)&&Di(ue(),Re(),r,t,e,r[11],n,!1),Go}function $o(t,e,n,r,i){const o=i?"class":"style";so(t,n,e.inputs[o],o,r)}function Qo(t,e,n,r){const i=ae(),o=ue(),s=Dt+t,a=i[11],u=i[s]=Nr(a,e,oe.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ii(e,t,2,i,ne(a,o));return Vi(e,n,u,ne(a,s)),null!==u.attrs&&ao(u,u.attrs,!1),null!==u.mergedAttrs&&ao(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];fe(c,!0);const l=c.mergedAttrs;null!==l&&$n(a,u,l);const h=c.classes;null!==h&&ei(a,u,h);const f=c.styles;null!==f&&ti(a,u,f),64!=(64&c.flags)&&Qr(o,i,u,c),0===oe.lFrame.elementDepthCount&&Sr(u,i),oe.lFrame.elementDepthCount++,Bt(c)&&(ji(o,i,c),function(t,e,n){if(zt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Mi(i,c)}function Ko(){let t=le();de()?pe():(t=t.parent,fe(t,!1));const e=t;oe.lFrame.elementDepthCount--;const n=ue();n.firstCreatePass&&(Un(n,t),zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&$o(n,e,ae(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&$o(n,e,ae(),e.stylesWithoutHost,!1)}function Jo(t,e,n,r){Qo(t,e,n,r),Ko()}function Yo(){return ae()}function Zo(t){return!!t&&"function"==typeof t.then}function Xo(t){return!!t&&"function"==typeof t.subscribe}function ts(t,e,n=!1,r){const i=ae(),o=ue(),s=le();return function(t,e,n,r,i,o,s=!1,a){const u=Bt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=io(e);let h=!0;if(3&r.type){const f=Kt(r,e),d=a?a(f):Z,p=d.target||f,g=l.length,b=a?t=>a($t(t[r.index])).target:r.index;if(Wt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ns(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=ns(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),ts}function es(t,e,n){try{return!1!==e(n)}catch(r){return oo(t,r),!1}}function ns(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Zt(t.index,e):e;0==(32&e[2])&&Xi(s);let a=es(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=es(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function rs(t=1){return function(t){return(oe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,oe.lFrame.contextLView))[8]}(t)}function is(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?li(t,o,!0):hi(r,o))return i}else n=i}return n}function os(t){const e=ae()[16][6];if(!e.projection){const n=e.projection=$(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?is(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ss(t,e=0,n){const r=ae(),i=ue(),o=Ii(i,Dt+t,16,null,n||null);null===o.projection&&(o.projection=e),pe(),64!=(64&o.flags)&&function(t,e,n){Xr(e[11],0,e,n,zr(t,n,e),Gr(n.parent||e[6],n,e))}(i,r,o)}function as(t,e,n){return us(t,"",e,"",n),as}function us(t,e,n,r,i){const o=ae(),s=zo(o,e,n,r);return s!==pi&&Di(ue(),Re(),o,t,s,o[11],i,!1),us}function cs(t,e,n,r,i,o,s){const a=ae(),u=function(t,e,n,r,i,o){const s=Uo(t,ve(),n,i);return _e(2),s?e+yt(n)+r+yt(i)+o:pi}(a,e,n,r,i,o);return u!==pi&&Di(ue(),Re(),a,t,u,a[11],s,!1),cs}const ls=[];function hs(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?vi(o):_i(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];fs(t[a],e)&&(u=!0,t[a+1]=r?Oi(n):yi(n)),a=r?vi(n):_i(n)}u&&(t[n+1]=r?yi(o):Oi(o))}function fs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&J(t,e)>=0}function ds(t,e){return function(t,e,n,r){const i=ae(),o=ue(),s=_e(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Pe()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=gs(n=ps(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ps(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==_i(r))return t[vi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ps(null,t,e,n[1],r),n=gs(n,e.attrs,r),function(t,e,n,r){t[vi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=gs(r,t[o].hostAttrs,true);return gs(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=vi(s),u=_i(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||J(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=vi(t[a+1]);t[r+1]=mi(e,a),0!==e&&(t[e+1]=wi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=mi(a,0),0!==a&&(t[a+1]=wi(t[a+1],r)),a=r;else t[r+1]=mi(u,0),0===a?a=r:t[u+1]=wi(t[u+1],r),u=r;l&&(t[r+1]=yi(t[r+1])),hs(t,c,r,!0),hs(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&J(o,e)>=0&&(n[r+1]=Oi(n[r+1]))}(e,c,t,r),s=mi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==pi&&Vo(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ms(1==(1&c)?bs(u,e,n,i,_i(c),s):void 0)||(ms(o)||function(t){return 2==(2&t)}(c)&&(o=bs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Wt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Qt(Pe(),n),i,o))}(o,o.data[Pe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=m(He(t))),t}(e),true,s)}(t,e),ds}function ps(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=gs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function gs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Q(t,s,!!n||e[++o]))}return void 0===t?null:t}function bs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===pi&&(l=c?ls:void 0);let h=c?K(l,r):u===r?l:void 0;if(o&&!ms(h)&&(h=K(e,r)),ms(h)&&(a=h,s))return a;const f=t[i+1];i=s?vi(f):_i(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=K(t,r))}return a}function ms(t){return void 0!==t}function vs(t,e=""){const n=ae(),r=ue(),i=t+Dt,o=r.firstCreatePass?Ii(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Wt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Qr(r,n,s,o),fe(o,!1)}function ys(t){return _s("",t,""),ys}function _s(t,e,n){const r=ae(),i=zo(r,t,e,n);return i!==pi&&function(t,e,n){const r=Qt(e,t);!function(t,e,n){Wt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Pe(),i),_s}function ws(t,e,n){const r=ae();return Vo(r,ye(),e)&&Di(ue(),Re(),r,t,e,r[11],n,!0),ws}const Os=void 0;var Cs=["en",[["a","p"],["AM","PM"],Os],[["AM","PM"],Os,Os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Os,"{1} 'at' {0}",Os],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Es={};function Is(t,e,n){"string"!=typeof e&&(n=e,e=t[As.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Es[e]=t,n&&(Es[e][As.ExtraData]=n)}function Ss(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ks(e);if(n)return n;const r=e.split("-")[0];if(n=ks(r),n)return n;if("en"===r)return Cs;throw new Error(`Missing locale data for the locale "${t}".`)}function xs(t){return Ss(t)[As.CurrencyCode]||null}function Ts(t){return Ss(t)[As.PluralCase]}function ks(t){return t in Es||(Es[t]=D.ng&&D.ng.common&&D.ng.common.locales&&D.ng.common.locales[t]),Es[t]}var As=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const js="en-US";let Ms=js;function Ps(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ms=t.toLowerCase().replace(/_/g,"-"))}function Ls(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ls(t[o],e,n,r,i);else{const o=ue(),s=ae();let a=Co(t)?t:F(t.provide),u=_o(t);const c=le(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Co(t)||!t.multi){const r=new Gn(u,i,Ho),d=Ds(a,e,i?l:l+f,h);-1===d?(ur(ir(c,s),o,a),Rs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ds(a,e,l+f,h),p=Ds(a,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){ur(ir(c,s),o,a);const l=function(t,e,n,r,i){const o=new Gn(t,n,Ho);return o.multi=[],o.index=e,o.componentProviders=0,Ns(o,i,r&&!n),o}(i?Us:Vs,n.length,i,r,u);!i&&b&&(n[p].providerFactory=l),Rs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Rs(o,t,d>-1?d:p,Ns(n[i?p:d],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function Rs(t,e,n,r){const i=Co(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ns(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ds(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Vs(t,e,n,r){return Fs(this.multi,[])}function Us(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=br(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Fs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Fs(i,o);return o}function Fs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function zs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ue();if(r.firstCreatePass){const i=Ht(t);Ls(n,r.data,r.blueprint,i,!0),Ls(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class qs{}class Bs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${m(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Hs=(()=>{class t{}return t.NULL=new Bs,t})();function Ws(...t){}function Gs(t,e){return new Qs(Kt(t,e))}const $s=function(){return Gs(le(),ae())};let Qs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=$s,t})();class Ks{}let Js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ys(),t})();const Ys=function(){const t=ae(),e=Zt(le().index,t);return function(t){return t[11]}(Ut(e)?e:t)};let Zs=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Xs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ta=new Xs("11.0.2");class ea{constructor(){}supports(t){return Ro(t)}create(t){return new ra(t)}}const na=(t,e)=>e;class ra{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||na}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<aa(n,r,i)?e:n,s=aa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ro(t))throw new Error(`Error trying to diff '${m(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Po()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ia(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new sa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ia{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class sa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new oa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ua{constructor(){}supports(t){return t instanceof Map||No(t)}create(){return new ca}}class ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||No(t)))throw new Error(`Error trying to diff '${m(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new la(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class la{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ha=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>new t([new ea])}),t})(),fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>new t([new ua])}),t})();function da(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push($t(o)),Ft(o))for(let t=Vt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&da(e[1],e,n,r)}const s=n.type;if(8&s)da(t,e,n.child,r);else if(32&s){const t=Ar(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=jr(t);da(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class pa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return da(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ur(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){to(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){be(!0);try{to(t,e,n)}finally{be(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ga extends pa{constructor(t){super(t),this._view=t}detectChanges(){eo(this._view)}checkNoChanges(){!function(t){be(!0);try{eo(t)}finally{be(!1)}}(this._view)}get context(){return null}}const ba=va;let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=ba,t.__ChangeDetectorRef__=!0,t})();function va(t=!1){return function(t,e,n){if(!n&&qt(t)){const n=Zt(t.index,e);return new pa(n,n)}return 47&t.type?new pa(e[16],e):null}(le(),ae(),t)}const ya=[new ua],_a=new ha([new ea]),wa=new fa(ya),Oa=function(){return Sa(le(),ae())};let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oa,t})();const Ea=Ca,Ia=class extends Ea{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ei(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),xi(e,n,t),new pa(n)}};function Sa(t,e){return 4&t.type?new Ia(e,t,Gs(t,e)):null}class xa{}class Ta{}const ka=function(){return Ra(le(),ae())};let Aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ka,t})();const ja=Aa,Ma=class extends ja{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){const t=ar(this._hostTNode,this._hostLView);if(Zn(t)){const e=tr(t,this._hostLView),n=Xn(t);return new yr(e[1].data[n+8],e)}return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Pa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Vt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(xa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ma(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Vt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Vt?(e[4]=n[i],W(n,Vt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Jr(i,o),a=n[11],u=Wr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Zr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),W(La(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Pa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);n&&(G(La(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);return n&&null!=G(La(this._lContainer),e)?new pa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Pa(t){return t[8]}function La(t){return t[8]||(t[8]=[])}function Ra(t,e){let n;const r=e[t.index];if(Ft(r))n=r;else{let i;if(8&t.type)i=$t(r);else{const n=e[11];i=n.createComment("");const r=Kt(t,e);qr(n,Wr(n,r),i,function(t,e){return Wt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Qi(r,e,i,t),Zi(e,n)}return new Ma(n,t,e)}const Na={};class Da extends Hs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=mt(t);return new Fa(e,this.ngModule)}}function Va(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ua=new A("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xr});class Fa extends qs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(di).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Va(this.componentDef.inputs)}get outputs(){return Va(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Na,i);return o!==Na||r===Na?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ks,Gt),s=i.get(Zs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Wt(t))return t.selectRootElement(e,n===Y.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Nr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xr,clean:ro,playerHandler:null,flags:0},f=Li(0,null,null,1,0,null,null,null,null,null),d=Ei(null,f,h,l,null,null,o,a,s,i);let p,g;xe(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ii(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ao(a,u,!0),null!==t&&($n(i,t,u),null!==a.classes&&ei(i,t,a.classes),null!==a.styles&&ti(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ei(n,Pi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(ur(ir(a,n),s,e.type),zi(s,a),Bi(a,n.length,1)),Zi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)$n(a,c,["ng-version",ta.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ui(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&$n(a,c,t),e&&e.length>0&&ei(a,c,e.join(" "))}if(g=Jt(f,Dt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hi(t,r,e,Si(t,e,1,null),n));const i=br(e,t,r.directiveStart,r);Sr(i,e);const o=Kt(r,e);return o&&Sr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=le();e.contentQueries(1,s,t.directiveStart)}const a=le();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Le(a.index),Ui(n[1],a,0,a.directiveStart,a.directiveEnd,e),Fi(e,s)),s}(t,this.componentDef,d,h,[So]),xi(f,d,null)}finally{Me()}return new za(this.componentType,p,Gs(g,d),d,g)}}class za extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ga(r),this.componentType=t}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const qa=new Map;class Ba extends xa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Da(this);const n=vt(t),r=t[it]||null;r&&Ps(r),this._bootstrapComponents=Tr(n.bootstrap),this._r3Injector=mo(t,e,[{provide:xa,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver}],m(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Io.THROW_IF_NOT_FOUND,n=wt.Default){return t===Io||t===xa||t===uo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ha extends Ta{constructor(t){super(),this.moduleType=t,null!==vt(t)&&function(t){const e=new Set;!function t(n){const r=vt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${m(e)} vs ${m(e.name)}`)}(i,qa.get(i),n),qa.set(i,n));const o=Tr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ba(this.moduleType,t)}}function Wa(t,e,n){const r=me()+t,i=ae();return i[r]===pi?Do(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ga(t,e,n,r){return Qa(ae(),me(),t,e,n,r)}function $a(t,e){const n=t[e];return n===pi?void 0:n}function Qa(t,e,n,r,i,o){const s=e+n;return Vo(t,s,i)?Do(t,s+1,o?r.call(o,i):r(i)):$a(t,s+1)}function Ka(t,e){const n=ue();let r;const i=t+Dt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new jn("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=An(r.type)),s=Ct(Ho);try{const t=nr(!1),e=o();return nr(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,ae(),i,e),e}finally{Ct(s)}}function Ja(t,e,n){const r=t+Dt,i=ae(),o=Yt(i,r);return Xa(i,Za(i,r)?Qa(i,me(),e,o.transform,n,o):o.transform(n))}function Ya(t,e,n,r){const i=t+Dt,o=ae(),s=Yt(o,i);return Xa(o,Za(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return Uo(t,a,i,o)?Do(t,a+2,s?r.call(s,i,o):r(i,o)):$a(t,a+2)}(o,me(),e,s.transform,n,r,s):s.transform(n,r))}function Za(t,e){return t[1].data[e].pure}function Xa(t,e){return Lo.isWrapped(e)&&(e=Lo.unwrap(e),t[ve()]=pi),e}const tu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function eu(){return this._results[Po()]()}class nu{constructor(){this.dirty=!0,this._results=[],this.changes=new tu,this.length=0;const t=Po(),e=nu.prototype;e[t]||(e[t]=eu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=B(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ru{constructor(t){this.queryList=t,this.matches=null}clone(){return new ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class iu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new iu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==vu(t,e).matches&&this.queries[e].setDirty()}}class ou{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class su{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new su(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class au{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new au(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,uu(e,i)),this.matchTNodeWithReadOption(t,e,gr(e,t,i,!1,!1))}else n===Ca?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,gr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Qs||r===Aa||r===Ca&&4&e.type)this.addMatch(e.index,-2);else{const n=gr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function uu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function cu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Gs(t,e):4&t.type?Sa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Qs?Gs(e,t):n===Ca?Sa(e,t):n===Aa?Ra(e,t):void 0}(t,e,r):br(t,t[1],n,e)}function lu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:cu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function hu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=lu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=Vt;t<s.length;t++){const e=s[t];e[17]===e[3]&&hu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];hu(n[1],n,i,r)}}}}}return r}function fu(t){const e=ae(),n=ue(),r=Ce();Ee(r+1);const i=vu(n,r);if(t.dirty&&te(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?hu(n,e,r,[]):lu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function du(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&mu(t,new ou(n,r,false,i),-1),bu(t,e)}(ue(),ae(),t,e,n)}function pu(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(mu(t,new ou(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),bu(t,e)}(ue(),ae(),e,n,r,0,le(),t)}function gu(){return t=ae(),e=Ce(),t[19].queries[e].queryList;var t,e}function bu(t,e){const n=new nu;Ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new iu),e[19].queries.push(new ru(n))}function mu(t,e,n){null===t.queries&&(t.queries=new su),t.queries.track(new au(e,n))}function vu(t,e){return t.queries.getByIndex(e)}function yu(t,e){return Sa(t,e)}function _u(t=wt.Default){const e=va(!0);if(null!=e||t&wt.Optional)return e;Mn("ChangeDetectorRef")}const wu=new A("Application Initializer");let Ou=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ws,this.reject=Ws,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Zo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Mt(wu,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Cu=new A("AppId"),Eu={provide:Cu,useFactory:function(){return`${Iu()}${Iu()}${Iu()}`},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Su=new A("Platform Initializer"),xu=new A("Platform ID"),Tu=new A("appBootstrapListener");let ku=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Au=new A("LocaleId"),ju=new A("DefaultCurrencyCode");class Mu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Pu=function(t){return new Ha(t)},Lu=Pu,Ru=function(t){return Promise.resolve(Pu(t))},Nu=function(t){const e=Pu(t),n=Tr(vt(t).declarations).reduce((t,e)=>{const n=mt(e);return n&&t.push(new Fa(n)),t},[]);return new Mu(e,n)},Du=Nu,Vu=function(t){return Promise.resolve(Nu(t))};let Uu=(()=>{class t{constructor(){this.compileModuleSync=Lu,this.compileModuleAsync=Ru,this.compileModuleAndAllComponentsSync=Du,this.compileModuleAndAllComponentsAsync=Vu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Fu=(()=>Promise.resolve(0))();function zu(t){"undefined"==typeof Zone?Fu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=D.requestAnimationFrame,e=D.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(D,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gu(t),Wu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return $u(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Qu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return $u(t),e.invoke(r,i,o,s,a)}finally{Qu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Gu(t),Wu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Hu,Bu,Bu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Bu(){}const Hu={};function Wu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function $u(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qu(t){t._nesting--,Wu(t)}class Ku{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ju=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qu.assertNotInAngularZone(),zu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Mt(qu))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t{constructor(){this._applications=new Map,ec.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ec.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Zu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Xu(t){ec=t}let tc,ec=new Zu;const nc=new A("AllowMultipleToken");class rc{constructor(t,e){this.name=t,this.token=e}}function ic(t,e,n=[]){const r="Platform: "+e,i=new A(r);return(e=[])=>{let o=oc();if(!o||o.injector.get(nc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:lo,useValue:"platform"});!function(t){if(tc&&!tc.destroyed&&!tc.injector.get(nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tc=t.get(sc);const e=t.get(Su,null);e&&e.forEach(t=>t())}(Io.create({providers:t,name:r}))}return function(t){const e=oc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function oc(){return tc&&!tc.destroyed?tc:null}let sc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ku:("zone.js"===t?void 0:t)||new qu({enableLongStackTrace:tn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:qu,useValue:n}];return n.run(()=>{const e=Io.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ir,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>cc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Zo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ou);return t.runInitializers(),t.donePromise.then(()=>(Ps(i.injector.get(Au,js)||js),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ac({},e);return function(t,e,n){const r=new Ha(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(uc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${m(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Mt(Io))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function ac(t,e){return Array.isArray(e)?e.reduce(ac,t):Object.assign(Object.assign({},t),e)}let uc=(()=>{class t{constructor(t,e,n,r,i,l){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=tn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),f=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{qu.assertNotInAngularZone(),zu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(h,f.pipe(t=>Object(u.a)()(Object(a.a)(c)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof qs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(xa),i=n.create(Io.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Ju,null);return o&&i.injector.get(Yu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),tn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Tu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),cc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Mt(qu),Mt(ku),Mt(Io),Mt(Ir),Mt(Hs),Mt(Ou))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function cc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lc{}class hc{}const fc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||fc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>pc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>pc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Mt(Uu),Mt(hc,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function pc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const gc=function(t){return null},bc=ic(null,"core",[{provide:xu,useValue:"unknown"},{provide:sc,deps:[Io]},{provide:Yu,deps:[]},{provide:ku,deps:[]}]),mc=[{provide:uc,useClass:uc,deps:[qu,ku,Io,Ir,Hs,Ou]},{provide:Ua,deps:[qu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ou,useClass:Ou,deps:[[new p,wu]]},{provide:Uu,useClass:Uu,deps:[]},Eu,{provide:ha,useFactory:function(){return _a},deps:[]},{provide:fa,useFactory:function(){return wa},deps:[]},{provide:Au,useFactory:function(t){return Ps(t=t||"undefined"!=typeof $localize&&$localize.locale||js),t},deps:[[new d(Au),new p,new b]]},{provide:ju,useValue:"USD"}];let vc=(()=>{class t{constructor(t){}}return t.\u0275mod=ft({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(Mt(uc))},providers:mc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,u);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?v(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function v(t,e){return t.replace(y,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),y=new u.q("angularfire2.app.nameOrConfig"),_=new u.P("6.1.3");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,y]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Qb(u.B))},providers:[I]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.g)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(b){u={error:b}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=b;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyD20er7xW5khymSGtR36_KNowbGU9sClXs",authDomain:"consorcioejecutivoempresarial.firebaseapp.com",projectId:"consorcioejecutivoempresarial",storageBucket:"consorcioejecutivoempresarial.appspot.com",messagingSenderId:"703074575153",appId:"1:703074575153:web:4d69c7ff154e018efb8610",measurementId:"G-Q2P24S81QZ"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Qb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Qb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Qb)(a).location;return new _(Object(r.Qb)(u),e&&e.origin||"")}const y=new r.q("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(u),r.Qb(y,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(u),r.Qb(y,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(m),r.Qb(u))},t.normalizeQueryParams=b,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new O(Object(r.Qb)(m),Object(r.Qb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){const n=Object(r.jb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.ab.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.ab.NumberSymbols][x.Group]}return i}const k=r.mb,A=/^(\d+)?\.((\d+)(-(\d+))?)?$/,j=".",M="0";function P(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class L{}let R=(()=>{class t extends L{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class N{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new N(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new V(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new V(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.Q),r.Jb(r.L),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class V{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){z("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){z("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.Q),r.Jb(r.L))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class F{constructor(){this.$implicit=null,this.ngIf=null}}function z(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ub)(e)}'.`)}let q=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.t),r.Jb(r.E))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function B(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.ub)(t)}'`)}class H{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class W{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const G=new W,$=new H;let Q=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return G;if(Object(r.qb)(e))return $;throw B(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Sb())},t.\u0275pipe=r.Ib({name:"async",type:t,pure:!1}),t})(),K=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(j))>-1&&(s=s.replace(j,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===M;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===M;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(A);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=P(e)),null!=n&&(h=P(n)),null!=r?f=P(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let b=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?b=d.splice(p,d.length):(b=d,d=[0]);const m=[];for(d.length>=e.lgSize&&m.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)m.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&m.unshift(d.join("")),a=m.join(T(n,r)),b.length&&(a+=T(n,i)+b.join("")),g&&(a+=T(n,x.Exponential)+"+"+g)}else a=T(n,x.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(j)?i.split(j):[i.substring(0,i.lastIndexOf(M)+1),i.substring(i.lastIndexOf(M)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===M?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.jb)(t)[r.ab.NumberFormats][e]}(e,I.Decimal),T(e,x.MinusSign)),e,x.Group,x.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw B(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275pipe=r.Ib({name:"number",type:t,pure:!0}),t})(),J=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:L,useClass:R}]}),t})();function Y(t){return"server"===t}let Z=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new X(Object(r.Qb)(a),window,Object(r.Qb)(r.m))}),t})();class X{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=tt(this.window.history)||tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class et extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new et,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=rt||(rt=document.querySelector("base"),rt)?rt.getAttribute("href"):null;return null==e?null:(n=e,nt||(nt=document.createElement("a")),nt.setAttribute("href",n),"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname);var n}resetBaseElement(){rt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let nt,rt=null;const it=new r.q("TRANSITION_ID"),ot=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[it,a,r.r],multi:!0}];class st{static init(){Object(r.X)(new st)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const at=new r.q("EventManagerPlugins");let ut=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(at),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class ct{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let lt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),ht=(()=>{class t extends lt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dt=/%COMP%/g;function pt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pt(t,i,n):(i=i.replace(dt,t),n.push(i))}return n}function gt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let bt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new mt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new yt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(ut),r.Qb(ht),r.Qb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class mt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ft[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ft[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ft[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gt(n)):this.eventManager.addEventListener(t,e,gt(n))}}class vt extends mt{constructor(t,e,n,r){super(t),this.component=n;const i=pt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(dt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(dt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class yt extends mt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=pt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _t=(()=>{class t extends ct{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Et={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let It=(()=>{class t extends ct{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ct.hasOwnProperty(e)&&(e=Ct[e]))}return Ot[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(r=>{r!=n&&(0,Et[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),St=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return Object(r.Qb)(xt)},token:t,providedIn:"root"}),t})(),xt=(()=>{class t extends St{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.db)(e,"HTML")?Object(r.vb)(e):Object(r.bb)(this._doc,String(e));case r.I.STYLE:return Object(r.db)(e,"Style")?Object(r.vb)(e):e;case r.I.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.vb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.vb)(e):Object(r.cb)(String(e));case r.I.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.vb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return t=Object(r.Qb)(r.o),new xt(t.get(a));var t},token:t,providedIn:"root"}),t})();const Tt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){et.makeCurrent(),st.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],kt=Object(r.S)(r.W,"browser",Tt),At=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:at,useClass:_t,multi:!0,deps:[a,r.z,r.B]},{provide:at,useClass:It,multi:!0,deps:[a]},[],{provide:bt,useClass:bt,deps:[ut,ht,r.c]},{provide:r.F,useExisting:bt},{provide:lt,useExisting:ht},{provide:ht,useClass:ht,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:ut,useClass:ut,deps:[at,r.z]},[]];let jt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:it,useExisting:r.c},ot]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(t,12))},providers:At,imports:[J,r.f]}),t})();"undefined"!=typeof window&&window;var Mt=n("HDdC"),Pt=n("DH7j"),Lt=n("lJxs"),Rt=n("XoHu"),Nt=n("Cfvw");function Dt(t,e){return new Mt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(Nt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Vt=new r.q("NgValueAccessor"),Ut={provide:Vt,useExisting:Object(r.U)(()=>Ft),multi:!0};let Ft=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.yb([Ut])]}),t})();const zt={provide:Vt,useExisting:Object(r.U)(()=>Bt),multi:!0},qt=new r.q("CompositionEventMode");let Bt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l),r.Jb(qt,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Tb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.yb([zt])]}),t})();function Ht(t){return null==t||0===t.length}function Wt(t){return null!=t&&"number"==typeof t.length}const Gt=new r.q("NgValidators"),$t=new r.q("NgAsyncValidators"),Qt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Kt{static min(t){return e=>{if(Ht(e.value)||Ht(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Ht(e.value)||Ht(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Ht(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Ht(t.value)||Qt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Ht(e.value)||!Wt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Wt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Kt.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ht(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Jt);return 0==e.length?null:function(t){return Zt(Xt(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Jt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Pt.a)(e))return Dt(e,null);if(Object(Rt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Dt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Dt(t=1===t.length&&Object(Pt.a)(t[0])?t[0]:t,null).pipe(Object(Lt.a)(t=>e(...t)))}return Dt(t,null)}(Xt(t,e).map(Yt)).pipe(Object(Lt.a)(Zt))}}}function Jt(t){return null!=t}function Yt(t){const e=Object(r.rb)(t)?Object(Nt.a)(t):t;return Object(r.qb)(e),e}function Zt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Xt(t,e){return e.map(e=>e(t))}function te(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function ee(t){return null!=t?Kt.compose(te(t)):null}function ne(t){return null!=t?Kt.composeAsync(te(t)):null}function re(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ie(t){return t._rawValidators}function oe(t){return t._rawAsyncValidators}let se=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ee(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),ae=(()=>{class t extends se{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ue(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.wb]}),t})();const ue=r.Ob(ae);class ce extends se{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class le{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let he=(()=>{class t extends le{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ce,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.wb]}),t})(),fe=(()=>{class t extends le{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ae,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.wb]}),t})();const de={provide:Vt,useExisting:Object(r.U)(()=>pe),multi:!0};let pe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.yb([de])]}),t})();const ge={provide:Vt,useExisting:Object(r.U)(()=>me),multi:!0};let be=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),me=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ce),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l),r.Jb(be),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.yb([ge])]}),t})();const ve={provide:Vt,useExisting:Object(r.U)(()=>ye),multi:!0};let ye=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.yb([ve])]}),t})();const _e={provide:Vt,useExisting:Object(r.U)(()=>Oe),multi:!0};function we(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Oe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=we(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.yb([_e])]}),t})(),Ce=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(we(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.E),r.Jb(Oe,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Ee={provide:Vt,useExisting:Object(r.U)(()=>Se),multi:!0};function Ie(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Se=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.yb([Ee])]}),t})(),xe=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ie(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ie(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.E),r.Jb(Se,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Te(t,e){return[...e.path,t]}function ke(t,e){je(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Pe(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Pe(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ae(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function je(t,e,n){const r=ie(t);null!==e.validator?t.setValidators(re(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=oe(t);if(null!==e.asyncValidator?t.setAsyncValidators(re(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Ae(e._rawValidators,n),Ae(e._rawAsyncValidators,n)}}function Me(t,e,n){if(null!==t){if(null!==e.validator){const n=ie(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=oe(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};Ae(e._rawValidators,t),Ae(e._rawAsyncValidators,t)}}function Pe(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Le(t,e){je(t,e,!1)}function Re(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const Ne=[Ft,ye,pe,Oe,Se,me];function De(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Ve(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Bt?n=t:(e=t,Ne.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function Ue(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fe="VALID",ze="INVALID",qe="PENDING",Be="DISABLED";function He(t){return(Qe(t)?t.validators:t)||null}function We(t){return Array.isArray(t)?ee(t):t||null}function Ge(t,e){return(Qe(e)?e.asyncValidators:t)||null}function $e(t){return Array.isArray(t)?ne(t):t||null}function Qe(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ke{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=We(this._rawValidators),this._composedAsyncValidatorFn=$e(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Fe}get invalid(){return this.status===ze}get pending(){return this.status==qe}get disabled(){return this.status===Be}get enabled(){return this.status!==Be}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=We(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$e(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=qe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Be,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fe,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Fe&&this.status!==qe||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Be:Fe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=qe,this._hasOwnPendingAsyncValidator=!0;const e=Yt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ye?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ze&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Be:this.errors?ze:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qe)?qe:this._anyControlsHaveStatus(ze)?ze:Fe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qe(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Je extends Ke{constructor(t=null,e,n){super(He(e),Ge(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ue(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ue(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ye extends Ke{constructor(t,e,n){super(He(e),Ge(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Je?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ze extends Ke{constructor(t,e,n){super(He(e),Ge(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Je?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Xe={provide:ae,useExisting:Object(r.U)(()=>en)},tn=(()=>Promise.resolve(null))();let en=(()=>{class t extends ae{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Ye({},ee(t),ne(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tn.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ke(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Ue(this._directives,t)})}addFormGroup(t){tn.then(()=>{const e=this._findContainer(t.path),n=new Ye({});Le(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tn.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){tn.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,De(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gt,10),r.Jb($t,10))},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Tb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.yb([Xe]),r.wb]}),t})();const nn={provide:ce,useExisting:Object(r.U)(()=>on)},rn=(()=>Promise.resolve(null))();let on=(()=>{class t extends ce{constructor(t,e,n,i){super(),this.control=new Je,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ve(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Re(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Te(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ke(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;rn.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ae,9),r.Jb(Gt,10),r.Jb($t,10),r.Jb(Vt,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.yb([nn]),r.wb,r.xb]}),t})(),sn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const an=new r.q("NgModelWithFormControlWarning"),un={provide:ae,useExisting:Object(r.U)(()=>cn)};let cn=(()=>{class t extends ae{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ke(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Ue(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Le(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Le(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,De(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),Me(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&ke(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){je(this.form,this,!1),this._oldForm&&Me(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Gt,10),r.Jb($t,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Tb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.yb([un]),r.wb,r.xb]}),t})();const ln={provide:ce,useExisting:Object(r.U)(()=>hn)};let hn=(()=>{class t extends ce{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ve(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),Re(e,this.viewModel)&&(function(t,e,n,i){Object(r.V)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Te(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ae,13),r.Jb(Gt,10),r.Jb($t,10),r.Jb(Vt,10),r.Jb(an,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.yb([ln]),r.wb,r.xb]}),t._ngModelWarningSentOnce=!1,t})();const fn={provide:Gt,useExisting:Object(r.U)(()=>dn),multi:!0};let dn=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Kt.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Ab("required",e.required?"":null)},inputs:{required:"required"},features:[r.yb([fn])]}),t})(),pn=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),gn=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ye(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Je(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ze(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Je||t instanceof Ye||t instanceof Ze?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),bn=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[be],imports:[pn]}),t})(),mn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:an,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[gn,be],imports:[pn]}),t})();var vn=n("LRne"),yn=n("XNiG"),_n=n("9ppp");class wn extends yn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _n.a;return this._value}next(t){super.next(this._value=t)}}var On=n("z+Ro"),Cn=n("7o/Q");class En extends Cn.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class In extends Cn.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Sn=n("SeVD");function xn(t,e,n,r,i=new In(t,n,r)){if(!i.closed)return e instanceof Mt.a?e.subscribe(i):Object(Sn.a)(e)(i)}var Tn=n("yCtX");const kn={};class An{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new jn(t,this.resultSelector))}}class jn extends En{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(xn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===kn?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Mn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pn=n("EY2u");function Ln(t){return new Mt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Nt.a)(n):Object(Pn.b)()).subscribe(e)})}var Rn=n("bHdf");function Nn(){return Object(Rn.a)(1)}function Dn(t,e){return function(n){return n.lift(new Vn(t,e))}}class Vn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Un(t,this.predicate,this.thisArg))}}class Un extends Cn.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Fn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function zn(t){return function(e){return 0===t?Object(Pn.b)():e.lift(new qn(t))}}class qn{constructor(t){if(this.total=t,this.total<0)throw new Fn}call(t,e){return e.subscribe(new Bn(t,this.total))}}class Bn extends Cn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Hn(t=$n){return e=>e.lift(new Wn(t))}class Wn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Gn(t,this.errorFactory))}}class Gn extends Cn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function $n(){return new Mn}function Qn(t=null){return e=>e.lift(new Kn(t))}class Kn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Jn(t,this.defaultValue))}}class Jn extends Cn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Yn=n("SpAZ"),Zn=n("zx2A");function Xn(t,e){return"function"==typeof e?n=>n.pipe(Xn((n,r)=>Object(Nt.a)(t(n,r)).pipe(Object(Lt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new tr(t))}class tr{constructor(t){this.project=t}call(t,e){return e.subscribe(new er(t,this.project))}}class er extends Zn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Zn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Zn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function nr(t){return e=>0===t?Object(Pn.b)():e.lift(new rr(t))}class rr{constructor(t){if(this.total=t,this.total<0)throw new Fn}call(t,e){return e.subscribe(new ir(t,this.total))}}class ir extends Cn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function or(...t){return Nn()(Object(vn.a)(...t))}function sr(...t){const e=t[t.length-1];return Object(On.a)(e)?(t.pop(),n=>or(t,n,e)):e=>or(t,e)}function ar(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ur(t,e,n))}}class ur{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new cr(t,this.accumulator,this.seed,this.hasSeed))}}class cr extends Cn.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function lr(t){return function(e){const n=new hr(t),r=e.lift(n);return n.caught=r}}class hr{constructor(t){this.selector=t}call(t,e){return e.subscribe(new fr(t,this.selector,this.caught))}}class fr extends Zn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Zn.a(this);this.add(r);const i=Object(Zn.c)(n,r);i!==r&&this.add(i)}}}var dr=n("5+tZ");function pr(t,e){return Object(dr.b)(t,e,1)}function gr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dn((e,n)=>t(e,n,r)):Yn.a,nr(1),n?Qn(e):Hn(()=>new Mn))}var br=n("vkgz"),mr=n("quSY");function vr(t){return e=>e.lift(new yr(t))}class yr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new _r(t,this.callback))}}class _r extends Cn.a{constructor(t,e){super(t),this.add(new mr.a(e))}}class wr{constructor(t,e){this.id=t,this.url=e}}class Or extends wr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cr extends wr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends wr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ir extends wr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sr extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends wr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kr extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar extends wr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vr="primary";class Ur{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fr(t){return new Ur(t)}function zr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function qr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Br(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Hr(t[i],e[i]))return!1;return!0}function Hr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Wr(t){return Array.prototype.concat.apply([],t)}function Gr(t){return t.length>0?t[t.length-1]:null}function $r(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qr(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Nt.a)(Promise.resolve(t)):Object(vn.a)(t)}function Kr(t,e,n){return n?function(t,e){return Br(t,e)}(t.queryParams,e.queryParams)&&Jr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Hr(t[n],e[n]))}(t.queryParams,e.queryParams)&&Yr(t.root,e.root)}function Jr(t,e){if(!ni(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Jr(t.children[n],e.children[n]))return!1}return!0}function Yr(t,e){return Zr(t,e,e.segments)}function Zr(t,e,n){if(t.segments.length>n.length)return!!ni(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ni(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Yr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ni(t.segments,r)&&!!t.children.primary&&Zr(t.children.primary,e,i)}}class Xr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fr(this.queryParams)),this._queryParamMap}toString(){return si.serialize(this)}}class ti{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$r(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ai(this)}}class ei{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fr(this.parameters)),this._parameterMap}toString(){return pi(this)}}function ni(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ri(t,e){let n=[];return $r(t.children,(t,r)=>{r===Vr&&(n=n.concat(e(t,r)))}),$r(t.children,(t,r)=>{r!==Vr&&(n=n.concat(e(t,r)))}),n}class ii{}class oi{parse(t){const e=new yi(t);return new Xr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+ui(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${li(e)}=${li(t)}`).join("&"):`${li(e)}=${li(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const si=new oi;function ai(t){return t.segments.map(t=>pi(t)).join("/")}function ui(t,e){if(!t.hasChildren())return ai(t);if(e){const e=t.children.primary?ui(t.children.primary,!1):"",n=[];return $r(t.children,(t,e)=>{e!==Vr&&n.push(`${e}:${ui(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=ri(t,(e,n)=>n===Vr?[ui(t.children.primary,!1)]:[`${n}:${ui(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ai(t)}/${e[0]}`:`${ai(t)}/(${e.join("//")})`}}function ci(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function li(t){return ci(t).replace(/%3B/gi,";")}function hi(t){return ci(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fi(t){return decodeURIComponent(t)}function di(t){return fi(t.replace(/\+/g,"%20"))}function pi(t){return`${hi(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${hi(t)}=${hi(e[t])}`).join("")}`;var e}const gi=/^[^\/()?;=#]+/;function bi(t){const e=t.match(gi);return e?e[0]:""}const mi=/^[^=?&#]+/,vi=/^[^?&#]+/;class yi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ti([],{}):new ti([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ti(t,e)),n}parseSegment(){const t=bi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ei(fi(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=bi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=bi(this.remaining);t&&(n=t,this.capture(n))}t[fi(e)]=fi(n)}parseQueryParam(t){const e=function(t){const e=t.match(mi);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(vi);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=di(e),i=di(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=bi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Vr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new ti([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _i{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wi(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Oi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Oi(t,this._root).map(t=>t.value)}}function wi(t,e){if(t===e.value)return e;for(const n of e.children){const e=wi(t,n);if(e)return e}return null}function Oi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Oi(t,n);if(r.length)return r.unshift(e),r}return[]}class Ci{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ei(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ii extends _i{constructor(t,e){super(t),this.snapshot=e,ji(this,t)}toString(){return this.snapshot.toString()}}function Si(t,e){const n=function(t,e){const n=new ki([],{},{},"",{},Vr,e,null,t.root,-1,{});return new Ai("",new Ci(n,[]))}(t,e),r=new wn([new ei("",{})]),i=new wn({}),o=new wn({}),s=new wn({}),a=new wn(""),u=new xi(r,i,s,a,o,Vr,e,n.root);return u.snapshot=n.root,new Ii(new Ci(u,[]),n)}class xi{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Lt.a)(t=>Fr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Lt.a)(t=>Fr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ti(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ki{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ai extends _i{constructor(t,e){super(e),this.url=t,ji(this,e)}toString(){return Mi(this._root)}}function ji(t,e){e.value._routerState=t,e.children.forEach(e=>ji(t,e))}function Mi(t){const e=t.children.length>0?` { ${t.children.map(Mi).join(", ")} } `:"";return`${t.value}${e}`}function Pi(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Br(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Br(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Br(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Br(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Li(t,e){return Br(t.params,e.params)&&function(t,e){return ni(t,e)&&t.every((t,n)=>Br(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Li(t.parent,e.parent))}function Ri(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Ri(t,e,r);return Ri(t,e)})}(t,e,n);return new Ci(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Ni(e,t),t}{const n=new xi(new wn((r=e.value).url),new wn(r.params),new wn(r.queryParams),new wn(r.fragment),new wn(r.data),r.outlet,r.component,r),i=e.children.map(e=>Ri(t,e));return new Ci(n,i)}}var r}function Ni(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ni(t.children[n],e.children[n])}function Di(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vi(t){return"object"==typeof t&&null!=t&&t.outlets}function Ui(t,e,n,r,i){let o={};return r&&$r(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Xr(n.root===t?e:Fi(n.root,t,e),o,i)}function Fi(t,e,n){const r={};return $r(t.children,(t,i)=>{r[i]=t===e?n:Fi(t,e,n)}),new ti(t.segments,r)}class zi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Di(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Vi);if(r&&r!==Gr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Bi(t,e,n){if(t||(t=new ti([],{})),0===t.segments.length&&t.hasChildren())return Hi(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Vi(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Qi(a,u,e))return o;r+=2}else{if(!Qi(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ti(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ti(t.segments.slice(r.pathIndex),t.children),Hi(e,0,i)}return r.match&&0===i.length?new ti(t.segments,{}):r.match&&!t.hasChildren()?Wi(t,e,n):r.match?Hi(t,0,i):Wi(t,e,n)}function Hi(t,e,n){if(0===n.length)return new ti(t.segments,{});{const r=function(t){return Vi(t[0])?t[0].outlets:{[Vr]:t}}(n),i={};return $r(r,(n,r)=>{null!==n&&(i[r]=Bi(t.children[r],e,n))}),$r(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ti(t.segments,i)}}function Wi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Vi(o)){const t=Gi(o.outlets);return new ti(r,t)}if(0===i&&Di(n[0])){r.push(new ei(t.segments[e].path,n[0])),i++;continue}const s=Vi(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Di(a)?(r.push(new ei(s,$i(a))),i+=2):(r.push(new ei(s,{})),i++)}return new ti(r,{})}function Gi(t){const e={};return $r(t,(t,n)=>{null!==t&&(e[n]=Wi(new ti([],{}),0,t))}),e}function $i(t){const e={};return $r(t,(t,n)=>e[n]=""+t),e}function Qi(t,e,n){return t==n.path&&Br(e,n.parameters)}class Ki{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Pi(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ei(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),$r(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Ei(t),i=t.value.component?n.children:e;$r(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Ei(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Nr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Lr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Pi(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ji(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ji(t){Pi(t.value),t.children.forEach(Ji)}class Yi{constructor(t,e){this.routes=t,this.module=e}}function Zi(t){return"function"==typeof t}function Xi(t){return t instanceof Xr}const to=Symbol("INITIAL_VALUE");function eo(){return Xn(t=>function(...t){let e=void 0,n=void 0;return Object(On.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Pt.a)(t[0])&&(t=t[0]),Object(Tn.a)(t,n).lift(new An(e))}(...t.map(t=>t.pipe(nr(1),sr(to)))).pipe(ar((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==to)return t;if(r===to&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Xi(r))return r}return t},t)},to),Dn(t=>t!==to),Object(Lt.a)(t=>Xi(t)?t:!0===t),nr(1)))}let no=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[Jo]},encapsulation:2}),t})();function ro(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];io(r,oo(e,r))}}function io(t,e){t.children&&ro(t.children,e)}function oo(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function so(t){const e=t.children&&t.children.map(so),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Vr&&(n.component=no),n}function ao(t){return t.outlet||Vr}class uo{constructor(t){this.segmentGroup=t||null}}class co{constructor(t){this.urlTree=t}}function lo(t){return new Mt.a(e=>e.error(new uo(t)))}function ho(t){return new Mt.a(e=>e.error(new co(t)))}function fo(t){return new Mt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class po{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Vr).pipe(Object(Lt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(lr(t=>{if(t instanceof co)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof uo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Vr).pipe(Object(Lt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(lr(t=>{if(t instanceof uo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ti([],{[Vr]:t}):t;return new Xr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Lt.a)(t=>new ti([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(vn.a)({});const n=[],r=[],i={};return $r(t,(t,o)=>{const s=e(o,t).pipe(Object(Lt.a)(t=>i[o]=t));o===Vr?n.push(s):r.push(s)}),vn.a.apply(null,n.concat(r)).pipe(Nn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Dn((e,n)=>t(e,n,r)):Yn.a,zn(1),n?Qn(e):Hn(()=>new Mn))}(),Object(Lt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=ao(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>Object(Nt.a)(n).pipe(pr(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(lr(t=>{if(t instanceof uo)return Object(vn.a)(null);throw t}))),gr(t=>null!==t),lr(t=>{if(t instanceof Mn||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(vn.a)(new ti([],{}));throw new uo(e)}throw t})),u=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Lt.a)(()=>null),lr(()=>Object(vn.a)(null)))});return Object(Nt.a)(u).pipe(t=>t.lift(new An(void 0)),gr(),Object(Lt.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ao(r)!==o&&""!==r.path?lo(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):lo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ho(i):this.lineralizeSegments(n,i).pipe(Object(dr.b)(n=>{const i=new ti(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=go(e,r,i);if(!s)return lo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?ho(l):this.lineralizeSegments(r,l).pipe(Object(dr.b)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Lt.a)(t=>(n._loadedConfig=t,new ti(r,{})))):Object(vn.a)(new ti(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=go(e,n,r);if(!i)return lo(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(dr.b)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>mo(t,e,n)&&ao(n)!==Vr)}(t,n,r)?{segmentGroup:bo(new ti(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&ao(r)!==Vr&&(n[ao(r)]=new ti([],{}));return n}(r,new ti(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>mo(t,e,n))}(t,n,r)?{segmentGroup:bo(new ti(t.segments,function(t,e,n,r){const i={};for(const o of n)mo(t,e,o)&&!r[ao(o)]&&(i[ao(o)]=new ti([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Lt.a)(t=>new ti(o,t))):0===r.length&&0===s.length?Object(vn.a)(new ti(o,{})):this.expandSegment(n,i,r,s,Vr,!0).pipe(Object(Lt.a)(t=>new ti(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vn.a)(new Yi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(dr.b)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Lt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Mt.a(e=>e.error(zr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vn.a)(new Yi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(vn.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zi(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zi(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Qr(o)});return Object(vn.a)(i).pipe(eo(),Object(br.a)(t=>{if(!Xi(t))return;const e=zr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Lt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return fo(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Xr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return $r(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return $r(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new ti(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function go(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||qr)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function bo(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ti(t.segments.concat(e.segments),e.children)}return t}function mo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class vo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yo{constructor(t,e){this.component=t,this.route=e}}function _o(t,e,n){const r=t._root;return Oo(r,e?e._root:null,n,[r.value])}function wo(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Oo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ei(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ni(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ni(t.url,e.url)||!Br(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Li(t,e)||!Br(t.queryParams,e.queryParams);case"paramsChange":default:return!Li(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vo(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Oo(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yo(a.outlet.component,s))}else s&&Co(e,a,i),i.canActivateChecks.push(new vo(r)),Oo(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),$r(o,(t,e)=>Co(t,n.getContext(e),i)),i}function Co(t,e,n){const r=Ei(t),i=t.value;$r(r,(t,r)=>{Co(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new yo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Eo(t,e){return null!==t&&e&&e(new Rr(t)),Object(vn.a)(!0)}function Io(t,e){return null!==t&&e&&e(new Pr(t)),Object(vn.a)(!0)}function So(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vn.a)(!0);const i=r.map(r=>Ln(()=>{const i=wo(r,e,n);let o;if(function(t){return t&&Zi(t.canActivate)}(i))o=Qr(i.canActivate(e,t));else{if(!Zi(i))throw new Error("Invalid CanActivate guard");o=Qr(i(e,t))}return o.pipe(gr())}));return Object(vn.a)(i).pipe(eo())}function xo(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ln(()=>{const i=e.guards.map(i=>{const o=wo(i,e.node,n);let s;if(function(t){return t&&Zi(t.canActivateChild)}(o))s=Qr(o.canActivateChild(r,t));else{if(!Zi(o))throw new Error("Invalid CanActivateChild guard");s=Qr(o(r,t))}return s.pipe(gr())});return Object(vn.a)(i).pipe(eo())}));return Object(vn.a)(i).pipe(eo())}class To{}class ko{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Mo(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Vr),n=new ki([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ci(n,e),i=new Ai(this.url,r);return this.inheritParamsAndData(i._root),Object(vn.a)(i)}catch(t){return new Mt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Ti(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ri(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Vr?-1:e.value.outlet===Vr?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof To))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new To}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new To;if((t.outlet||Vr)!==r)throw new To;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Gr(n).parameters:{};i=new ki(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ro(t),r,t.component,t,Ao(e),jo(e)+n.length,No(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new To;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||qr)(n,t,e);if(!r)throw new To;const i={};$r(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new ki(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ro(t),r,t.component,t,Ao(e),jo(e)+o.length,No(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Mo(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Ci(i,t)]}if(0===a.length&&0===c.length)return[new Ci(i,[])];const l=this.processSegment(a,u,c,Vr);return[new Ci(i,l)]}}function Ao(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jo(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Mo(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Po(t,e,n)&&Lo(n)!==Vr)}(t,n,r)){const i=new ti(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Lo(o)!==Vr){const n=new ti([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Lo(o)]=n}return i}(t,e,r,new ti(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Po(t,e,n))}(t,n,r)){const o=new ti(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Po(t,n,a)&&!i[Lo(a)]){const n=new ti([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Lo(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ti(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Po(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Lo(t){return t.outlet||Vr}function Ro(t){return t.data||{}}function No(t){return t.resolve||{}}function Do(t){return function(e){return e.pipe(Xn(e=>{const n=t(e);return n?Object(Nt.a)(n).pipe(Object(Lt.a)(()=>e)):Object(Nt.a)([e])}))}}class Vo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Uo=new r.q("ROUTES");class Fo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Lt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Yi(Wr(r.injector.get(Uo)).map(so),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Nt.a)(this.loader.load(t)):Qr(t()).pipe(Object(dr.b)(t=>t instanceof r.v?Object(vn.a)(t):Object(Nt.a)(this.compiler.compileModuleAsync(t))))}}class zo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qo,this.attachRef=null}}class qo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new zo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Bo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ho(t){throw t}function Wo(t,e,n){return e.parse("/")}function Go(t,e){return Object(vn.a)(null)}let $o=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new yn.a,this.errorHandler=Ho,this.malformedUriErrorHandler=Wo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Go,afterPreactivation:Go},this.urlHandlingStrategy=new Bo,this.routeReuseStrategy=new Vo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.Y);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new Xr(new ti([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fo(s,a,t=>this.triggerEvent(new jr(t)),t=>this.triggerEvent(new Mr(t))),this.routerState=Si(this.currentUrlTree,this.rootComponentType),this.transitions=new wn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Dn(t=>0!==t.id),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Xn(t=>{let n=!1,r=!1;return Object(vn.a)(t).pipe(Object(br.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vn.a)(t).pipe(Xn(t=>{const n=this.transitions.getValue();return e.next(new Or(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pn.a:[t]}),Xn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Xn(t=>function(t,e,n,r,i){return new po(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Lt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(br.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(dr.b)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new ko(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Lt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(br.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(br.a)(t=>{const n=new Sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Or(n,this.serializeUrl(r),i,o);e.next(a);const u=Si(r,this.rootComponentType).snapshot;return Object(vn.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pn.a}),Do(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(br.a)(t=>{const e=new xr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{guards:_o(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(dr.b)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(vn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Nt.a)(t).pipe(Object(dr.b)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(vn.a)(!0);const s=o.map(o=>{const s=wo(o,e,i);let a;if(function(t){return t&&Zi(t.canDeactivate)}(s))a=Qr(s.canDeactivate(t,e,n,r));else{if(!Zi(s))throw new Error("Invalid CanDeactivate guard");a=Qr(s(t,e,n,r))}return a.pipe(gr())});return Object(vn.a)(s).pipe(eo())}(t.component,t.route,n,e,r)),gr(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(dr.b)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Nt.a)(e).pipe(pr(e=>Object(Nt.a)([Io(e.route.parent,r),Eo(e.route,r),xo(t,e.path,n),So(t,e.route,n)]).pipe(Nn(),gr(t=>!0!==t,!0))),gr(t=>!0!==t,!0))}(r,o,t,e):Object(vn.a)(n)),Object(Lt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(br.a)(t=>{if(Xi(t.guardsResult)){const e=zr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(br.a)(t=>{const e=new Tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Dn(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Er(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Do(t=>{if(t.guards.canActivateChecks.length)return Object(vn.a)(t).pipe(Object(br.a)(t=>{const e=new kr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Xn(t=>{let n=!1;return Object(vn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(dr.b)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vn.a)(t);let o=0;return Object(Nt.a)(n).pipe(pr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vn.a)({});const o={};return Object(Nt.a)(i).pipe(Object(dr.b)(i=>function(t,e,n,r){const i=wo(t,e,r);return Qr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(br.a)(t=>{o[i]=t}))),zn(1),Object(dr.b)(()=>Object.keys(o).length===i.length?Object(vn.a)(o):Pn.a))}(t._resolve,t,e,r).pipe(Object(Lt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ti(t,n).resolve),null)))}(t.route,e,r,i)),Object(br.a)(()=>o++),zn(1),Object(dr.b)(e=>o===n.length?Object(vn.a)(t):Pn.a))}))}),Object(br.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Er(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(br.a)(t=>{const e=new Ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Do(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Lt.a)(t=>{const e=function(t,e,n){const r=Ri(t,e._root,n?n._root:void 0);return new Ii(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(br.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Lt.a)(t=>(new Ki(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(br.a)({next(){n=!0},complete(){n=!0}}),vr(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Er(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),lr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Xi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Er(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ir(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Rf){t.reject(Rf)}}var i;return Pn.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ro(t),this.config=t.map(so),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ui(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return $r(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new zi(n,e,r)}(n);if(o.toRoot())return Ui(e.root,new ti([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new qi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new qi(t,t===e.root,0)}const r=Di(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Hi(s.segmentGroup,s.index,o.commands):Bi(s.segmentGroup,s.index,o.commands);return Ui(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Xi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Xi(t))return Kr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Kr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Cr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.N),r.Qb(ii),r.Qb(qo),r.Qb(O),r.Qb(r.r),r.Qb(r.w),r.Qb(r.i),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Qo=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new yn.a,this.subscription=t.events.subscribe(t=>{t instanceof Cr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Ko(this.skipLocationChange),replaceUrl:Ko(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ko(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb($o),r.Jb(xi),r.Jb(m))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Tb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Pb("href",e.href,r.kc),r.Ab("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.xb]}),t})();function Ko(t){return""===t||!!t}let Jo=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Vr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Yo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(qo),r.Jb(r.Q),r.Jb(r.j),r.Rb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Yo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xi?this.route:t===qo?this.childContexts:this.parent.get(t,e)}}class Zo{}class Xo{preload(t,e){return Object(vn.a)(null)}}let ts=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Fo(e,n,e=>t.triggerEvent(new jr(e)),e=>t.triggerEvent(new Mr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(t=>t instanceof Cr),pr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Nt.a)(n).pipe(Object(Rn.a)(),Object(Lt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(dr.b)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb($o),r.Qb(r.w),r.Qb(r.i),r.Qb(r.r),r.Qb(Zo))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),es=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Dr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb($o),r.Qb(Z),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ns=new r.q("ROUTER_CONFIGURATION"),rs=new r.q("ROUTER_FORROOT_GUARD"),is=[O,{provide:ii,useClass:oi},{provide:$o,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new $o(null,t,e,n,r,i,o,Wr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ii,qo,O,r.r,r.w,r.i,Uo,ns,[class{},new r.A],[class{},new r.A]]},qo,{provide:xi,useFactory:function(t){return t.routerState.root},deps:[$o]},{provide:r.w,useClass:r.K},ts,Xo,class{preload(t,e){return e().pipe(lr(()=>Object(vn.a)(null)))}},{provide:ns,useValue:{enableTracing:!1}}];function os(){return new r.y("Router",$o)}let ss=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[is,ls(e),{provide:rs,useFactory:cs,deps:[[$o,new r.A,new r.J]]},{provide:ns,useValue:n||{}},{provide:m,useFactory:us,deps:[u,[new r.p(y),new r.A],ns]},{provide:es,useFactory:as,deps:[$o,Z,ns]},{provide:Zo,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xo},{provide:r.y,multi:!0,useFactory:os},[hs,{provide:r.d,multi:!0,useFactory:fs,deps:[hs]},{provide:ps,useFactory:ds,deps:[hs]},{provide:r.b,multi:!0,useExisting:ps}]]}}static forChild(e){return{ngModule:t,providers:[ls(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(rs,8),r.Qb($o,8))}}),t})();function as(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new es(t,e,n)}function us(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function cs(t){return"guarded"}function ls(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Uo,multi:!0,useValue:t}]}let hs=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new yn.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get($o),r=this.injector.get(ns);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(vn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ns),n=this.injector.get(ts),i=this.injector.get(es),o=this.injector.get($o),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function fs(t){return t.appInitializer.bind(t)}function ds(t){return t.bootstrapListener.bind(t)}const ps=new r.q("Router Initializer");var gs={prefix:"fas",iconName:"check-circle",icon:[512,512,[],"f058","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"]},bs={prefix:"fas",iconName:"chevron-left",icon:[320,512,[],"f053","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"]},ms={prefix:"fas",iconName:"chevron-right",icon:[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"]},vs={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"]},ys={prefix:"fas",iconName:"map-marker-alt",icon:[384,512,[],"f3c5","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]},_s={prefix:"fas",iconName:"phone-volume",icon:[384,512,[],"f2a0","M97.333 506.966c-129.874-129.874-129.681-340.252 0-469.933 5.698-5.698 14.527-6.632 21.263-2.422l64.817 40.513a17.187 17.187 0 0 1 6.849 20.958l-32.408 81.021a17.188 17.188 0 0 1-17.669 10.719l-55.81-5.58c-21.051 58.261-20.612 122.471 0 179.515l55.811-5.581a17.188 17.188 0 0 1 17.669 10.719l32.408 81.022a17.188 17.188 0 0 1-6.849 20.958l-64.817 40.513a17.19 17.19 0 0 1-21.264-2.422zM247.126 95.473c11.832 20.047 11.832 45.008 0 65.055-3.95 6.693-13.108 7.959-18.718 2.581l-5.975-5.726c-3.911-3.748-4.793-9.622-2.261-14.41a32.063 32.063 0 0 0 0-29.945c-2.533-4.788-1.65-10.662 2.261-14.41l5.975-5.726c5.61-5.378 14.768-4.112 18.718 2.581zm91.787-91.187c60.14 71.604 60.092 175.882 0 247.428-4.474 5.327-12.53 5.746-17.552.933l-5.798-5.557c-4.56-4.371-4.977-11.529-.93-16.379 49.687-59.538 49.646-145.933 0-205.422-4.047-4.85-3.631-12.008.93-16.379l5.798-5.557c5.022-4.813 13.078-4.394 17.552.933zm-45.972 44.941c36.05 46.322 36.108 111.149 0 157.546-4.39 5.641-12.697 6.251-17.856 1.304l-5.818-5.579c-4.4-4.219-4.998-11.095-1.285-15.931 26.536-34.564 26.534-82.572 0-117.134-3.713-4.836-3.115-11.711 1.285-15.931l5.818-5.579c5.159-4.947 13.466-4.337 17.856 1.304z"]},ws={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},Os={prefix:"fas",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"]},Cs={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"]};function Es(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}var Is=n("VRyK"),Ss=n("pxpQ"),xs=n("qgXg"),Ts=n("Ylt2");class ks extends yn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new As(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new _n.a;if(this.isStopped||this.hasError?o=mr.a.EMPTY:(this.observers.push(t),o=new Ts.a(this,t)),r&&t.add(t=new Ss.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||xs.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class As{constructor(t,e){this.time=t,this.value=e}}function js(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new ks(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Ms(t,e){return e?Xn(()=>t,e):Xn(()=>t)}var Ps=n("tf+s"),Ls=n("spgP");const Rs=new r.q("angularfire2.auth.use-emulator"),Ns=new r.q("angularfire2.auth.settings"),Ds=new r.q("angularfire2.auth.tenant-id"),Vs=new r.q("angularfire2.auth.langugage-code"),Us=new r.q("angularfire2.auth.use-device-language"),Fs=new r.q("angularfire.auth.persistence");let zs=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ls.d(i),f=Object(Ls.h)(h),d=new yn.a,p=Object(vn.a)(void 0).pipe(Object(Ss.b)(h.outsideAngular),Xn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Lt.a)(()=>Object(Ls.g)(t,i,e)),Object(Lt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ls.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),js({bufferSize:1,refCount:!1}));if(Y(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vn.a)(null);else{p.pipe(gr()).subscribe();const t=p.pipe(Xn(t=>t.getRedirectResult().then(t=>t,()=>null)),f,js({bufferSize:1,refCount:!1})),e=t=>new Mt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Xn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Xn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Ms(n),Object(Ps.a)(h.outsideAngular),Object(Ss.b)(h.insideAngular)),this.user=t.pipe(Ms(r),Object(Ps.a)(h.outsideAngular),Object(Ss.b)(h.insideAngular)),this.idToken=this.user.pipe(Xn(t=>t?Object(Nt.a)(t.getIdToken()):Object(vn.a)(null))),this.idTokenResult=this.user.pipe(Xn(t=>t?Object(Nt.a)(t.getIdTokenResult()):Object(vn.a)(null))),this.credential=Object(Is.a)(t,d,this.authState.pipe(Dn(t=>!t))).pipe(Object(Lt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Ps.a)(h.outsideAngular),Object(Ss.b)(h.insideAngular))}return Object(Ls.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ls.c),r.Qb(Ls.b,8),r.Qb(r.B),r.Qb(r.z),r.Qb(Rs,8),r.Qb(Ns,8),r.Qb(Ds,8),r.Qb(Vs,8),r.Qb(Us,8),r.Qb(Fs,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(Ls.c),Object(r.Qb)(Ls.b,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(Rs,8),Object(r.Qb)(Ns,8),Object(r.Qb)(Ds,8),Object(r.Qb)(Vs,8),Object(r.Qb)(Us,8),Object(r.Qb)(Fs,8))},token:t,providedIn:"any"}),t})();Object(Ls.e)(zs,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let qs=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[zs]}),t})();var Bs=n("D0XW");function Hs(){return t=>t.lift(new Ws)}class Ws{call(t,e){return e.subscribe(new Gs(t))}}class Gs extends Cn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class $s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Qs(t,this.compare,this.keySelector))}}class Qs extends Cn.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ks=n("Jgta"),Js=n("30Go"),Ys=n("zIRd"),Zs=n("q/0M"),Xs=n("qOnz"),ta=function(t,e){return(ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ea(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var na,ra="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ia=ia||{},oa=ra||self;function sa(){}function aa(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ua(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ca="closure_uid_"+(1e9*Math.random()>>>0),la=0;function ha(t,e,n){return t.call.apply(t.bind,arguments)}function fa(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function da(t,e,n){return(da=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:fa).apply(null,arguments)}function pa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ga(){return Date.now()}function ba(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ma(){this.j=this.j,this.i=this.i}ma.prototype.j=!1,ma.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ca)&&t[ca]||(t[ca]=++la)}(this)},ma.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var va=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ya=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function _a(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Oa(t){return/^[\s\xa0]*$/.test(t)}var Ca,Ea=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ia(t,e){return-1!=t.indexOf(e)}function Sa(t,e){return t<e?-1:t>e?1:0}t:{var xa=oa.navigator;if(xa){var Ta=xa.userAgent;if(Ta){Ca=Ta;break t}}Ca=""}function ka(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Aa(t){var e={};for(var n in t)e[n]=t[n];return e}var ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ma(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ja.length;o++)n=ja[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pa(t){return Pa[" "](t),t}Pa[" "]=sa;var La,Ra,Na=Ia(Ca,"Opera"),Da=Ia(Ca,"Trident")||Ia(Ca,"MSIE"),Va=Ia(Ca,"Edge"),Ua=Va||Da,Fa=Ia(Ca,"Gecko")&&!(Ia(Ca.toLowerCase(),"webkit")&&!Ia(Ca,"Edge"))&&!(Ia(Ca,"Trident")||Ia(Ca,"MSIE"))&&!Ia(Ca,"Edge"),za=Ia(Ca.toLowerCase(),"webkit")&&!Ia(Ca,"Edge");function qa(){var t=oa.document;return t?t.documentMode:void 0}t:{var Ba="",Ha=(Ra=Ca,Fa?/rv:([^\);]+)(\)|;)/.exec(Ra):Va?/Edge\/([\d\.]+)/.exec(Ra):Da?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ra):za?/WebKit\/(\S+)/.exec(Ra):Na?/(?:Version)[ \/]?(\S+)/.exec(Ra):void 0);if(Ha&&(Ba=Ha?Ha[1]:""),Da){var Wa=qa();if(null!=Wa&&Wa>parseFloat(Ba)){La=String(Wa);break t}}La=Ba}var Ga={};function $a(t){return function(t,e){var n=Ga;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ea(String(La)).split("."),r=Ea(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Sa(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Sa(0==s[2].length,0==a[2].length)||Sa(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Qa=oa.document&&Da&&(qa()||parseInt(La,10))||void 0,Ka=!Da||9<=Number(Qa),Ja=Da&&!$a("9"),Ya=function(){if(!oa.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oa.addEventListener("test",sa,e),oa.removeEventListener("test",sa,e)}catch(n){}return t}();function Za(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Xa(t,e){if(Za.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Fa){t:{try{Pa(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tu[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Za.prototype.b=function(){this.defaultPrevented=!0},ba(Xa,Za);var tu={2:"touch",3:"pen",4:"mouse"};Xa.prototype.b=function(){Xa.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ja)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var eu="closure_listenable_"+(1e6*Math.random()|0),nu=0;function ru(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++nu,this.Y=this.Z=!1}function iu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ou(t){this.src=t,this.a={},this.b=0}function su(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=va(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(iu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function au(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ou.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=au(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ru(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var uu="closure_lm_"+(1e6*Math.random()|0),cu={};function lu(t,e,n,r,i){if(r&&r.once)return fu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)lu(t,e[o],n,r,i);return null}return n=_u(n),t&&t[eu]?t.va(e,n,ua(r)?!!r.capture:!!r,i):hu(t,e,n,!1,r,i)}function hu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ua(i)?!!i.capture:!!i;if(s&&!Ka)return null;var a=vu(t);if(a||(t[uu]=a=new ou(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=mu,e=Ka?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ya||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)fu(t,e[o],n,r,i);return null}return n=_u(n),t&&t[eu]?t.wa(e,n,ua(r)?!!r.capture:!!r,i):hu(t,e,n,!0,r,i)}function du(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)du(t,e[o],n,r,i);else r=ua(r)?!!r.capture:!!r,n=_u(n),t&&t[eu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=au(o=t.a[e],n,r,i))&&(iu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=au(e,n,r,i)),(n=-1<t?e[t]:null)&&pu(n))}function pu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[eu])su(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vu(e))?(su(n,t),0==n.b&&(n.src=null,e[uu]=null)):iu(t)}}}function gu(t){return t in cu?cu[t]:cu[t]="on"+t}function bu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&pu(t),n.call(r,e)}function mu(t,e){if(t.Y)return!0;if(!Ka){if(!e)t:{e=["window","event"];for(var n=oa,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return bu(t,e=new Xa(e,this))}return bu(t,new Xa(e,this))}function vu(t){return(t=t[uu])instanceof ou?t:null}var yu="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(t){return"function"==typeof t?t:(t[yu]||(t[yu]=function(e){return t.handleEvent(e)}),t[yu])}function wu(){ma.call(this),this.c=new ou(this),this.J=this,this.C=null}function Ou(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Za(e,t);else if(e instanceof Za)e.target=e.target||t;else{var i=e;Ma(e=new Za(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Cu(s,r,!0,e)&&i}if(i=Cu(s=e.a=t,r,!0,e)&&i,i=Cu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Cu(s=e.a=n[o],r,!1,e)&&i}function Cu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&su(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ba(wu,ma),wu.prototype[eu]=!0,(na=wu.prototype).addEventListener=function(t,e,n,r){lu(this,t,e,n,r)},na.removeEventListener=function(t,e,n,r){du(this,t,e,n,r)},na.G=function(){if(wu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)iu(n[r]);delete e.a[t],e.b--}}this.C=null},na.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},na.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Eu=oa.JSON.stringify;function Iu(){this.b=this.a=null}var Su,xu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ku},function(t){t.reset()});function Tu(){var t=Pu,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ku(){this.next=this.b=this.a=null}function Au(t){oa.setTimeout(function(){throw t},0)}function ju(t,e){Su||function(){var t=oa.Promise.resolve(void 0);Su=function(){t.then(Lu)}}(),Mu||(Su(),Mu=!0),Pu.add(t,e)}Iu.prototype.add=function(t,e){var n=xu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ku.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ku.prototype.reset=function(){this.next=this.b=this.a=null};var Mu=!1,Pu=new Iu;function Lu(){for(var t;t=Tu();){try{t.a.call(t.b)}catch(n){Au(n)}var e=xu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Mu=!1}function Ru(t,e){wu.call(this),this.b=t||1,this.a=e||oa,this.f=da(this.Za,this),this.g=ga()}function Nu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Du(t,e,n){if("function"==typeof t)n&&(t=da(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=da(t.handleEvent,t)}return 2147483647<Number(e)?-1:oa.setTimeout(t,e||0)}function Vu(t){t.a=Du(function(){t.a=null,t.c&&(t.c=!1,Vu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ba(Ru,wu),(na=Ru.prototype).aa=!1,na.M=null,na.Za=function(){if(this.aa){var t=ga()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ou(this,"tick"),this.aa&&(Nu(this),this.start()))}},na.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ga())},na.G=function(){Ru.X.G.call(this),Nu(this),delete this.a};var Uu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ta(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Vu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(oa.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ma);function Fu(t){ma.call(this),this.b=t,this.a={}}ba(Fu,ma);var zu=[];function qu(t,e,n,r){Array.isArray(n)||(n&&(zu[0]=n.toString()),n=zu);for(var i=0;i<n.length;i++){var o=lu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Bu(t){ka(t.a,function(t,e){this.a.hasOwnProperty(e)&&pu(t)},t),t.a={}}function Hu(){this.a=!0}function Wu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Eu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Fu.prototype.G=function(){Fu.X.G.call(this),Bu(this)},Fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hu.prototype.info=function(){};var Gu={},$u=null;function Qu(){return $u=$u||new wu}function Ku(t){Za.call(this,Gu.Fa,t)}function Ju(t){var e=Qu();Ou(e,new Ku(e,t))}function Yu(t,e){Za.call(this,Gu.STAT_EVENT,t),this.stat=e}function Zu(t){var e=Qu();Ou(e,new Yu(e,t))}function Xu(t){Za.call(this,Gu.Ga,t)}function tc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return oa.setTimeout(function(){t()},e)}Gu.Fa="serverreachability",ba(Ku,Za),Gu.STAT_EVENT="statevent",ba(Yu,Za),Gu.Ga="timingevent",ba(Xu,Za);var ec={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},nc={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function rc(){}function ic(){}rc.prototype.a=null;var oc,sc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ac(){Za.call(this,"d")}function uc(){Za.call(this,"c")}function cc(){}function lc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Fu(this),this.P=hc,this.R=new Ru(t=Ua?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ba(ac,Za),ba(uc,Za),ba(cc,rc),oc=new cc;var hc=45e3,fc={},dc={};function pc(t,e,n){t.H=1,t.i=Nc(Ac(e)),t.j=n,t.I=!0,gc(t,null)}function gc(t,e){t.u=ga(),vc(t),t.l=Ac(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Kc(n.b,"t",r),t.D=0,t.a=Bl(t.g,t.g.C?e:null),0<t.O&&(t.F=new Uu(da(t.Ca,t,t.a),t.O)),qu(t.J,t.a,"readystatechange",t.Xa),e=t.B?Aa(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ju(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function bc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=mc(t,n);if(i==dc){4==e&&(t.h=4,Zu(14),r=!1),Wu(t.c,t.f,null,"[Incomplete Response]");break}if(i==fc){t.h=4,Zu(15),Wu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wu(t.c,t.f,i,null),Cc(t,i)}4==e&&0==n.length&&(t.h=1,Zu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rl(e),e.F=!0,Zu(11))):(Wu(t.c,t.f,n,"[Invalid Chunked Response]"),Oc(t),wc(t))}function mc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?dc:(n=Number(e.substring(n,r)),isNaN(n)?fc:(r+=1)+n>e.length?dc:(e=e.substr(r,n),t.D=r+n,e))}function vc(t){t.T=ga()+t.P,yc(t,t.P)}function yc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=tc(da(t.Va,t),e)}function _c(t){t.o&&(oa.clearTimeout(t.o),t.o=null)}function wc(t){0==t.g.v||t.A||Vl(t.g,t)}function Oc(t){_c(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Nu(t.R),Bu(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Cc(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nl(n.b,t)))if(n.I=t.N,!t.C&&nl(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(M_){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Dl(n),Sl(n)}Ll(n),Zu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=tc(da(n.Sa,n),6e3));if(1>=el(n.b)&&n.ea){try{n.ea()}catch(M_){}n.ea=void 0}}else Fl(n,11)}else if((t.C||n.a==t)&&Dl(n),!Oa(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ia(l,"spdy")||Ia(l,"quic")||Ia(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rl(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Rc(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ga()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=ql(u,u.C?u.ga:null,u.fa),d.C){il(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(_c(p),vc(p)),u.a=d}else Pl(u);0<n.g.length&&kl(n)}else"stop"!=i[0]&&"close"!=i[0]||Fl(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Fl(n,7):Il(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ju(4)}catch(M_){}}function Ec(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(aa(t)||"string"==typeof t)ya(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(aa(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(aa(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ic(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ic)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Sc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xc(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xc(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(na=lc.prototype).setTimeout=function(t){this.P=t},na.Xa=function(t){t=t.target;var e=this.F;e&&3==wl(t)?e.f():this.Ca(t)},na.Ca=function(t){try{if(t==this.a)t:{var e=wl(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Ua&&!this.a.$())){this.A||4!=e||7==n||Ju(8==n||0>=r?3:2),_c(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oa(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Zu(12),Oc(this),wc(this);break t}Wu(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Cc(this,u)}this.I?(bc(this,e,o),Ua&&this.b&&3==e&&(qu(this.J,this.R,"tick",this.Wa),this.R.start())):(Wu(this.c,this.f,o,null),Cc(this,o)),4==e&&Oc(this),this.b&&!this.A&&(4==e?Vl(this.g,this):(this.b=!1,vc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zu(12)):(this.h=0,Zu(13)),Oc(this),wc(this)}}}catch(c){}},na.Wa=function(){if(this.a){var t=wl(this.a),e=this.a.$();this.D<e.length&&(_c(this),bc(this,t,e),this.b&&4!=t&&vc(this))}},na.cancel=function(){this.A=!0,Oc(this)},na.Va=function(){this.o=null;var t=ga();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ju(3),Zu(17)),Oc(this),this.h=2,wc(this)):yc(this,this.T-t)},(na=Ic.prototype).K=function(){Sc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},na.L=function(){return Sc(this),this.a.concat()},na.get=function(t,e){return xc(this.b,t)?this.b[t]:e},na.set=function(t,e){xc(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},na.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Tc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof kc){this.a=void 0!==e?e:t.a,jc(this,t.f),this.j=t.j,Mc(this,t.c),Pc(this,t.h),this.g=t.g,e=t.b;var n=new Wc;n.c=e.c,e.a&&(n.a=new Ic(e.a),n.b=e.b),Lc(this,n),this.i=t.i}else t&&(n=String(t).match(Tc))?(this.a=!!e,jc(this,n[1]||"",!0),this.j=Dc(n[2]||""),Mc(this,n[3]||"",!0),Pc(this,n[4]),this.g=Dc(n[5]||"",!0),Lc(this,n[6]||"",!0),this.i=Dc(n[7]||"")):(this.a=!!e,this.b=new Wc(null,this.a))}function Ac(t){return new kc(t)}function jc(t,e,n){t.f=n?Dc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Mc(t,e,n){t.c=n?Dc(e,!0):e}function Pc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Lc(t,e,n){e instanceof Wc?(t.b=e,function(t,e){e&&!t.f&&(Gc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&($c(this,e),Kc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Vc(e,Bc)),t.b=new Wc(e,t.a))}function Rc(t,e,n){t.b.set(e,n)}function Nc(t){return Rc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ga()).toString(36)),t}function Dc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Uc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Uc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vc(e,Fc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Vc(e,Fc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vc(n,"/"==n.charAt(0)?qc:zc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Vc(n,Hc)),t.join("")};var Fc=/[#\/\?@]/g,zc=/[#\?:]/g,qc=/[#\?]/g,Bc=/[#\?@]/g,Hc=/#/g;function Wc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Gc(t){t.a||(t.a=new Ic,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $c(t,e){Gc(t),e=Jc(t,e),xc(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xc((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Sc(t)))}function Qc(t,e){return Gc(t),e=Jc(t,e),xc(t.a.b,e)}function Kc(t,e,n){$c(t,e),0<n.length&&(t.c=null,t.a.set(Jc(t,e),wa(n)),t.b+=n.length)}function Jc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(na=Wc.prototype).add=function(t,e){Gc(this),this.c=null,t=Jc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},na.forEach=function(t,e){Gc(this),this.a.forEach(function(n,r){ya(n,function(n){t.call(e,n,r,this)},this)},this)},na.L=function(){Gc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},na.K=function(t){Gc(this);var e=[];if("string"==typeof t)Qc(this,t)&&(e=_a(e,this.a.get(Jc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=_a(e,t[n])}return e},na.set=function(t,e){return Gc(this),this.c=null,Qc(this,t=Jc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},na.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},na.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Yc=function(){return function(t,e){this.b=t,this.a=e}}();function Zc(t){this.g=t||Xc,t=oa.PerformanceNavigationTiming?0<(t=oa.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(oa.ia&&oa.ia.ya&&oa.ia.ya()&&oa.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Xc=10;function tl(t){return!!t.b||!!t.a&&t.a.size>=t.f}function el(t){return t.b?1:t.a?t.a.size:0}function nl(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rl(t,e){t.a?t.a.add(e):t.b=e}function il(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ol(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ea(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return wa(t.c)}function sl(){}function al(){this.a=new sl}function ul(t,e,n){var r=n||"";try{Ec(t,function(t,n){var i=t;ua(t)&&(i=Eu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Zc.prototype.cancel=function(){var t,e;if(this.c=ol(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ea(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},sl.prototype.stringify=function(t){return oa.JSON.stringify(t,void 0)},sl.prototype.parse=function(t){return oa.JSON.parse(t,void 0)};var ll=oa.JSON.parse;function hl(t){wu.call(this),this.headers=new Ic,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fl,this.D=this.F=!1}ba(hl,wu);var fl="",dl=/^https?$/i,pl=["POST","PUT"];function gl(t){return"content-type"==t.toLowerCase()}function bl(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ml(t),yl(t)}function ml(t){t.u||(t.u=!0,Ou(t,"complete"),Ou(t,"error"))}function vl(t){if(t.b&&void 0!==ia&&(!t.s[1]||4!=wl(t)||2!=t.W()))if(t.l&&4==wl(t))Du(t.za,0,t);else if(Ou(t,"readystatechange"),4==wl(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Tc)[1]||null;if(!o&&oa.self&&oa.self.location){var s=oa.self.location.protocol;o=s.substr(0,s.length-1)}i=!dl.test(o?o.toLowerCase():"")}e=i}if(e)Ou(t,"complete"),Ou(t,"success");else{t.h=6;try{var a=2<wl(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ml(t)}}finally{yl(t)}}}function yl(t,e){if(t.a){_l(t);var n=t.a,r=t.s[0]?sa:null;t.a=null,t.s=null,e||Ou(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function _l(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(oa.clearTimeout(t.m),t.m=null)}function wl(t){return t.a?t.a.readyState:0}function Ol(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ka(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Rc(t,e,n))}function Cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function El(t){this.pa=0,this.g=[],this.c=new Hu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Cl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Cl("baseRetryDelayMs",5e3,t),this.Ra=Cl("retryDelaySeedMs",1e4,t),this.Ma=Cl("forwardChannelMaxRetries",2,t),this.ma=Cl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Zc(t&&t.concurrentRequestLimit),this.ka=new al,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Il(t){if(xl(t),3==t.v){var e=t.R++,n=Ac(t.B);Rc(n,"SID",t.J),Rc(n,"RID",e),Rc(n,"TYPE","terminate"),jl(t,n),(e=new lc(t,t.c,e,void 0)).H=2,e.i=Nc(Ac(n)),n=!1,oa.navigator&&oa.navigator.sendBeacon&&(n=oa.navigator.sendBeacon(e.i.toString(),"")),!n&&oa.Image&&((new Image).src=e.i,n=!0),n||(e.a=Bl(e.g,null),e.a.ba(e.i)),e.u=ga(),vc(e)}zl(t)}function Sl(t){t.a&&(Rl(t),t.a.cancel(),t.a=null)}function xl(t){Sl(t),t.j&&(oa.clearTimeout(t.j),t.j=null),Dl(t),t.b.cancel(),t.h&&("number"==typeof t.h&&oa.clearTimeout(t.h),t.h=null)}function Tl(t,e){t.g.push(new Yc(t.Oa++,e)),3==t.v&&kl(t)}function kl(t){tl(t.b)||t.h||(t.h=!0,ju(t.Ba,t),t.u=0)}function Al(t,e){var n;n=e?e.f:t.R++;var r=Ac(t.B);Rc(r,"SID",t.J),Rc(r,"RID",n),Rc(r,"AID",t.P),jl(t,r),t.i&&t.l&&Ol(r,t.i,t.l),n=new lc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ml(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rl(t.b,n),pc(n,r,e)}function jl(t,e){t.f&&Ec({},function(t,n){Rc(e,n,t)})}function Ml(t,e,n){n=Math.min(t.g.length,n);var r=t.f?da(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ul(l,s,"req"+c+"_")}catch(wh){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Pl(t){t.a||t.j||(t.T=1,ju(t.Aa,t),t.o=0)}function Ll(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=tc(da(t.Aa,t),Ul(t,t.o)),t.o++,0))}function Rl(t){null!=t.s&&(oa.clearTimeout(t.s),t.s=null)}function Nl(t){t.a=new lc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ac(t.la);Rc(e,"RID","rpc"),Rc(e,"SID",t.J),Rc(e,"CI",t.H?"0":"1"),Rc(e,"AID",t.P),jl(t,e),Rc(e,"TYPE","xmlhttp"),t.i&&t.l&&Ol(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Nc(Ac(e)),n.j=null,n.I=!0,gc(n,t)}function Dl(t){null!=t.m&&(oa.clearTimeout(t.m),t.m=null)}function Vl(t,e){var n=null;if(t.a==e){Dl(t),Rl(t),t.a=null;var r=2}else{if(!nl(t.b,e))return;n=e.s,il(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ga()-e.u;var i=t.u;Ou(r=Qu(),new Xu(r,n,e,i)),kl(t)}else Pl(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(el(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=tc(da(t.Ba,t,e),Ul(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ll(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Fl(t,5);break;case 4:Fl(t,10);break;case 3:Fl(t,6);break;default:Fl(t,2)}}function Ul(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Fl(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=da(t.Ya,t);n||(n=new kc("//www.google.com/images/cleardot.gif"),oa.location&&"http"==oa.location.protocol||jc(n,"https"),Nc(n)),function(t,e){var n=new Hu;if(oa.Image){var r=new Image;r.onload=pa(cl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=pa(cl,n,r,"TestLoadImage: error",!1,e),r.onabort=pa(cl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=pa(cl,n,r,"TestLoadImage: timeout",!1,e),oa.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zu(2);t.v=0,t.f&&t.f.ra(e),zl(t),xl(t)}function zl(t){t.v=0,t.I=-1,t.f&&(0==ol(t.b).length&&0==t.g.length||(t.b.c.length=0,wa(t.g),t.g.length=0),t.f.qa())}function ql(t,e,n){var r=function(t){return t instanceof kc?Ac(t):new kc(t,void 0)}(n);if(""!=r.c)e&&Mc(r,e+"."+r.c),Pc(r,r.h);else{var i=oa.location;r=function(t,e,n,r){var i=new kc(null,void 0);return t&&jc(i,t),e&&Mc(i,e),n&&Pc(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ka(t.V,function(t,e){Rc(r,e,t)}),n=t.na,(e=t.A)&&n&&Rc(r,e,n),Rc(r,"VER",t.ha),jl(t,r),r}function Bl(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hl(t.Na)).F=t.C,e}function Hl(){}function Wl(){if(Da&&!(10<=Number(Qa)))throw Error("Environmental error: no available transport.")}function Gl(t,e){wu.call(this),this.a=new El(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Oa(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oa(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Kl(this)}function $l(t){ac.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ql(){uc.call(this),this.status=1}function Kl(t){this.a=t}(na=hl.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:oc),this.a.onreadystatechange=da(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void bl(this,o)}t=n||"";var i=new Ic(this.headers);r&&Ec(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=gl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=oa.FormData&&t instanceof oa.FormData,!(0<=va(pl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{_l(this),0<this.o&&((this.D=function(t){return Da&&$a(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=da(this.xa,this)):this.m=Du(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){bl(this,o)}},na.xa=function(){void 0!==ia&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ou(this,"timeout"),this.abort(8))},na.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ou(this,"complete"),Ou(this,"abort"),yl(this))},na.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yl(this,!0)),hl.X.G.call(this)},na.za=function(){this.j||(this.A||this.l||this.g?vl(this):this.Ua())},na.Ua=function(){vl(this)},na.W=function(){try{return 2<wl(this)?this.a.status:-1}catch(Ra){return-1}},na.$=function(){try{return this.a?this.a.responseText:""}catch(Ra){return""}},na.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ll(e)}},na.ua=function(){return this.h},na.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(na=El.prototype).ha=8,na.v=1,na.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new lc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ma(r=Aa(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ml(this,n,e),Rc(i=Ac(this.B),"RID",t),Rc(i,"CVER",22),this.A&&Rc(i,"X-HTTP-Session-Id",this.A),jl(this,i),this.i&&r&&Ol(i,this.i,r),rl(this.b,n),this.Ia&&Rc(i,"TYPE","init"),this.da?(Rc(i,"$req",e),Rc(i,"SID","null"),n.U=!0,pc(n,i,null)):pc(n,i,e),this.v=2}}else 3==this.v&&(t?Al(this,t):0==this.g.length||tl(this.b)||Al(this))},na.Aa=function(){if(this.j=null,Nl(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=tc(da(this.Ta,this),t)}},na.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Zu(10),Sl(this),Nl(this))},na.Sa=function(){null!=this.m&&(this.m=null,Sl(this),Ll(this),Zu(19))},na.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Zu(2)):(this.c.info("Failed to ping google.com"),Zu(1))},(na=Hl.prototype).ta=function(){},na.sa=function(){},na.ra=function(){},na.qa=function(){},na.Ja=function(){},Wl.prototype.a=function(t,e){return new Gl(t,e)},ba(Gl,wu),Gl.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Zu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ql(t,null,t.fa),kl(t)},Gl.prototype.close=function(){Il(this.a)},Gl.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Tl(this.a,e)}else this.l?((e={}).__data__=Eu(t),Tl(this.a,e)):Tl(this.a,t)},Gl.prototype.G=function(){this.a.f=null,delete this.f,Il(this.a),delete this.a,Gl.X.G.call(this)},ba($l,ac),ba(Ql,uc),ba(Kl,Hl),Kl.prototype.ta=function(){Ou(this.a,"a")},Kl.prototype.sa=function(t){Ou(this.a,new $l(t))},Kl.prototype.ra=function(t){Ou(this.a,new Ql(t))},Kl.prototype.qa=function(){Ou(this.a,"b")},Wl.prototype.createWebChannel=Wl.prototype.a,Gl.prototype.send=Gl.prototype.h,Gl.prototype.open=Gl.prototype.g,Gl.prototype.close=Gl.prototype.close,ec.NO_ERROR=0,ec.TIMEOUT=8,ec.HTTP_ERROR=6,nc.COMPLETE="complete",ic.EventType=sc,sc.OPEN="a",sc.CLOSE="b",sc.ERROR="c",sc.MESSAGE="d",wu.prototype.listen=wu.prototype.va,hl.prototype.listenOnce=hl.prototype.wa,hl.prototype.getLastError=hl.prototype.Qa,hl.prototype.getLastErrorCode=hl.prototype.ua,hl.prototype.getStatus=hl.prototype.W,hl.prototype.getResponseJson=hl.prototype.Pa,hl.prototype.getResponseText=hl.prototype.$,hl.prototype.send=hl.prototype.ba;var Jl=ec,Yl=nc,Zl=Gu,Xl=ic,th=hl,eh=n("/6Yf"),nh=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},rh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ih=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ih.UNAUTHENTICATED=new ih(null),ih.l=new ih("google-credentials-uid"),ih._=new ih("first-party-uid");var oh=new Zs.b("@firebase/firestore");function sh(){return oh.logLevel}function ah(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(oh.logLevel<=Zs.a.DEBUG){var r=e.map(lh);oh.debug.apply(oh,Object(Js.g)(["Firestore (8.1.2): "+t],r))}}function uh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(oh.logLevel<=Zs.a.ERROR){var r=e.map(lh);oh.error.apply(oh,Object(Js.g)(["Firestore (8.1.2): "+t],r))}}function ch(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(oh.logLevel<=Zs.a.WARN){var r=e.map(lh);oh.warn.apply(oh,Object(Js.g)(["Firestore (8.1.2): "+t],r))}}function lh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function hh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw uh(e),new Error(e)}function fh(t,e){t||hh()}function dh(t,e){return t}var ph={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gh=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Js.c)(e,t),e}(Error),bh=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},mh=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(ih.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),vh=function(){function t(t){var e=this;this.P=null,this.currentUser=ih.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(ah("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(fh("string"==typeof n.accessToken),new bh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return fh(null===t||"string"==typeof t),new ih(t)},t}(),yh=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=ih._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),_h=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new yh(this.v,this.S))},t.prototype.A=function(t){t(ih._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function wh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Oh=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=wh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ch(t,e){return t<e?-1:t>e?1:0}function Eh(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ih(t){return t+"\0"}var Sh=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gh(ph.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gh(ph.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new gh(ph.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gh(ph.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Ch(this.nanoseconds,t.nanoseconds):Ch(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xh=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Sh(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Th=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&hh(),void 0===n?n=t.length-e:n>t.length-e&&hh(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),kh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new gh(ph.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(Th),Ah=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Ah.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new gh(ph.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new gh(ph.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new gh(ph.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new gh(ph.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Th),Mh=function(){function t(t){this.path=t}return t.st=function(e){return new t(kh.Y(e))},t.it=function(e){return new t(kh.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===kh.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return kh.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new kh(e.slice()))},t}();function Ph(t){return null==t}function Lh(t){return 0===t&&1/t==-1/0}function Rh(t){return"number"==typeof t&&Number.isInteger(t)&&!Lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Nh=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function Dh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Nh(t,e,n,r,i,o,s)}function Vh(t){var e=dh(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+Lf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Np(e.startAt)),e.endAt&&(n+="|ub:",n+=Np(e.endAt)),e.ut=n}return e.ut}function Uh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Af(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vp(t.startAt,e.startAt)&&Vp(t.endAt,e.endAt)}function Fh(t){return Mh.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var zh=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Ch(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();zh.lt=new zh("");var qh,Bh,Hh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=xh.min()),void 0===o&&(o=xh.min()),void 0===s&&(s=zh.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Wh=function(t){this.count=t};function Gh(t){switch(t){case ph.OK:return hh();case ph.CANCELLED:case ph.UNKNOWN:case ph.DEADLINE_EXCEEDED:case ph.RESOURCE_EXHAUSTED:case ph.INTERNAL:case ph.UNAVAILABLE:case ph.UNAUTHENTICATED:return!1;case ph.INVALID_ARGUMENT:case ph.NOT_FOUND:case ph.ALREADY_EXISTS:case ph.PERMISSION_DENIED:case ph.FAILED_PRECONDITION:case ph.ABORTED:case ph.OUT_OF_RANGE:case ph.UNIMPLEMENTED:case ph.DATA_LOSS:return!0;default:return hh()}}function $h(t){if(void 0===t)return uh("GRPC error has no .code"),ph.UNKNOWN;switch(t){case qh.OK:return ph.OK;case qh.CANCELLED:return ph.CANCELLED;case qh.UNKNOWN:return ph.UNKNOWN;case qh.DEADLINE_EXCEEDED:return ph.DEADLINE_EXCEEDED;case qh.RESOURCE_EXHAUSTED:return ph.RESOURCE_EXHAUSTED;case qh.INTERNAL:return ph.INTERNAL;case qh.UNAVAILABLE:return ph.UNAVAILABLE;case qh.UNAUTHENTICATED:return ph.UNAUTHENTICATED;case qh.INVALID_ARGUMENT:return ph.INVALID_ARGUMENT;case qh.NOT_FOUND:return ph.NOT_FOUND;case qh.ALREADY_EXISTS:return ph.ALREADY_EXISTS;case qh.PERMISSION_DENIED:return ph.PERMISSION_DENIED;case qh.FAILED_PRECONDITION:return ph.FAILED_PRECONDITION;case qh.ABORTED:return ph.ABORTED;case qh.OUT_OF_RANGE:return ph.OUT_OF_RANGE;case qh.UNIMPLEMENTED:return ph.UNIMPLEMENTED;case qh.DATA_LOSS:return ph.DATA_LOSS;default:return hh()}}(Bh=qh||(qh={}))[Bh.OK=0]="OK",Bh[Bh.CANCELLED=1]="CANCELLED",Bh[Bh.UNKNOWN=2]="UNKNOWN",Bh[Bh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bh[Bh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bh[Bh.NOT_FOUND=5]="NOT_FOUND",Bh[Bh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bh[Bh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bh[Bh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bh[Bh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bh[Bh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bh[Bh.ABORTED=10]="ABORTED",Bh[Bh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bh[Bh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bh[Bh.INTERNAL=13]="INTERNAL",Bh[Bh.UNAVAILABLE=14]="UNAVAILABLE",Bh[Bh.DATA_LOSS=15]="DATA_LOSS";var Qh=function(){function t(t,e){this.$=t,this.root=e||Jh.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Jh.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Jh.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Kh(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Kh(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Kh(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Kh(this.root,t,this.$,!0)},t}(),Kh=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Jh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw hh();if(this.right.Mt())throw hh();var t=this.left.Qt();if(t!==this.right.Qt())throw hh();return t+(this.Mt()?0:1)},t}();Jh.EMPTY=null,Jh.RED=!0,Jh.It=!1,Jh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw hh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw hh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw hh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw hh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw hh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Jh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Yh=function(){function t(t){this.$=t,this.data=new Qh(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Zh(this.data.yt())},t.prototype.Vt=function(t){return new Zh(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Zh=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Xh=new Qh(Mh.$);function tf(){return Xh}function ef(){return tf()}var nf=new Qh(Mh.$);function rf(){return nf}var of=new Qh(Mh.$),sf=new Yh(Mh.$);function af(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=sf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var uf=new Yh(Ch);function cf(){return uf}var lf=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Mh.$(e.key,n.key)}:function(t,e){return Mh.$(t.key,e.key)},this.Ht=rf(),this.Jt=new Qh(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),hf=function(){function t(){this.Xt=new Qh(Mh.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):hh():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),ff=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=a}return t.ie=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,lf.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&wp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),df=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,pf.he(e,n)),new t(xh.min(),r,cf(),tf(),af())},t}(),pf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(zh.lt,n,af(),af(),af())},t}(),gf=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},bf=function(t,e){this.targetId=t,this.Te=e},mf=function(t,e,n,r){void 0===n&&(n=zh.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},vf=function(){function t(){this.Ie=0,this.me=wf(),this.Ae=zh.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=af(),e=af(),n=af();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:hh()}}),new pf(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=wf()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),yf=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=tf(),this.Me=_f(),this.ke=new Yh(Ch)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof ap?this.Le(r,t.Ee):t.Ee instanceof up&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:hh()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Fh(i))if(0===n){var o=new Mh(i.path);this.Be(e,o,new up(o,xh.min()))}else fh(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var o=e.Ge(i);if(o){if(r.le&&Fh(o.target)){var s=new Mh(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new up(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=af();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new df(t,n,this.ke,this.Oe,r);return this.Oe=tf(),this.Me=_f(),this.ke=new Yh(Ch),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new vf,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Yh(Ch),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||ah("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new vf),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function _f(){return new Qh(Mh.$)}function wf(){return new Qh(Mh.$)}function Of(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ef(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function If(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sf(t){var e=t.mapValue.fields.__previous_value__;return If(e)?Sf(e):e}function xf(t){var e=Nf(t.mapValue.fields.__local_write_time__.timestampValue);return new Sh(e.seconds,e.nanos)}var Tf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?If(t)?4:10:hh()}function Af(t,e){var n=kf(t);if(n!==kf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xf(t).isEqual(xf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Nf(t.timestampValue),r=Nf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vf(t.bytesValue).isEqual(Vf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Df(t.geoPointValue.latitude)===Df(e.geoPointValue.latitude)&&Df(t.geoPointValue.longitude)===Df(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Df(t.integerValue)===Df(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Df(t.doubleValue),r=Df(e.doubleValue);return n===r?Lh(n)===Lh(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Eh(t.arrayValue.values||[],e.arrayValue.values||[],Af);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Of(n)!==Of(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Af(n[i],r[i])))return!1;return!0}(t,e);default:return hh()}}function jf(t,e){return void 0!==(t.values||[]).find(function(t){return Af(t,e)})}function Mf(t,e){var n=kf(t),r=kf(e);if(n!==r)return Ch(n,r);switch(n){case 0:return 0;case 1:return Ch(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Df(t.integerValue||t.doubleValue),r=Df(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Pf(t.timestampValue,e.timestampValue);case 4:return Pf(xf(t),xf(e));case 5:return Ch(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vf(t),r=Vf(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ch(n[i],r[i]);if(0!==o)return o}return Ch(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ch(Df(t.latitude),Df(e.latitude));return 0!==n?n:Ch(Df(t.longitude),Df(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Mf(n[i],r[i]);if(o)return o}return Ch(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ch(r[s],o[s]);if(0!==a)return a;var u=Mf(n[r[s]],i[o[s]]);if(0!==u)return u}return Ch(r.length,o.length)}(t.mapValue,e.mapValue);default:throw hh()}}function Pf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ch(t,e);var n=Nf(t),r=Nf(e),i=Ch(n.seconds,r.seconds);return 0!==i?i:Ch(n.nanos,r.nanos)}function Lf(t){return Rf(t)}function Rf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Nf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Vf(t.bytesValue).toBase64():"referenceValue"in t?Mh.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Rf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Rf(t.fields[o])}return e+"}"}(t.mapValue):hh();var e}function Nf(t){if(fh(!!t),"string"==typeof t){var e=0,n=Tf.exec(t);if(fh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Df(t.seconds),nanos:Df(t.nanos)}}function Df(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vf(t){return"string"==typeof t?zh.fromBase64String(t):zh.fromUint8Array(t)}function Uf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Ff(t){return!!t&&"integerValue"in t}function zf(t){return!!t&&"arrayValue"in t}function qf(t){return!!t&&"nullValue"in t}function Bf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}var Wf={asc:"ASCENDING",desc:"DESCENDING"},Gf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$f=function(t,e){this.t=t,this.tn=e};function Qf(t){return{integerValue:""+t}}function Kf(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function Jf(t,e){return Rh(e)?Qf(e):Kf(t,e)}function Yf(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zf(t,e){return t.tn?e.toBase64():e.toUint8Array()}function Xf(t,e){return Yf(t,e.M())}function td(t){return fh(!!t),xh.N(function(t){var e=Nf(t);return new Sh(e.seconds,e.nanos)}(t))}function ed(t,e){return function(t){return new kh(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function nd(t){var e=kh.Y(t);return fh(Id(e)),e}function rd(t,e){return ed(t.t,e.path)}function id(t,e){var n=nd(e);if(n.get(1)!==t.t.projectId)throw new gh(ph.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new gh(ph.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Mh(ud(n))}function od(t,e){return ed(t.t,e)}function sd(t){var e=nd(t);return 4===e.length?kh.X():ud(e)}function ad(t){return new kh(["projects",t.t.projectId,"databases",t.t.database]).J()}function ud(t){return fh(t.length>4&&"documents"===t.get(4)),t.B(5)}function cd(t,e,n){return{name:rd(t,e),fields:n.proto.mapValue.fields}}function ld(t,e){var n;if(e instanceof Kd)n={update:cd(t,e.key,e.value)};else if(e instanceof ep)n={delete:rd(t,e.key)};else if(e instanceof Jd)n={update:cd(t,e.key,e.data),updateMask:Ed(e.en)};else if(e instanceof Zd)n={transform:{document:rd(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ad)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof jd)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Pd)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Rd)return{fieldPath:e.field.J(),increment:n.nn};throw hh()}(0,t)})}};else{if(!(e instanceof np))return hh();n={verify:rd(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Xf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:hh()}(t,e.rn)),n}function hd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zd.updateTime(td(t.updateTime)):void 0!==t.exists?zd.exists(t.exists):zd.on()}(e.currentDocument):zd.on();if(e.update){var r=id(t,e.update.name),i=new rp({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Vd((t.fieldPaths||[]).map(function(t){return jh.nt(t)}))}(e.updateMask);return new Jd(r,i,o,n)}return new Kd(r,i,n)}if(e.delete){var s=id(t,e.delete);return new ep(s,n)}if(e.transform){var a=id(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(fh("REQUEST_TIME"===e.setToServerValue),n=new Ad):"appendMissingElements"in e?n=new jd(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Pd(e.removeAllFromArray.values||[]):"increment"in e?n=new Rd(t,e.increment):hh();var r=jh.nt(e.fieldPath);return new Ud(r,n)}(t,e)});return fh(!0===n.exists),new Zd(a,u)}if(e.verify){var c=id(t,e.verify);return new np(c,n)}return hh()}function fd(t,e){return{documents:[od(t,e.path)]}}function dd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=od(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=od(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Bf(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NAN"}};if(qf(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Bf(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NOT_NAN"}};if(qf(t.value))return{unaryFilter:{field:_d(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(t.field),op:yd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:_d(t.field),direction:vd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||Ph(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=bd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bd(e.endAt)),n}function pd(t){var e=sd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fh(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=gd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Up(wd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ph(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=md(n.startAt));var l=null;return n.endAt&&(l=md(n.endAt)),hp(e,i,a,s,u,"F",c,l)}function gd(t){return t?void 0!==t.unaryFilter?[Cd(t)]:void 0!==t.fieldFilter?[Od(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return gd(t)}).reduce(function(t,e){return t.concat(e)}):hh():[]}function bd(t){return{before:t.before,values:t.position}}function md(t){return new Rp(t.values||[],!!t.before)}function vd(t){return Wf[t]}function yd(t){return Gf[t]}function _d(t){return{fieldPath:t.J()}}function wd(t){return jh.nt(t.fieldPath)}function Od(t){return Sp.create(wd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return hh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Cd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=wd(t.unaryFilter.field);return Sp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=wd(t.unaryFilter.field);return Sp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wd(t.unaryFilter.field);return Sp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wd(t.unaryFilter.field);return Sp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return hh()}}function Ed(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function Id(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Sd=function(){this.cn=void 0};function xd(t,e,n){return t instanceof Ad?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof jd?Md(t,e):t instanceof Pd?Ld(t,e):function(t,e){var n=kd(t,e),r=Nd(n)+Nd(t.nn);return Ff(n)&&Ff(t.nn)?Qf(r):Kf(t.serializer,r)}(t,e)}function Td(t,e,n){return t instanceof jd?Md(t,e):t instanceof Pd?Ld(t,e):n}function kd(t,e){return t instanceof Rd?Ff(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e}(Sd),jd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Js.c)(e,t),e}(Sd);function Md(t,e){for(var n=Dd(e),r=function(t){n.some(function(e){return Af(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Pd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Js.c)(e,t),e}(Sd);function Ld(t,e){for(var n=Dd(e),r=function(t){n=n.filter(function(e){return!Af(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Js.c)(e,t),e}(Sd);function Nd(t){return Df(t.integerValue||t.doubleValue)}function Dd(t){return zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Vd=function(){function t(t){this.fields=t,t.sort(jh.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return Eh(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ud=function(t,e){this.field=t,this.transform=e},Fd=function(t,e){this.version=t,this.transformResults=e},zd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function qd(t,e){return void 0!==t.updateTime?e instanceof ap&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ap}var Bd=function(){};function Hd(t,e,n){return t instanceof Kd?function(t,e,n){return new ap(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Jd?function(t,e,n){if(!qd(t.rn,e))return new cp(t.key,n.version);var r=Yd(t,e);return new ap(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Zd?function(t,e,n){if(fh(null!=n.transformResults),!qd(t.rn,e))return new cp(t.key,n.version);var r=Xd(0,e),i=function(t,e,n){var r=[];fh(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ap&&(a=e.field(o.field)),r.push(Td(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=tp(t,r.data(),i);return new ap(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new up(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Wd(t,e,n,r){return t instanceof Kd?function(t,e){if(!qd(t.rn,e))return e;var n=Qd(e);return new ap(t.key,n,t.value,{an:!0})}(t,e):t instanceof Jd?function(t,e){if(!qd(t.rn,e))return e;var n=Qd(e),r=Yd(t,e);return new ap(t.key,n,r,{an:!0})}(t,e):t instanceof Zd?function(t,e,n,r){if(!qd(t.rn,e))return e;var i=Xd(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof ap&&(c=n.field(a.field)),null===c&&r instanceof ap&&(c=r.field(a.field)),i.push(xd(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=tp(t,i.data(),o);return new ap(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return qd(t.rn,e)?new up(t.key,xh.min()):e}(t,e)}function Gd(t,e){return t instanceof Zd?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof ap?e.field(o.field):void 0,a=kd(o.transform,s||null);null!=a&&(n=null==n?(new ip).set(o.field,a):n.set(o.field,a))}return n?n.hn():null}(t,e):null}function $d(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||Eh(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof jd&&e instanceof jd||t instanceof Pd&&e instanceof Pd?Eh(t.elements,e.elements,Af):t instanceof Rd&&e instanceof Rd?Af(t.nn,e.nn):t instanceof Ad&&e instanceof Ad}(t.transform,e.transform)}(t,e)}))}function Qd(t){return t instanceof ap?t.version:xh.min()}var Kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Js.c)(e,t),e}(Bd),Jd=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(Js.c)(e,t),e}(Bd);function Yd(t,e){return function(t,e){var n=new ip(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof ap?e.data():rp.empty())}var Zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=zd.exists(!0),r}return Object(Js.c)(e,t),e}(Bd);function Xd(t,e){return e}function tp(t,e,n){for(var r=new ip(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var ep=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Js.c)(e,t),e}(Bd),np=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Js.c)(e,t),e}(Bd),rp=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Hf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Af(this.proto,t.proto)},t}(),ip=function(){function t(t){void 0===t&&(t=rp.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===kf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(jh.X(),this._n);return null!=t?new rp(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=Hf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function op(t){var e=[];return Cf(t.fields||{},function(t,n){var r=new jh([t]);if(Hf(n)){var i=op(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Vd(e)}var sp=function(t,e){this.key=t,this.version=e},ap=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Js.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(sp),up=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Js.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(sp),cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(sp),lp=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.In=null,this.mn=null};function hp(t,e,n,r,i,o,s,a){return new lp(t,e,n,r,i,o,s,a)}function fp(t){return new lp(t)}function dp(t){return!Ph(t.limit)&&"F"===t.limitType}function pp(t){return!Ph(t.limit)&&"L"===t.limitType}function gp(t){return t.Tn.length>0?t.Tn[0].field:null}function bp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function mp(t){return null!==t.collectionGroup}function vp(t){var e=dh(t);if(null===e.In){e.In=[];var n=bp(e),r=gp(e);if(null!==n&&null===r)n.tt()||e.In.push(new Up(n)),e.In.push(new Up(jh.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var a=s[o];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Up(jh.et(),u))}}}return e.In}function yp(t){var e=dh(t);if(!e.mn)if("F"===e.limitType)e.mn=Dh(e.path,e.collectionGroup,vp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vp(e);r<i.length;r++){var o=i[r];n.push(new Up(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Rp(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Rp(e.startAt.position,!e.startAt.before):null;e.mn=Dh(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.mn}function _p(t,e,n){return new lp(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wp(t,e){return Uh(yp(t),yp(e))&&t.limitType===e.limitType}function Op(t){return Vh(yp(t))+"|lt:"+t.limitType}function Cp(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+Lf(e.value);var e}).join(", ")+"]"),Ph(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Np(t.startAt)),t.endAt&&(e+=", endAt: "+Np(t.endAt)),"Target("+e+")"}(yp(t))+"; limitType="+t.limitType+")"}function Ep(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Mh.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dp(t.startAt,vp(t),e)||t.endAt&&Dp(t.endAt,vp(t),e))}(t,e)}function Ip(t){return function(e,n){for(var r=!1,i=0,o=vp(t);i<o.length;i++){var s=o[i],a=Fp(s,e,n);if(0!==a)return a;r=r||s.field.tt()}return 0}}var Sp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Js.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new xp(t,n,r):"array-contains"===n?new jp(t,r):"in"===n?new Mp(t,r):"not-in"===n?new Pp(t,r):"array-contains-any"===n?new Lp(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Tp(t,n):new kp(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Mf(e,this.value)):null!==e&&kf(this.value)===kf(e)&&this.Pn(Mf(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return hh()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Mh.it(r.referenceValue),i}return Object(Js.c)(e,t),e.prototype.matches=function(t){var e=Mh.$(t.key,this.key);return this.Pn(e)},e}(Sp),Tp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ap(0,n),r}return Object(Js.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Sp),kp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ap(0,n),r}return Object(Js.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Sp);function Ap(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Mh.it(t.referenceValue)})}var jp=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Js.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return zf(e)&&jf(e.arrayValue,this.value)},e}(Sp),Mp=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Js.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&jf(this.value.arrayValue,e)},e}(Sp),Pp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Js.c)(e,t),e.prototype.matches=function(t){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!jf(this.value.arrayValue,e)},e}(Sp),Lp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Js.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return jf(e.value.arrayValue,t)})},e}(Sp),Rp=function(t,e){this.position=t,this.before=e};function Np(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Lf(t)}).join(",")}function Dp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?Mh.$(Mh.it(s.referenceValue),n.key):Mf(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Vp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Af(t.position[n],e.position[n]))return!1;return!0}var Up=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Fp(t,e,n){var r=t.field.tt()?Mh.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Mf(r,i):hh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return hh()}}function zp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qp=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Hd(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Wd(i,e,e,this.gn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Wd(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},af())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Eh(this.mutations,t.mutations,function(t,e){return $d(t,e)})&&Eh(this.baseMutations,t.baseMutations,function(t,e){return $d(t,e)})},t}(),Bp=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){fh(e.mutations.length===r.length);for(var i=of,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Hp=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.Cn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Cf(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.W=function(){return Ef(this.Nn)},t}(),Wp=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&hh(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),Gp=function(){function t(){this.Qn=new Hp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:xh.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Wp.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),$p=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Qp(t){return new $f(t,!0)}function Kp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Jp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yp=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),Zp=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=ef();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),o=tf();return i.forEach(function(t,e){e||(e=new up(t,xh.min())),o=o.Tt(t,e)}),o})},t.prototype.ws=function(t,e,n){return function(t){return Mh.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):mp(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Mh(e)).next(function(t){var e=rf();return t instanceof ap&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=rf();return this.os.As(t,i).next(function(s){return Wp.forEach(s,function(s){var a=function(t,e){return new lp(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Tt(t,e)})})}).next(function(){return o})})},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next(function(n){return r=n,o.rs.Rs(t,e)}).next(function(e){return o.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Wd(u,l,l,o.gn);r=h instanceof ap?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ep(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=af(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Jd&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ap&&(c=c.Tt(t,e))}),c})},t}(),Xp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=af(),i=af(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),tg=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();tg.Ds=-1;var eg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&ah("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),ng=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Xs.h)())&&uh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ah("SimpleDb","Removing database:",t),ug(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Xs.h)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n=this;return Object(Js.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ah("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ig(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new gh(ph.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ig(t,n))},i.onupgradeneeded=function(t){ah("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ah("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Js.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Js.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Js.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=sg.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Wp.reject(t)}).Ln(),u={},s.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return ah("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),rg=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return ug(this.ni.delete())},t}(),ig=function(t){function e(e,n){var r=this;return(r=t.call(this,ph.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Js.c)(e,t),e}(gh);function og(t){return"IndexedDbTransactionError"===t.name}var sg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new $p,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new ig(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=lg(e.target.error);n.ci.reject(new ig(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ig(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(ah("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ag(e)},t}(),ag=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ah("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ah("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ug(n)},t.prototype.add=function(t){return ah("SimpleDb","ADD",this.store.name,t,t),ug(this.store.add(t))},t.prototype.get=function(t){var e=this;return ug(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ah("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ah("SimpleDb","DELETE",this.store.name,t),ug(this.store.delete(t))},t.prototype.count=function(){return ah("SimpleDb","COUNT",this.store.name),ug(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){ah("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Wp(function(n,r){e.onerror=function(t){var e=lg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new Wp(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new rg(i),s=e(i.primaryKey,i.value,o);if(s instanceof Wp){var a=s.catch(function(t){return o.done(),Wp.reject(t)});n.push(a)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}}).next(function(){return Wp.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ug(t){return new Wp(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=lg(t.target.error);n(e)}})}var cg=!1;function lg(t){var e=ng.js(Object(Xs.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new gh("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cg||(cg=!0,setTimeout(function(){throw r},0)),r}}return t}function hg(){return"undefined"!=typeof window?window:null}function fg(){return"undefined"!=typeof document?document:null}var dg=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new $p,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new gh(ph.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),pg=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new eg(this,"async_queue_retry"),this.Di=function(){var e=fg();e&&ah("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=fg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=fg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(Js.b)(this,void 0,void 0,function(){var t,e=this;return Object(Js.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!og(t=n.sent()))throw t;return ah("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,uh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=dg.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&hh()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Js.b)(this,void 0,void 0,function(){var t;return Object(Js.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function gg(t,e){if(uh("AsyncQueue",e+": "+t),og(t))return new gh(ph.UNAVAILABLE,e+": "+t);throw t}function bg(t,e){var n=t[1],r=e[1],i=Ch(t[0],e[0]);return 0===i?Ch(n,r):i}var mg=function(){function t(t){this.Ki=t,this.buffer=new Yh(bg),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();bg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),vg={zi:!1,Hi:0,Ji:0,Yi:0},yg=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();yg.nr=10,yg.sr=1e3,yg.ir=new yg(41943040,yg.nr,yg.sr),yg.rr=new yg(-1,0,0);var _g=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;ah("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(Js.b)(e,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return og(e=n.sent())?(ah("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Qb(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),wg=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Wp.resolve(tg.Ds);var r=new mg(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(ah("LruGarbageCollector","Garbage collection skipped; disabled"),Wp.resolve(vg)):this.Pr(t).next(function(r){return r<n.params.Xi?(ah("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),vg):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(ah("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,s=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),sh()<=Zs.a.DEBUG&&ah("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Wp.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}(),Og=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(xh.min())?this.pr(t,e):this.Vr._s(t,r).next(function(o){var s=i.vr(e,o);return(dp(e)||pp(e))&&i.br(e.limitType,s,r,n)?i.pr(t,e):(sh()<=Zs.a.DEBUG&&ah("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Cp(e)),i.Vr.ws(t,e,n).next(function(t){return s.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.vr=function(t,e){var n=new Yh(Ip(t));return e.forEach(function(e,r){r instanceof ap&&Ep(t,r)&&(n=n.add(r))}),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return sh()<=Zs.a.DEBUG&&ah("QueryEngine","Using full collection scan to execute query:",Cp(e)),this.Vr.ws(t,e,xh.min())},t}();function Cg(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ig(e)),e=Eg(t.get(n),e);return Ig(e)}function Eg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ig(t){return t+"\x01\x01"}function Sg(t){var e=t.length;if(fh(e>=2),2===e)return fh("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),kh.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&hh(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:hh()}o=s+2}return new kh(r)}var xg=function(t){this.Sr=t};function Tg(t,e){if(e.document)return function(t,e,n){var r=id(t,e.name),i=td(e.updateTime),o=new rp({mapValue:{fields:e.fields}});return new ap(r,i,o,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Mh.ct(e.noDocument.path),r=Pg(e.noDocument.readTime);return new up(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Mh.ct(e.unknownDocument.path),o=Pg(e.unknownDocument.version);return new cp(i,o)}return hh()}function kg(t,e,n){var r=Ag(n),i=e.key.path.q().H();if(e instanceof ap){var o=function(t,e){return{name:rd(t,e.key),fields:e.En().mapValue.fields,updateTime:Yf(t,e.version.M())}}(t.Sr,e);return new sb(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof up){var s=e.key.path.H(),a=Mg(e.version),u=e.hasCommittedMutations;return new sb(null,new ib(s,a),null,u,r,i)}if(e instanceof cp){var c=e.key.path.H(),l=Mg(e.version);return new sb(new ob(c,l),null,null,!0,r,i)}return hh()}function Ag(t){var e=t.M();return[e.seconds,e.nanoseconds]}function jg(t){var e=new Sh(t[0],t[1]);return xh.N(e)}function Mg(t){var e=t.M();return new Xg(e.seconds,e.nanoseconds)}function Pg(t){var e=new Sh(t.seconds,t.nanoseconds);return xh.N(e)}function Lg(t,e){var n=(e.baseMutations||[]).map(function(e){return hd(t.Sr,e)}),r=e.mutations.map(function(e){return hd(t.Sr,e)}),i=Sh.fromMillis(e.localWriteTimeMs);return new qp(e.batchId,i,n,r)}function Rg(t){var e,n,r=Pg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Pg(t.lastLimboFreeSnapshotVersion):xh.min();return void 0!==t.query.documents?(fh(1===(n=t.query).documents.length),e=yp(fp(sd(n.documents[0])))):e=function(t){return yp(pd(t))}(t.query),new Hh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,zh.fromBase64String(t.resumeToken))}function Ng(t,e){var n,r=Mg(e.ft),i=Mg(e.lastLimboFreeSnapshotVersion);n=Fh(e.target)?fd(t.Sr,e.target):dd(t.Sr,e.target);var o=e.resumeToken.toBase64();return new ub(e.targetId,Vh(e.target),r,o,e.sequenceNumber,i,n)}function Dg(t){var e=pd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_p(e,e.limit,"L"):e}var Vg=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return fh(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zg(t)._i({index:nb.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Or=function(t,e,n,r){var i=this,o=qg(t),s=zg(t);return s.add({}).next(function(a){fh("number"==typeof a);for(var u=new qp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ld(t.Sr,e)}),i=n.mutations.map(function(e){return ld(t.Sr,e)});return new nb(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Yh(function(t,e){return Ch(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=rb.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(s.put(c)),l.push(o.put(g,rb.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Mr(t,e))}),t.es(function(){i.Cr[a]=u.keys()}),Wp.qn(l).next(function(){return u})})},t.prototype.kr=function(t,e){var n=this;return zg(t).get(e).next(function(t){return t?(fh(t.userId===n.userId),Lg(n.serializer,t)):null})},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?Wp.resolve(this.Cr[e]):this.kr(t,e).next(function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null})},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return zg(t)._i({index:nb.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(fh(e.batchId>=r),o=Lg(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zg(t)._i({index:nb.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zg(t).ui(nb.userMutationsIndex,n).next(function(t){return t.map(function(t){return Lg(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=rb.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return qg(t)._i({range:i},function(r,i,s){var a=r[0],u=r[2],c=Sg(r[1]);if(a===n.userId&&e.path.isEqual(c))return zg(t).get(u).next(function(t){if(!t)throw hh();fh(t.userId===n.userId),o.push(Lg(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.ds=function(t,e){var n=this,r=new Yh(Ch),i=[];return e.forEach(function(e){var o=rb.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=qg(t)._i({range:s},function(t,i,o){var s=t[0],a=t[2],u=Sg(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Wp.qn(i).next(function(){return n.Ur(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=rb.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Yh(Ch);return qg(t)._i({range:s},function(t,e,o){var s=t[0],u=t[2],c=Sg(t[1]);s===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Ur(t,a)})},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(zg(t).get(e).next(function(t){if(null===t)throw hh();fh(t.userId===n.userId),r.push(Lg(n.serializer,t))}))}),Wp.qn(i).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this;return Fg(t.Kr,this.userId,e).next(function(r){return t.es(function(){n.Wr(e.batchId)}),Wp.forEach(r,function(e){return n.Dr.jr(t,e)})})},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next(function(n){if(!n)return Wp.resolve();var r=IDBKeyRange.lowerBound(rb.prefixForUser(e.userId)),i=[];return qg(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var o=Sg(t[1]);i.push(o)}else r.done()}).next(function(){fh(0===i.length)})})},t.prototype.zr=function(t,e){return Ug(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return Bg(t).get(this.userId).next(function(t){return t||new eb(e.userId,-1,"")})},t}();function Ug(t,e,n){var r=rb.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return qg(t)._i({range:o,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Fg(t,e,n){var r=t.store(nb.store),i=t.store(rb.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){fh(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=rb.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Wp.qn(o).next(function(){return c})}function zg(t){return kb.Ys(t,nb.store)}function qg(t){return kb.Ys(t,rb.store)}function Bg(t){return kb.Ys(t,eb.store)}var Hg=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return $g(t).put(Qg(e),n)},t.prototype.Hn=function(t,e){var n=$g(t),r=Qg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Jr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return $g(t).get(Qg(e)).next(function(t){return n.Yr(t)})},t.prototype.Xr=function(t,e){var n=this;return $g(t).get(Qg(e)).next(function(t){var e=n.Yr(t);return e?{zn:e,size:Kg(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ef();return this.Zr(t,e,function(t,e){var i=n.Yr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.eo=function(t,e){var n=this,r=ef(),i=new Qh(Mh.$);return this.Zr(t,e,function(t,e){var o=n.Yr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Kg(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{no:r,so:i}})},t.prototype.Zr=function(t,e,n){if(e.W())return Wp.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return $g(t)._i({range:r},function(t,e,r){for(var s=Mh.ct(t);o&&Mh.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=rf(),o=e.path.length+1,s={};if(n.isEqual(xh.min())){var a=e.path.H();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=Ag(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=sb.collectionReadTimeIndex}return $g(t)._i(s,function(t,n,s){if(t.length===o){var a=Tg(r.serializer,n);e.path.j(a.key.path)?a instanceof ap&&Ep(e,a)&&(i=i.Tt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.io=function(t){return new Wg(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Gg(t).get(ab.key).next(function(t){return fh(!!t),t})},t.prototype.Jr=function(t,e){return Gg(t).put(ab.key,e)},t.prototype.Yr=function(t){if(t){var e=Tg(this.serializer,t);return e instanceof up&&e.version.isEqual(xh.min())?null:e}return null},t}(),Wg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new Hp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Js.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Yh(function(t,e){return Ch(t.J(),e.J())});return this.Qn.forEach(function(o,s){var a=e.uo.get(o);if(s.zn){var u=kg(e.co.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var c=Kg(u);r+=c-a,n.push(e.co.jn(t,o,u))}else if(r-=a,e.ro){var l=kg(e.co.serializer,new up(o,xh.min()),e.Wn(o));n.push(e.co.jn(t,o,l))}else n.push(e.co.Hn(t,o))}),i.forEach(function(r){n.push(e.co.os.Mr(t,r))}),n.push(this.co.updateMetadata(t,r)),Wp.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next(function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next(function(t){var e=t.no;return t.so.forEach(function(t,e){n.uo.set(t,e)}),e})},e}(Gp);function Gg(t){return kb.Ys(t,ab.store)}function $g(t){return kb.Ys(t,sb.store)}function Qg(t){return t.path.H()}function Kg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw hh();e=t.noDocument}return JSON.stringify(e).length}var Jg=function(){function t(){this.ao=new Yg}return t.prototype.Mr=function(t,e){return this.ao.add(e),Wp.resolve()},t.prototype.As=function(t,e){return Wp.resolve(this.ao.getEntries(e))},t}(),Yg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Yh(kh.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Yh(kh.$)).H()},t}(),Zg=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;fh(n<r&&n>=0&&r<=11);var o=new sg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(tb.store)}(t),function(t){t.createObjectStore(eb.store,{keyPath:eb.keyPath}),t.createObjectStore(nb.store,{keyPath:nb.keyPath,autoIncrement:!0}).createIndex(nb.userMutationsIndex,nb.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rb.store)}(t),fb(t),function(t){t.createObjectStore(sb.store)}(t));var s=Wp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(cb.store),t.deleteObjectStore(ub.store),t.deleteObjectStore(lb.store)}(t),fb(t)),s=s.next(function(){return function(t){var e=t.store(lb.store),n=new lb(0,0,xh.min().M(),0);return e.put(lb.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(nb.store).ui().next(function(n){t.deleteObjectStore(nb.store),t.createObjectStore(nb.store,{keyPath:nb.keyPath,autoIncrement:!0}).createIndex(nb.userMutationsIndex,nb.userMutationsKeyPath,{unique:!0});var r=e.store(nb.store),i=n.map(function(t){return r.put(t)});return Wp.qn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(db.store,{keyPath:db.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ab.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sb.store);e.createIndex(sb.readTimeIndex,sb.readTimeIndexPath,{unique:!1}),e.createIndex(sb.collectionReadTimeIndex,sb.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(pb.store,{keyPath:pb.keyPath})}(t),function(t){t.createObjectStore(gb.store,{keyPath:gb.keyPath})}(t)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(sb.store)._i(function(t,n){e+=Kg(n)}).next(function(){var n=new ab(e);return t.store(ab.store).put(ab.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(eb.store),r=t.store(nb.store);return n.ui().next(function(n){return Wp.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(nb.userMutationsIndex,i).next(function(r){return Wp.forEach(r,function(r){fh(r.userId===n.userId);var i=Lg(e.serializer,r);return Fg(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(cb.store),n=t.store(sb.store);return t.store(lb.store).get(lb.key).next(function(t){var r=[];return n._i(function(n,i){var o=new kh(n),s=function(t){return[0,Cg(t)]}(o);r.push(e.get(s).next(function(n){return n?Wp.resolve():function(n){return e.put(new cb(0,Cg(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Wp.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(hb.store,{keyPath:hb.keyPath});var n=e.store(hb.store),r=new Yg,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Cg(i)})}};return e.store(sb.store)._i({li:!0},function(t,e){var n=new kh(t);return i(n.q())}).next(function(){return e.store(rb.store)._i({li:!0},function(t,e){var n=Sg(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ub.store);return n._i(function(t,r){var i=Rg(r),o=Ng(e.serializer,i);return n.put(o)})},t}(),Xg=function(t,e){this.seconds=t,this.nanoseconds=e},tb=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};tb.store="owner",tb.key="owner";var eb=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};eb.store="mutationQueues",eb.keyPath="userId";var nb=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};nb.store="mutations",nb.keyPath="batchId",nb.userMutationsIndex="userMutationsIndex",nb.userMutationsKeyPath=["userId","batchId"];var rb=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Cg(e)]},t.key=function(t,e,n){return[t,Cg(e),n]},t}();rb.store="documentMutations",rb.PLACEHOLDER=new rb;var ib=function(t,e){this.path=t,this.readTime=e},ob=function(t,e){this.path=t,this.version=e},sb=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sb.store="remoteDocuments",sb.readTimeIndex="readTimeIndex",sb.readTimeIndexPath="readTime",sb.collectionReadTimeIndex="collectionReadTimeIndex",sb.collectionReadTimeIndexPath=["parentPath","readTime"];var ab=function(t){this.byteSize=t};ab.store="remoteDocumentGlobal",ab.key="remoteDocumentGlobalKey";var ub=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ub.store="targets",ub.keyPath="targetId",ub.queryTargetsIndexName="queryTargetsIndex",ub.queryTargetsKeyPath=["canonicalId","targetId"];var cb=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cb.store="targetDocuments",cb.keyPath=["targetId","path"],cb.documentTargetsIndex="documentTargetsIndex",cb.documentTargetsKeyPath=["path","targetId"];var lb=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lb.key="targetGlobalKey",lb.store="targetGlobal";var hb=function(t,e){this.collectionId=t,this.parent=e};function fb(t){t.createObjectStore(cb.store,{keyPath:cb.keyPath}).createIndex(cb.documentTargetsIndex,cb.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ub.store,{keyPath:ub.keyPath}).createIndex(ub.queryTargetsIndexName,ub.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lb.store)}hb.store="collectionParents",hb.keyPath=["collectionId","parent"];var db=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};db.store="clientMetadata",db.keyPath="clientId";var pb=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};pb.store="bundles",pb.keyPath="bundleId";var gb=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};gb.store="namedQueries",gb.keyPath="name";var bb=Object(Js.g)(Object(Js.g)(Object(Js.g)(Object(Js.g)([eb.store,nb.store,rb.store,sb.store,ub.store,tb.store,lb.store,cb.store],[db.store]),[ab.store]),[hb.store]),[pb.store,gb.store]),mb=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return vb(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Pg(e.createTime),version:e.version};var e})},t.prototype.lo=function(t,e){return vb(t).put({bundleId:(n=e).id,createTime:Mg(td(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return yb(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Dg(e.bundledQuery),readTime:Pg(e.readTime)};var e})},t.prototype.fo=function(t,e){return yb(t).put(function(t){return{name:t.name,readTime:Mg(td(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function vb(t){return kb.Ys(t,pb.store)}function yb(t){return kb.Ys(t,gb.store)}var _b=function(){function t(){this.wo=new Yg}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es(function(){n.wo.add(e)});var o={collectionId:r,parent:Cg(i)};return wb(t).put(o)}return Wp.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ih(e),""],!1,!0);return wb(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Sg(o.parent))}return n})},t}();function wb(t){return kb.Ys(t,hb.store)}var Ob=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),Cb=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next(function(n){var r=new Ob(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next(function(){return n.highestTargetId})})},t.prototype.Po=function(t){return this.Ao(t).next(function(t){return xh.N(new Sh(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.yo=function(t){return this.Ao(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)})},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next(function(){return n.Ao(t).next(function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)})})},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next(function(){return Eb(t).delete(e.targetId)}).next(function(){return n.Ao(t)}).next(function(e){return fh(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return Eb(t)._i(function(s,a){var u=Rg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Do(t,u)))}).next(function(){return Wp.qn(o)}).next(function(){return i})},t.prototype.Ue=function(t,e){return Eb(t)._i(function(t,n){var r=Rg(n);e(r)})},t.prototype.Ao=function(t){return Ib(t).get(lb.key).next(function(t){return fh(null!==t),t})},t.prototype.Ro=function(t,e){return Ib(t).put(lb.key,e)},t.prototype.vo=function(t,e){return Eb(t).put(Ng(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next(function(t){return t.targetCount})},t.prototype.xo=function(t,e){var n=Vh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Eb(t)._i({range:r,index:ub.queryTargetsIndexName},function(t,n,r){var o=Rg(n);Uh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.Fo=function(t,e,n){var r=this,i=[],o=Sb(t);return e.forEach(function(e){var s=Cg(e.path);i.push(o.put(new cb(n,s))),i.push(r.Dr.Oo(t,n,e))}),Wp.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=Sb(t);return Wp.forEach(e,function(e){var o=Cg(e.path);return Wp.qn([i.delete([n,o]),r.Dr.ko(t,n,e)])})},t.prototype.Co=function(t,e){var n=Sb(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Sb(t),i=af();return r._i({range:n,li:!0},function(t,e,n){var r=Sg(t[1]),o=new Mh(r);i=i.add(o)}).next(function(){return i})},t.prototype.zr=function(t,e){var n=Cg(e.path),r=IDBKeyRange.bound([n],[Ih(n)],!1,!0),i=0;return Sb(t)._i({index:cb.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return Eb(t).get(e).next(function(t){return t?Rg(t):null})},t}();function Eb(t){return kb.Ys(t,ub.store)}function Ib(t){return kb.Ys(t,lb.store)}function Sb(t){return kb.Ys(t,cb.store)}var xb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Tb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(Js.c)(e,t),e}(Yp),kb=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new gh(ph.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new Mb(this,i),this.Ho=n+"main",this.serializer=new xg(u),this.Jo=new ng(this.Ho,11,new Zg(this.serializer)),this.Yo=new Cb(this.Dr,this.serializer),this.os=new _b,this.ss=function(t,e){return new Hg(t,e)}(this.serializer,this.os),this.Xo=new mb(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&uh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Tb)return ng.Ys(t.Kr,e);throw hh()},t.prototype.start=function(){var t=this;return this.tc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new gh(ph.FAILED_PRECONDITION,xb);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Yo.yo(e)})}).then(function(e){t.Uo=new tg(e,t.Bo)}).then(function(){t.Qo=!0}).catch(function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)})},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(Js.b)(e,void 0,void 0,function(){return Object(Js.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti(function(n){return Object(Js.b)(e,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(Js.b)(e,void 0,void 0,function(){return Object(Js.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return jb(e).put(new db(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.cc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.zo(!1)}))})}).next(function(){return t.uc(e)}).next(function(n){return t.isPrimary&&!n?t.ac(e).next(function(){return!1}):!!n&&t.hc(e).next(function(){return!0})})}).catch(function(e){if(og(e))return ah("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ah("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.zo(e)}),t.isPrimary=e})},t.prototype.cc=function(t){var e=this;return Ab(t).get(tb.key).next(function(t){return Wp.resolve(e.lc(t))})},t.prototype._c=function(t){return jb(t).delete(this.clientId)},t.prototype.fc=function(){return Object(Js.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(Js.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,db.store);return n.ui().next(function(t){var e=i.wc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Wp.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));o.label=2;case 2:return[2]}})})},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.tc().then(function(){return t.fc()}).then(function(){return t.sc()})})},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?Wp.resolve(!0):Ab(t).get(tb.key).next(function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new gh(ph.FAILED_PRECONDITION,xb);return!1}}return!(!e.networkEnabled||!e.inForeground)||jb(t).ui().next(function(t){return void 0===e.wc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ah("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Ic=function(){return Object(Js.b)(this,void 0,void 0,function(){var t=this;return Object(Js.d)(this,function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[tb.store,db.store],function(e){var n=new Tb(e,tg.Ds);return t.ac(n).next(function(){return t._c(n)})})];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}})})},t.prototype.wc=function(t,e){var n=this;return t.filter(function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)})},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return jb(e).ui().next(function(e){return t.wc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return Vg.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ah("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",bb,function(o){return r=new Tb(o,i.Uo?i.Uo.next():tg.Ds),"readwrite-primary"===e?i.cc(r).next(function(t){return!!t||i.uc(r)}).next(function(e){if(!e)throw uh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.zo(!1)}),new gh(ph.FAILED_PRECONDITION,Jp);return n(r)}).next(function(t){return i.hc(r).next(function(){return t})}):i.Dc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.Dc=function(t){var e=this;return Ab(t).get(tb.key).next(function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new gh(ph.FAILED_PRECONDITION,xb)})},t.prototype.hc=function(t){var e=new tb(this.clientId,this.allowTabSynchronization,Date.now());return Ab(t).put(tb.key,e)},t.Gs=function(){return ng.Gs()},t.prototype.ac=function(t){var e=this,n=Ab(t);return n.get(tb.key).next(function(t){return e.lc(t)?(ah("IndexedDbPersistence","Releasing primary lease."),n.delete(tb.key)):Wp.resolve()})},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(uh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()})},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri(function(){return e.Ic()})},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return ah("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return uh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){uh("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ab(t){return kb.Ys(t,tb.store)}function jb(t){return kb.Ys(t,db.store)}var Mb=function(){function t(t,e){this.db=t,this.cr=new wg(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Cc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,function(t,n){return e(n)})},t.prototype.Oo=function(t,e,n){return Pb(t,n)},t.prototype.ko=function(t,e,n){return Pb(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return Pb(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return Bg(t).fi(function(r){return Ug(t,r,e).next(function(t){return t&&(n=!0),Wp.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],o=0;return this.Nc(t,function(s,a){if(a<=e){var u=n.xc(t,s).next(function(e){if(!e)return o++,r.Jn(t,s).next(function(){return r.Hn(s),Sb(t).delete([0,Cg(s.path)])})});i.push(u)}}).next(function(){return Wp.qn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return Pb(t,e)},t.prototype.Nc=function(t,e){var n,r=Sb(t),i=tg.Ds;return r._i({index:cb.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==tg.Ds&&e(new Mh(Sg(n)),i),i=s,n=o):i=tg.Ds}).next(function(){i!==tg.Ds&&e(new Mh(Sg(n)),i)})},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function Pb(t,e){return Sb(t).put(function(t,e){return new cb(0,Cg(t.path),e)}(e,t.Lo))}function Lb(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Rb=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new Qh(Ch),this.kc=new Hp(function(t){return Vh(t)},Uh),this.$c=xh.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new Zp(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Mc)})},t}();function Nb(t,e,n,r){return new Rb(t,e,n,r)}function Db(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Js.d)(this,function(s){switch(s.label){case 0:return n=dh(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.rs.qr(t).next(function(s){return o=s,r=n.persistence.yc(e),i=new Zp(n.Lc,r,n.persistence.bc()),r.qr(t)}).next(function(e){for(var n=[],r=[],s=af(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i._s(t,s).next(function(t){return{qc:t,Uc:n,Qc:r}})})})];case 1:return o=s.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),o)]}})})}function Vb(t,e){var n=dh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Wp.resolve();return o.forEach(function(t){s=s.next(function(){return r.Jn(e,t)}).next(function(e){var o=e,s=n.Sn.get(t);fh(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)})}),s.next(function(){return t.rs.Qr(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}function Ub(t){var e=dh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Yo.Po(t)})}function Fb(t,e){var n=dh(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Lc.io({ro:!0});i=n.Mc;var s=[];e.re.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.Yo.Mo(t,e.de,o).next(function(){return n.Yo.Fo(t,e._e,o)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(o,c),function(t,e,n){return fh(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&s.push(n.Yo.So(t,c))}}});var a=tf();if(e.ce.forEach(function(r,i){e.ue.has(r)&&s.push(n.persistence.Dr.Fc(t,r))}),s.push(function(t,e,n,r,i){var o=af();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var i=tf();return n.forEach(function(n,o){var s=t.get(n),a=r;o instanceof up&&o.version.isEqual(xh.min())?(e.Hn(n,a),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,a),i=i.Tt(n,o)):ah("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),i})}(t,o,e.ce,r).next(function(t){a=t})),!r.isEqual(xh.min())){var u=n.Yo.Po(t).next(function(e){return n.Yo.Vo(t,t.Lo,r)});s.push(u)}return Wp.qn(s).next(function(){return o.apply(t)}).next(function(){return n.Bc.fs(t,a)})}).then(function(t){return n.Mc=i,t})}function zb(t,e){var n=dh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)})}function qb(t,e){var n=dh(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Yo.xo(t,e).next(function(i){return i?Wp.resolve(r=i):n.Yo.mo(t).next(function(i){return r=new Hh(e,i,0,t.Lo),n.Yo.po(t,r).next(function(){return r})})})}).then(function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t})}function Bb(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Js.d)(this,function(a){switch(a.label){case 0:r=dh(t),i=r.Mc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Dr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!og(s=a.sent()))throw s;return ah("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}})})}function Hb(t,e,n){var r=dh(t),i=xh.min(),o=af();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=dh(t),i=r.kc.get(n);return void 0!==i?Wp.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,yp(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Oc.ws(t,e,n?i:xh.min(),n?o:af())}).next(function(t){return{documents:t,Kc:o}})})}function Wb(t,e){var n=dh(t),r=dh(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function Gb(t){var e=dh(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=dh(t),i=tf(),o=Ag(n),s=$g(e),a=IDBKeyRange.lowerBound(o,!0);return s._i({index:sb.readTimeIndex,range:a},function(t,e){var n=Tg(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime}).next(function(){return{Wc:i,readTime:jg(o)}})}(e.Lc,t,e.$c)}).then(function(t){var n=t.Wc;return e.$c=t.readTime,n})}function $b(t){return Object(Js.b)(this,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){return[2,(e=dh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=$g(t),n=xh.min();return e._i({index:sb.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=jg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$c=t})]})})}function Qb(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){if(t.code!==ph.FAILED_PRECONDITION||t.message!==Jp)throw t;return ah("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Kb=function(){function t(t,e,n,r,i,o){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=o,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new eg(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,function(){return t.nu()}))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(t){return this.Xc()?[2,this.close(0)]:[2]})})},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===ph.RESOURCE_EXHAUSTED?(uh(e.toString()),uh("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===ph.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}})})},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then(function(e){t.Hc===n&&t.uu(e)},function(n){e(function(){var e=new gh(ph.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)})})},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu(function(){n(function(){return e.state=2,e.listener.lu()})}),this.stream.ou(function(t){n(function(){return e.au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(Js.b)(t,void 0,void 0,function(){return Object(Js.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.au=function(t){return ah("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Hc===t?n():(ah("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Jb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(Js.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:hh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(fh(void 0===e||"string"==typeof e),zh.fromBase64String(e||"")):(fh(void 0===e||e instanceof Uint8Array),zh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?ph.UNKNOWN:$h(t.code);return new gh(e,t.message||"")}(s);n=new mf(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=id(t,u.document.name),l=td(u.document.updateTime),h=new rp({mapValue:{fields:u.document.fields}}),f=new ap(c,l,h,{});n=new gf(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=id(t,d.document),g=d.readTime?td(d.readTime):xh.min(),b=new up(p,g);n=new gf([],d.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){var m=e.documentRemove,v=id(t,m.document);n=new gf([],m.removedTargetIds||[],v,null)}else{if(!("filter"in e))return hh();var y=e.filter,_=new Wh(y.count||0);n=new bf(y.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return xh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xh.min():e.readTime?td(e.readTime):xh.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=ad(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Fh(r)?{documents:fd(t,r)}:{query:dd(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Zf(t,e.resumeToken):e.ft.F(xh.min())>0&&(n.readTime=Yf(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hh()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=ad(this.serializer),e.removeTarget=t,this.su(e)},e}(Kb),Yb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Eu=!1,s}return Object(Js.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(fh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(fh(void 0!==e),t.map(function(t){return function(t,e){var n=td(t.updateTime?t.updateTime:e);n.isEqual(xh.min())&&(n=td(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Fd(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=td(t.commitTime);return this.listener.mu(n,e)}return fh(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=ad(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ld(e.serializer,t)})};this.su(n)},e}(Kb),Zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(Js.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new gh(ph.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.yu(t,e,n,i)}).catch(function(t){throw t.code===ph.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.Vu(t,e,n,i)}).catch(function(t){throw t.code===ph.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Pu=!1},e}(function(){}),Xb=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()}))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(uh(e),this.Su=!1):ah("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),tm=function(t,e,n,r,i){var o=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu(function(t){n.Ri(function(){return Object(Js.b)(o,void 0,void 0,function(){return Object(Js.d)(this,function(t){switch(t.label){case 0:return cm(this)?(ah("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Js.b)(this,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return(e=dh(t)).Bu.add(4),[4,nm(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,em(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Ku=new Xb(n,r)};function em(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:if(!cm(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nm(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function rm(t,e){var n=dh(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),um(n)?am(n):Em(n).Xc()&&om(n,e))}function im(t,e){var n=dh(t),r=Em(n);n.Lu.delete(e),r.Xc()&&sm(n,e),0===n.Lu.size&&(r.Xc()?r.eu():cm(n)&&n.Ku.set("Unknown"))}function om(t,e){t.Wu.De(e.targetId),Em(t).du(e)}function sm(t,e){t.Wu.De(e),Em(t).wu(e)}function am(t){t.Wu=new yf({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),Em(t).start(),t.Ku.Du()}function um(t){return cm(t)&&!Em(t).Yc()&&t.Lu.size>0}function cm(t){return 0===dh(t).Bu.size}function lm(t){t.Wu=void 0}function hm(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){return t.Lu.forEach(function(e,n){om(t,e)}),[2]})})}function fm(t,e){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(n){return lm(t),um(t)?(t.Ku.xu(e),am(t)):t.Ku.set("Unknown"),[2]})})}function dm(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o;return Object(Js.d)(this,function(s){switch(s.label){case 0:if(t.Ku.set("Online"),!(e instanceof mf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Js.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Lu.has(o=i[r])?[4,t.ku.ju(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Lu.delete(o),t.Wu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ah("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,pm(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof gf?t.Wu.$e(e):e instanceof bf?t.Wu.je(e):t.Wu.qe(e),n.isEqual(xh.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Ub(t.Ou)];case 8:return i=s.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(zh.lt,n.ft)),sm(t,e);var r=new Hh(n.target,e,1,n.sequenceNumber);om(t,r)}}),t.ku.Gu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ah("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,pm(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function pm(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r=this;return Object(Js.d)(this,function(i){switch(i.label){case 0:if(!og(e))throw e;return t.Bu.add(1),[4,nm(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return Ub(t.Ou)}),t.di.Mi(function(){return Object(Js.b)(r,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return ah("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,em(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function gm(t,e){return e().catch(function(n){return pm(t,n,e)})}function bm(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Js.d)(this,function(s){switch(s.label){case 0:e=dh(t),n=Im(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return cm(t)&&t.$u.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,zb(e.Ou,r)];case 3:return null===(i=s.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=Im(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,pm(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return mm(e)&&vm(e),[2]}})})}function mm(t){return cm(t)&&!Im(t).Yc()&&t.$u.length>0}function vm(t){Im(t).start()}function ym(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){return Im(t).Ru(),[2]})})}function _m(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n,r;return Object(Js.d)(this,function(i){for(e=Im(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]})})}function wm(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i;return Object(Js.d)(this,function(o){switch(o.label){case 0:return r=t.$u.shift(),i=Bp.from(r,e,n),[4,gm(t,function(){return t.ku.zu(i)})];case 1:return o.sent(),[4,bm(t)];case 2:return o.sent(),[2]}})})}function Om(t,e){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(n){switch(n.label){case 0:return e&&Im(t).Tu?[4,function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r;return Object(Js.d)(this,function(i){switch(i.label){case 0:return Gh(r=e.code)&&r!==ph.ABORTED?(n=t.$u.shift(),Im(t).tu(),[4,gm(t,function(){return t.ku.Hu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,bm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return mm(t)&&vm(t),[2]}})})}function Cm(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return n=dh(t),e?(n.Bu.delete(2),[4,em(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,nm(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Em(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=dh(t);return r.gu(),new Jb(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:hm.bind(null,t),ou:fm.bind(null,t),fu:dm.bind(null,t)}),t.qu.push(function(n){return Object(Js.b)(e,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return n?(t.Ju.tu(),um(t)?am(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),lm(t),e.label=3;case 3:return[2]}})})})),t.Ju}function Im(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=dh(t);return r.gu(),new Yb(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:ym.bind(null,t),ou:Om.bind(null,t),Au:_m.bind(null,t),mu:wm.bind(null,t)}),t.qu.push(function(n){return Object(Js.b)(e,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,bm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(ah("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}})})})),t.Yu}var Sm=function(){this.Xu=void 0,this.listeners=[]},xm=function(){this.queries=new Hp(function(t){return Op(t)},wp),this.onlineState="Unknown",this.Zu=new Set};function Tm(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Js.d)(this,function(c){switch(c.label){case 0:if(n=dh(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Sm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.ta(r)];case 2:return s.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=gg(a,"Initialization of query '"+Cp(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.ea(n.onlineState),o.Xu&&e.na(o.Xu)&&Mm(n),[2]}})})}function km(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Js.d)(this,function(a){return n=dh(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]})})}function Am(t,e){for(var n=dh(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(s)&&(r=!0);a.Xu=s}}r&&Mm(n)}function jm(t,e,n){var r=dh(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Mm(t){t.Zu.forEach(function(t){t.next()})}var Pm=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ff(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ra?this.ca(t)&&(this.ia.next(t),o=!0):this.ua(t,this.onlineState)&&(this.aa(t),o=!0),this.oa=t,o},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=ff.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),Lm=function(){function t(){this.la=new Yh(Rm._a),this.fa=new Yh(Rm.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new Rm(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach(function(t){return n.Oo(t,e)})},t.prototype.ko=function(t,e){this.Ea(new Rm(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach(function(t){return n.ko(t,e)})},t.prototype.Ia=function(t){var e=this,n=new Mh(new kh([])),r=new Rm(n,t),i=new Rm(n,t+1),o=[];return this.fa.Kt([r,i],function(t){e.Ea(t),o.push(t.key)}),o},t.prototype.ma=function(){var t=this;this.la.forEach(function(e){return t.Ea(e)})},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Mh(new kh([])),n=new Rm(e,t),r=new Rm(e,t+1),i=af();return this.fa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.zr=function(t){var e=new Rm(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),Rm=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Mh.$(t.key,e.key)||Ch(t.Ra,e.Ra)},t.da=function(t,e){return Ch(t.Ra,e.Ra)||Mh.$(t.key,e.key)},t}();function Nm(t,e){return"firestore_clients_"+t+"_"+e}function Dm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Vm(t,e){return"firestore_targets_"+t+"_"+e}var Um=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new gh(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(uh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new gh(r.error.code,r.error.message)),i?new t(e,r.state,o):(uh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=cf(),s=0;i&&s<r.activeTargetIds.length;++s)i=Rh(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(uh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(uh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bm=function(){function t(){this.activeTargetIds=cf()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hm=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new Qh(Ch),this.lr=!1,this.Ca=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=Nm(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new Bm),this.Fa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Js.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Js.d)(this,function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(Nm(this.persistenceKey,r)))&&(o=zm.Pa(r,i))&&(this.Da=this.Da.Tt(o.clientId,o));for(this.La(),(s=this.storage.getItem(this.ka))&&(a=this.Ba(s))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",function(){return l.Ic()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(Vm(this.persistenceKey,t));if(n){var r=Fm.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(Vm(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach(function(t){r.za(t)}),this.currentUser=t,n.forEach(function(t){r.Wa(t)})},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ah("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ah("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ah("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ah("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void uh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(Js.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Js.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(o=this.Ba(n.newValue)))return[2,this.qa(o)]}else if(n.key===this.xa)(s=function(t){var e=tg.Ds;if(null!=t)try{var n=JSON.parse(t);fh("number"==typeof n),e=n}catch(t){uh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==tg.Ds&&this.ps(s);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new Um(this.currentUser,t,e,n),i=Dm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=Dm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=Vm(this.persistenceKey,t),i=new Fm(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return zm.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return Um.Pa(new ih(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return Fm.Pa(r,e)},t.prototype.Ba=function(t){return qm.Pa(t)},t.prototype._h=function(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(ah("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),o=this.Qa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.va.Ih(s,a).then(function(){n.Da=r})},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=cf();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),Wm=function(){function t(){this.mh=new Bm,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new Bm,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),Gm=function(t){this.key=t},$m=function(t){this.key=t},Qm=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=af(),this.ee=af(),this.yh=Ip(t),this.Vh=new lf(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new hf,i=e?e.Vh:this.Vh,o=e?e.ee:this.ee,s=i,a=!1,u=dp(this.query)&&i.size===this.query.limit?i.last():null,c=pp(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof ap?e:null;h&&(h=Ep(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),dp(this.query)||pp(this.query))for(;s.size>this.query.limit;){var l=dp(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vh:s,Sh:r,br:a,ee:o}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var o=t.Sh.Zt();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hh()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)}),this.Ch(n);var s=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==o.length||u?{snapshot:new ff(this.query,t.Vh,i,o,t.ee,0===a,u,!1),xh:s}:{xh:s}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new hf,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Rh=e.Rh.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Rh=e.Rh.delete(t)}),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=af(),this.Vh.forEach(function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))});var n=[];return e.forEach(function(e){t.gh.has(e)||n.push(new $m(e))}),this.gh.forEach(function(t){e.has(t)||n.push(new Gm(t))}),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=af();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return ff.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),Km=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Jm=function(t){this.key=t,this.kh=!1},Ym=function(){function t(t,e,n,r,i,o){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=o,this.Uh={},this.Qh=new Hp(function(t){return Op(t)},wp),this.Kh=new Map,this.Wh=[],this.jh=new Qh(Mh.$),this.Gh=new Map,this.zh=new Lm,this.Hh={},this.Jh=new Map,this.Yh=Ob.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function Zm(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Js.d)(this,function(a){switch(a.label){case 0:return n=xv(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,qb(n.Ou,yp(e))];case 2:return o=a.sent(),s=n.Bh.Ha(o.targetId),[4,Xm(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Zh&&rm(n.$h,o),a.label=4;case 4:return[2,r]}})})}function Xm(t,e,n,r){return Object(Js.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Js.d)(this,function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(Js.b)(this,void 0,void 0,function(){var i,o,s;return Object(Js.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,Hb(t.Ou,e.query,!1).then(function(t){return e.view.bh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.re.get(e.targetId),s=e.view.Zn(i,t.Zh,o),[2,(fv(t,e.targetId,s.xh),s.snapshot)]}})})}(t,e,n,r)},[4,Hb(t.Ou,e,!0)];case 1:return i=l.sent(),o=new Qm(e,i.Kc),s=o.bh(i.documents),a=pf.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(s,t.Zh,a),fv(t,n,u.xh),c=new Km(e,n,o),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}})})}function tv(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i;return Object(Js.d)(this,function(o){switch(o.label){case 0:return n=dh(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter(function(t){return!wp(t,e)})),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,Bb(n.Ou,r.targetId,!1).then(function(){n.Bh.Za(r.targetId),im(n.$h,r.targetId),lv(n,r.targetId)}).catch(Qb)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return lv(n,r.targetId),[4,Bb(n.Ou,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ev(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Js.d)(this,function(a){switch(a.label){case 0:r=Tv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=dh(t),i=Sh.now(),o=e.reduce(function(t,e){return t.add(e.key)},af());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Bc._s(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Gd(c,n.get(c.key));null!=l&&s.push(new Jd(c.key,l,op(l.proto.mapValue),zd.exists(!0)))}return r.rs.Or(t,i,s,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new Qh(Ch)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,gv(r,i.Qn)];case 3:return a.sent(),[4,bm(r.$h)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=gg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function nv(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r;return Object(Js.d)(this,function(i){switch(i.label){case 0:n=dh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Fb(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Gh.get(e);r&&(fh(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?fh(r.kh):t.de.size>0&&(fh(r.kh),r.kh=!1))}),[4,gv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Qb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function rv(t,e,n){var r=dh(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach(function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=dh(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].ea(e)&&(r=!0)}),r&&Mm(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function iv(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Js.d)(this,function(c){switch(c.label){case 0:return(r=dh(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(o=i&&i.key)?(s=(s=new Qh(Mh.$)).Tt(o,new up(o,xh.min())),a=af().add(o),u=new df(xh.min(),new Map,new Yh(Ch),s,a),[4,nv(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(o),r.Gh.delete(e),pv(r),[3,4];case 2:return[4,Bb(r.Ou,e,!1).then(function(){return lv(r,e,n)}).catch(Qb)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function ov(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i;return Object(Js.d)(this,function(o){switch(o.label){case 0:n=dh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Vb(n.Ou,e)];case 2:return i=o.sent(),cv(n,r,null),uv(n,r),n.Bh.Ga(r,"acknowledged"),[4,gv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function sv(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i;return Object(Js.d)(this,function(o){switch(o.label){case 0:r=dh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=dh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.kr(t,e).next(function(e){return fh(null!==e),r=e.keys(),n.rs.Qr(t,e)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}(r.Ou,e)];case 2:return i=o.sent(),cv(r,e,n),uv(r,e),r.Bh.Ga(e,"rejected",n),[4,gv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Qb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function av(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Js.d)(this,function(a){switch(a.label){case 0:cm((n=dh(t)).$h)||ah("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=dh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Br(t)})}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return o=a.sent(),s=gg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function uv(t,e){(t.Jh.get(e)||[]).forEach(function(t){t.resolve()}),t.Jh.delete(e)}function cv(t,e,n){var r=dh(t),i=r.Hh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function lv(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var o=i[r];t.Qh.delete(o),n&&t.Uh.el(o,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach(function(e){t.zh.zr(e)||hv(t,e)})}function hv(t,e){var n=t.jh.get(e);null!==n&&(im(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),pv(t))}function fv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Gm?(t.zh.Oo(o.key,e),dv(t,o)):o instanceof $m?(ah("SyncEngine","Document no longer in limbo: "+o.key),t.zh.ko(o.key,e),t.zh.zr(o.key)||hv(t,o.key)):hh()}}function dv(t,e){var n=e.key;t.jh.get(n)||(ah("SyncEngine","New document in limbo: "+n),t.Wh.push(n),pv(t))}function pv(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new Jm(e)),t.jh=t.jh.Tt(e,n),rm(t.$h,new Hh(yp(fp(e.path)),n,2,tg.Ds))}}function gv(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Js.d)(this,function(a){switch(a.label){case 0:return r=dh(t),i=[],o=[],s=[],r.Qh.W()?[3,3]:(r.Qh.forEach(function(t,a){s.push(r.tl(a,e,n).then(function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Xp.Vs(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Js.d)(this,function(l){switch(l.label){case 0:n=dh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Wp.forEach(e,function(e){return Wp.forEach(e.gs,function(r){return n.persistence.Dr.Oo(t,e.targetId,r)}).next(function(){return Wp.forEach(e.ys,function(r){return n.persistence.Dr.ko(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!og(r=l.sent()))throw r;return ah("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}})})}(r.Ou,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function bv(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r;return Object(Js.d)(this,function(i){switch(i.label){case 0:return(n=dh(t)).currentUser.isEqual(e)?[3,3]:(ah("SyncEngine","User change. New user:",e.h()),[4,Db(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach(function(t){t.forEach(function(t){t.reject(new gh(ph.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,gv(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function mv(t,e){var n=dh(t),r=n.Gh.get(e);if(r&&r.kh)return af().add(r.key);var i=af(),o=n.Kh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Qh.get(a[s]);i=i.Gt(u.view.ph)}return i}function vv(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i;return Object(Js.d)(this,function(o){switch(o.label){case 0:return[4,Hb((n=dh(t)).Ou,e.query,!0)];case 1:return r=o.sent(),i=e.view.Oh(r),[2,(n.Zh&&fv(n,e.targetId,i.xh),i)]}})})}function yv(t){return Object(Js.b)(this,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){return[2,Gb((e=dh(t)).Ou).then(function(t){return gv(e,t)})]})})}function _v(t,e,n,r){return Object(Js.b)(this,void 0,void 0,function(){var i,o;return Object(Js.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=dh(t),r=dh(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.$r(t,e).next(function(e){return e?n.Bc._s(t,e):Wp.resolve(null)})})}((i=dh(t)).Ou,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,bm(i.$h)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cv(i,e,r||null),uv(i,e),function(t,e){dh(dh(t).rs).Wr(e)}(i.Ou,e)):hh(),s.label=4;case 4:return[4,gv(i,o)];case 5:return s.sent(),[3,7];case 6:ah("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function wv(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Js.d)(this,function(c){switch(c.label){case 0:return xv(n=dh(t)),Tv(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,Ov(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,Cm(n.$h,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)rm(n.$h,s[o]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach(function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then(function(){return lv(n,e),Bb(n.Ou,e,!0)}),im(n.$h,e)}),[4,u]);case 4:return c.sent(),[4,Ov(n,a)];case 5:return c.sent(),function(t){var e=dh(t);e.Gh.forEach(function(t,n){im(e.$h,n)}),e.zh.ma(),e.Gh=new Map,e.jh=new Qh(Mh.$)}(n),n.Xh=!1,[4,Cm(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ov(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Js.d)(this,function(g){switch(g.label){case 0:n=dh(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Kh.get(a=s[o]))&&0!==c.length?[4,qb(n.Ou,yp(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,vv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Wb(n.Ou,a)];case 8:return p=g.sent(),[4,qb(n.Ou,p)];case 9:return u=g.sent(),[4,Xm(n,Cv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}})})}function Cv(t){return hp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ev(t){var e=dh(t);return dh(dh(e.Ou).persistence).gc()}function Iv(t,e,n,r){return Object(Js.b)(this,void 0,void 0,function(){var i,o,s;return Object(Js.d)(this,function(a){switch(a.label){case 0:return(i=dh(t)).Xh?(ah("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Gb(i.Ou)];case 3:return o=a.sent(),s=df.ae(e,"current"===n),[4,gv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Bb(i.Ou,e,!0)];case 6:return a.sent(),lv(i,e,r),[3,8];case 7:hh(),a.label=8;case 8:return[2]}})})}function Sv(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Js.d)(this,function(f){switch(f.label){case 0:if(!(r=xv(t)).Xh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Kh.has(s=o[i])?(ah("SyncEngine","Adding an already active target "+s),[3,5]):[4,Wb(r.Ou,s)]:[3,6];case 2:return a=f.sent(),[4,qb(r.Ou,a)];case 3:return u=f.sent(),[4,Xm(r,Cv(a),u.targetId,!1)];case 4:f.sent(),rm(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Js.d)(this,function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,Bb(r.Ou,t,!1).then(function(){im(r.$h,t),lv(r,t)}).catch(Qb)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function xv(t){var e=dh(t);return e.$h.ku.Gu=nv.bind(null,e),e.$h.ku.Xe=mv.bind(null,e),e.$h.ku.ju=iv.bind(null,e),e.Uh.fu=Am.bind(null,e.Lh),e.Uh.el=jm.bind(null,e.Lh),e}function Tv(t){var e=dh(t);return e.$h.ku.zu=ov.bind(null,e),e.$h.ku.Hu=sv.bind(null,e),e}var kv=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new Yh(Rm._a)}return t.prototype.Fr=function(t){return Wp.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var o=new qp(i,e,n,r);this.rs.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sl=this.sl.add(new Rm(u.key,i)),this.os.Mr(t,u.key.path.q())}return Wp.resolve(o)},t.prototype.kr=function(t,e){return Wp.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Wp.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return Wp.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return Wp.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new Rm(e,0),i=new Rm(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ra);o.push(e)}),Wp.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new Yh(Ch);return e.forEach(function(t){var e=new Rm(t,0),i=new Rm(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ra)})}),Wp.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Mh.ot(i)||(i=i.child(""));var o=new Rm(new Mh(i),0),s=new Yh(Ch);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ra)),!0)},o),Wp.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.Qr=function(t,e){var n=this;fh(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Wp.forEach(e.mutations,function(i){var o=new Rm(i.key,e.batchId);return r=r.delete(o),n.Dr.jr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new Rm(e,0),r=this.sl.jt(n);return Wp.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return Wp.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Av=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Qh(Mh.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Wp.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=ef();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),Wp.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=rf(),i=new Mh(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),a=s.value,u=a.zn,c=a.readTime;if(!e.path.j(s.key.path))break;c.F(n)<=0||u instanceof ap&&Ep(e,u)&&(r=r.Tt(u.key,u))}return Wp.resolve(r)},t.prototype.al=function(t,e){return Wp.forEach(this.docs,function(t){return e(t)})},t.prototype.io=function(t){return new jv(this)},t.prototype.oo=function(t){return Wp.resolve(this.size)},t}(),jv=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(Js.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)}),Wp.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(Gp),Mv=function(){function t(t){this.persistence=t,this.hl=new Hp(function(t){return Vh(t)},Uh),this.lastRemoteSnapshotVersion=xh.min(),this.highestTargetId=0,this.ll=0,this._l=new Lm,this.targetCount=0,this.fl=Ob.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),Wp.resolve()},t.prototype.Po=function(t){return Wp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return Wp.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),Wp.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Wp.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new Ob(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,Wp.resolve()},t.prototype.So=function(t,e){return this.vo(e),Wp.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,Wp.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.Co(t,a.targetId)),i++)}),Wp.qn(o).next(function(){return i})},t.prototype.No=function(t){return Wp.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return Wp.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),Wp.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach(function(e){i.push(r.jr(t,e))}),Wp.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),Wp.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return Wp.resolve(n)},t.prototype.zr=function(t,e){return Wp.resolve(this._l.zr(e))},t}(),Pv=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return Wp.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:td(n.createTime)}),Wp.resolve()},t.prototype._o=function(t,e){return Wp.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Dg(n.bundledQuery),readTime:td(n.readTime)}),Wp.resolve()},t}(),Lv=function(){function t(t,e){var n=this;this.El={},this.Uo=new tg(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new Mv(this),this.os=new Jg,this.ss=function(t,e){return new Av(t,function(t){return n.Dr.Tl(t)})}(this.os),this.serializer=new xg(e),this.Xo=new Pv(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new kv(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;ah("MemoryPersistence","Starting transaction:",t);var i=new Rv(this.Uo.next());return this.Dr.Il(),n(i).next(function(t){return r.Dr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return Wp.Un(Object.values(this.El).map(function(n){return function(){return n.zr(t,e)}}))},t}(),Rv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(Js.c)(e,t),e}(Yp),Nv=function(){function t(t){this.persistence=t,this.Rl=new Lm,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw hh()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),Wp.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),Wp.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),Wp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Vc();return r.$o(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Do(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return Wp.forEach(this.yl,function(r){var i=Mh.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Wp.Un([function(){return Wp.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Dv=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Uv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Js.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,o){var s=new th;s.listenOnce(Yl.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Jl.NO_ERROR:var e=s.getResponseJson();ah("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Jl.TIMEOUT:ah("Connection",'RPC "'+t+'" timed out'),o(new gh(ph.DEADLINE_EXCEEDED,"Request time out"));break;case Jl.HTTP_ERROR:var n=s.getStatus();if(ah("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ph).indexOf(e)>=0?e:ph.UNKNOWN}(r.status);o(new gh(a,r.message))}else o(new gh(ph.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new gh(ph.UNAVAILABLE,"Connection failed."));break;default:hh()}}finally{ah("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Wl,i=Qu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(Xs.m)()||Object(Xs.o)()||Object(Xs.k)()||Object(Xs.l)()||Object(Xs.p)()||Object(Xs.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ah("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Dv({pl:function(t){c?ah("Connection","Not sending because WebChannel is closed:",t):(u||(ah("Connection","Opening WebChannel transport."),a.open(),u=!0),ah("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Xl.EventType.OPEN,function(){c||ah("Connection","WebChannel transport opened.")}),h(a,Xl.EventType.CLOSE,function(){c||(c=!0,ah("Connection","WebChannel transport closed"),l.Nl())}),h(a,Xl.EventType.ERROR,function(t){c||(c=!0,ch("Connection","WebChannel transport errored:",t),l.Nl(new gh(ph.UNAVAILABLE,"The operation could not be completed")))}),h(a,Xl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];fh(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ah("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=qh[t];if(void 0!==e)return $h(e)}(i),s=r.message;void 0===o&&(o=ph.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new gh(o,s)),a.close()}else ah("Connection","WebChannel received:",n),l.xl(n)}}),h(i,Zl.STAT_EVENT,function(t){10===t.stat?ah("Connection","Detected buffering proxy"):11===t.stat&&ah("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);ah("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then(function(t){return ah("RestConnection","Received: ",t),t},function(e){throw ch("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Vv[t]},t}()),Fv=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){ah("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){ah("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),zv=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),qv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return this.serializer=Qp(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Nb(this.persistence,new Og,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Lv(Nv.gl,this.serializer)},t.prototype.jl=function(t){return new Wm},t.prototype.terminate=function(){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}})})},t}(),Bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Js.c)(e,t),e.prototype.initialize=function(e){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,$b(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Tv(this.Xl.va)];case 4:return n.sent(),[4,bm(this.Xl.$h)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Nb(this.persistence,new Og,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new _g(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=Lb(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?yg.er(this.cacheSizeBytes):yg.ir;return new kb(this.synchronizeTabs,e,t.clientId,n,t.di,hg(),fg(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Wm},e}(qv),Hv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Js.c)(e,t),e.prototype.initialize=function(e){return Object(Js.b)(this,void 0,void 0,function(){var n,r=this;return Object(Js.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof Hm?(this.Bh.va={Eh:_v.bind(null,n),Th:Iv.bind(null,n),Ih:Sv.bind(null,n),gc:Ev.bind(null,n),wh:yv.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic(function(t){return Object(Js.b)(r,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return[4,wv(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=hg();if(!Hm.Gs(e))throw new gh(ph.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Lb(t.Fl.t,t.Fl.persistenceKey);return new Hm(e,t.di,n,t.clientId,t.Yl)},e}(Bv),Wv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n=this;return Object(Js.d)(this,function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return rv(n.va,t,1)},this.$h.ku.s_=bv.bind(null,this.va),[4,Cm(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new xm},t.prototype.Zl=function(t){var e=Qp(t.Fl.t),n=new Uv(t.Fl);return function(t,e,n){return new Zb(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return rv(s.va,t,0)},o=Fv.Gs()?new Fv:new zv,new tm(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Ym(t,e,n,r,i,o);return s&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(Js.b)(this,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return e=dh(t),ah("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,nm(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}})})}(this.$h)},t}(),Gv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function $v(t,e,n){if(!n)throw new gh(ph.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Qv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gh(ph.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Kv(t,e,n,r){if(!0===e&&!0===r)throw new gh(ph.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Jv(t){if(!Mh.ot(t))throw new gh(ph.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Yv(t){if(Mh.ot(t))throw new gh(ph.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":hh()}function Xv(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new gh(ph.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Zv(t);throw new gh(ph.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ty(t,e){if(e<=0)throw new gh(ph.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ey=function(t){this._methodName=t},ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ey);function ry(t,e,n){return new a_({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var iy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.c_=function(t){return new Ud(t.path,new Ad)},e.prototype.isEqual=function(t){return t instanceof e},e}(ey),oy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Js.c)(e,t),e.prototype.c_=function(t){var e=ry(this,t,!0),n=this.__.map(function(t){return d_(t,e)}),r=new jd(n);return new Ud(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ey),sy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Js.c)(e,t),e.prototype.c_=function(t){var e=ry(this,t,!0),n=this.__.map(function(t){return d_(t,e)}),r=new Pd(n);return new Ud(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ey),ay=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Js.c)(e,t),e.prototype.c_=function(t){var e=new Rd(t.serializer,Jf(t.serializer,this.f_));return new Ud(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ey),uy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new gh(ph.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gh(ph.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Ch(this.d_,t.d_)||Ch(this.w_,t.w_)},t}(),cy=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(zh.fromBase64String(e))}catch(e){throw new gh(ph.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(zh.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),ly=function(t){this.o_=t},hy=new Map,fy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new gh(ph.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gh(ph.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Kv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),dy=function(){function t(t,e){this.T_="(lite)",this.I_=new fy({}),this.m_=!1,t instanceof rh?(this.A_=t,this.R_=new mh):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new gh(ph.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(t.options.projectId)}(t),this.R_=new vh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new gh(ph.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new gh(ph.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new fy(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new mh;switch(t.type){case"gapi":var e=t.client;return fh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new _h(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new gh(ph.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=hy.get(t);e&&(ah("ComponentProvider","Removing Datastore"),hy.delete(t),e.terminate())}(this),Promise.resolve()},t}();function py(){if("undefined"==typeof Uint8Array)throw new gh(ph.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function gy(){if("undefined"==typeof atob)throw new gh(ph.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var by=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.fromBase64String=function(t){return gy(),new e(cy.fromBase64String(t))},e.fromUint8Array=function(t){return py(),new e(cy.fromUint8Array(t))},e.prototype.toBase64=function(){return gy(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return py(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ly),my=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),kf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Df(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Vf(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw hh()}},t.prototype.k_=function(t,e){var n=this,r={};return Cf(t.fields||{},function(t,i){r[t]=n.D_(i,e)}),r},t.prototype.O_=function(t){return new uy(Df(t.latitude),Df(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.D_(t,e)})},t.prototype.N_=function(t,e){switch(e){case"previous":var n=Sf(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(xf(t));default:return null}},t.prototype.C_=function(t){var e=Nf(t);return new Sh(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=kh.Y(t);fh(Id(n));var r=new rh(n.get(1),n.get(3)),i=new Mh(n.B(5));return r.isEqual(e)||uh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),vy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Js.c)(e,t),e.prototype.x_=function(t){return new by(new cy(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return W_.B_(e,this.firestore,null)},e}(my),yy=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ny(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new _y(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(wy("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),_y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(yy);function wy(t,e){return"string"==typeof e?y_(t,e):e instanceof ly?e.o_.j_:e.j_}var Oy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new gh(ph.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new jh(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),Cy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new pg,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(Js.c)(e,t),e.prototype.S_=function(){return this.z_||q_(this),this.z_.terminate()},e}(dy);function Ey(t,e,n){var r=this,i=new $p;return t.di.enqueue(function(){return Object(Js.b)(r,void 0,void 0,function(){var r;return Object(Js.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,I_(t,n)];case 1:return o.sent(),[4,S_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ph.FAILED_PRECONDITION||t.code===ph.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Iy(t){if(t.g_||t.y_)throw new gh(ph.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Sy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).q_=e,a.H_=e,a.metadata=o,a}return Object(Js.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new xy(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(wy("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(yy),xy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Sy),Ty=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new K_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach(function(r){t.call(e,new xy(n.q_,n.U_,r.key,r,new K_(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new gh(ph.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map(function(e){return{type:"added",doc:new xy(t.q_,t.U_,e.doc.key,e.doc,new K_(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}})}var r=t.J_.te;return t.J_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new xy(t.q_,t.U_,e.doc.key,e.doc,new K_(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ky(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.X_=e),this.Y_},t}();function ky(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hh()}}function Ay(t,e){return t instanceof Sy&&e instanceof Sy?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof Ty&&e instanceof Ty&&t.q_===e.q_&&e_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var jy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Js.c)(e,t),e.prototype.x_=function(t){return new cy(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Ny(this.firestore,null,e)},e}(my);function My(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Xv(t,Ny);var o=Xv(t.firestore,Cy),s=n_(o);return e instanceof ly&&(e=e.o_),Ly(o,("string"==typeof e||e instanceof Oy?h_(s,"updateDoc",t.Q_,e,n,r):l_(s,"updateDoc",t.Q_,e)).tf(t.Q_,zd.exists(!0)))}function Py(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof ly&&(t=t.o_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Kp(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Kp(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Ny)c=Xv(t.firestore,Cy),l=fp(t.Q_.path),u={next:function(e){i[a]&&i[a](Ry(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Xv(t,Dy);c=Xv(d.firestore,Cy),l=d.Z_;var p=new jy(c);u={next:function(t){i[a]&&i[a](new Ty(c,p,d,t))},error:i[a+1],complete:i[a+2]},Ky(t.Z_)}return function(t,e,n,r){var i=this,o=new Gv(r),s=new Pm(e,o,n);return t.di.Ri(function(){return Object(Js.b)(i,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return e=Tm,[4,P_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.di.Ri(function(){return Object(Js.b)(i,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return e=km,[4,P_(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(z_(c),l,h,u)}function Ly(t,e){return function(t,e){var n=this,r=new $p;return t.di.Ri(function(){return Object(Js.b)(n,void 0,void 0,function(){var n;return Object(Js.d)(this,function(i){switch(i.label){case 0:return n=ev,[4,M_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(z_(t),e)}function Ry(t,e,n){var r=n.docs.get(e.Q_),i=new jy(t);return new Sy(t,i,e.Q_,r,new K_(n.hasPendingWrites,n.fromCache),e.W_)}var Ny=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Jy(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),Dy=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),Vy=function(){};function Uy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.nf(t)}return t}var Fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(Js.c)(e,t),e.prototype.nf=function(t){var e=n_(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new gh(ph.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$y(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Gy(r,t,l[c]));a={arrayValue:{values:u}}}else a=Gy(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$y(s,o),a=f_(n,"where",s,"in"===o||"not-in"===o);var h=Sp.create(i,o,a);return function(t,e){if(e.An()){var n=bp(t);if(null!==n&&!n.isEqual(e.field))throw new gh(ph.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=gp(t);null!==r&&Qy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new gh(ph.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new Dy(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new lp(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(Vy),zy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(Js.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new gh(ph.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new gh(ph.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Up(e,n);return function(t,e){if(null===gp(t)){var n=bp(t);null!==n&&Qy(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new Dy(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new lp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(Vy),qy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(Js.c)(e,t),e.prototype.nf=function(t){return new Dy(t.firestore,t.W_,_p(t.Z_,this.af,this.hf))},e}(Vy),By=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Js.c)(e,t),e.prototype.nf=function(t){var e=Wy(t,this.type,this.lf,this._f);return new Dy(t.firestore,t.W_,function(t,e){return new lp(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(Vy),Hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Js.c)(e,t),e.prototype.nf=function(t){var e=Wy(t,this.type,this.lf,this._f);return new Dy(t.firestore,t.W_,function(t,e){return new lp(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(Vy);function Wy(t,e,n,r){if(n[0]instanceof ly&&(n[0]=n[0].o_),n[0]instanceof yy)return function(t,e,n,r,i){if(!r)throw new gh(ph.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=vp(t);s<a.length;s++){var u=a[s];if(u.field.tt())o.push(Uf(e,r.key));else{var c=r.field(u.field);if(If(c))throw new gh(ph.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new gh(ph.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Rp(o,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=n_(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new gh(ph.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.tt()){if("string"!=typeof c)throw new gh(ph.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!mp(t)&&-1!==c.indexOf("/"))throw new gh(ph.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(kh.Y(c));if(!Mh.ot(l))throw new gh(ph.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Mh(l);a.push(Uf(e,h))}else{var f=f_(n,r,c);a.push(f)}}return new Rp(a,o)}(t.Z_,t.firestore.A_,i,e,n,r)}function Gy(t,e,n){if(n instanceof ly&&(n=n.o_),"string"==typeof n){if(""===n)throw new gh(ph.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mp(e)&&-1!==n.indexOf("/"))throw new gh(ph.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(kh.Y(n));if(!Mh.ot(r))throw new gh(ph.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Uf(t,new Mh(r))}if(n instanceof Ny)return Uf(t,n.Q_);throw new gh(ph.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zv(n)+".")}function $y(t,e){if(!Array.isArray(t)||0===t.length)throw new gh(ph.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new gh(ph.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Qy(t,e,n){if(!n.isEqual(e))throw new gh(ph.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Ky(t){if(pp(t)&&0===t.Tn.length)throw new gh(ph.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fp(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(Js.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new Ny(this.firestore,null,new Mh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(Dy);function Yy(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ly&&(t=t.o_),$v("collection","path",e),t instanceof dy){var i=kh.Y.apply(kh,Object(Js.g)([e],n));return Yv(i),new Jy(t,null,i)}if(!(t instanceof Ny||t instanceof Jy))throw new gh(ph.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=kh.Y.apply(kh,Object(Js.g)([t.path],n)).child(kh.Y(e));return Yv(o),new Jy(t.firestore,null,o)}function Zy(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ly&&(t=t.o_),1===arguments.length&&(e=Oh.D()),$v("doc","path",e),t instanceof dy){var i=kh.Y.apply(kh,Object(Js.g)([e],n));return Jv(i),new Ny(t,null,new Mh(i))}if(!(t instanceof Ny||t instanceof Jy))throw new gh(ph.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.ef.child(kh.Y.apply(kh,Object(Js.g)([e],n)));return Jv(o),new Ny(t.firestore,t instanceof Jy?t.W_:null,new Mh(o))}var Xy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Js.c)(e,t),e.prototype.x_=function(t){return new cy(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Ny(this.firestore,null,e)},e}(my);function t_(t,e){return t instanceof ly&&(t=t.o_),e instanceof ly&&(e=e.o_),(t instanceof Ny||t instanceof Jy)&&(e instanceof Ny||e instanceof Jy)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function e_(t,e){return t instanceof ly&&(t=t.o_),e instanceof ly&&(e=e.o_),t instanceof Dy&&e instanceof Dy&&t.firestore===e.firestore&&wp(t.Z_,e.Z_)&&t.W_===e.W_}function n_(t){var e=t.b_(),n=Qp(t.A_);return new u_(t.A_,!!e.ignoreUndefinedProperties,n)}var r_=/^__.*__$/,i_=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new Jd(t,this.data,this.en,e):new Kd(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Zd(t,this.fieldTransforms)),n},t}(),o_=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new Jd(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Zd(t,this.fieldTransforms)),n},t}();function s_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hh()}}var a_=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return __(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(s_(this.u_)&&r_.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),u_=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Qp(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new a_({u_:t,methodName:e,h_:n,path:jh.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function c_(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Af(o.merge||o.mergeFields?2:0,e,n,i);b_("Data must be an object, but it was:",s,r);var a,u,c=p_(r,s);if(o.merge)a=new Vd(s.en),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=m_(e,f[h],n);if(!s.contains(d))throw new gh(ph.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");w_(l,d)||l.push(d)}a=new Vd(l),u=s.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=s.fieldTransforms;return new i_(new rp(c),a,u)}function l_(t,e,n,r){var i=t.Af(1,e,n);b_("Data must be an object, but it was:",i,r);var o=[],s=new ip;Cf(r,function(t,r){var a=y_(e,t,n);r instanceof ly&&(r=r.o_);var u=i.Tf(a);if(r instanceof ny)o.push(a);else{var c=d_(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Vd(o);return new o_(s.hn(),a,i.fieldTransforms)}function h_(t,e,n,r,i,o){var s=t.Af(1,e,n),a=[m_(e,r,n)],u=[i];if(o.length%2!=0)throw new gh(ph.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(m_(e,o[c])),u.push(o[c+1]);for(var l=[],h=new ip,f=a.length-1;f>=0;--f)if(!w_(l,a[f])){var d=a[f],p=u[f];p instanceof ly&&(p=p.o_);var g=s.Tf(d);if(p instanceof ny)l.push(d);else{var b=d_(p,g);null!=b&&(l.push(d),h.set(d,b))}}var m=new Vd(l);return new o_(h.hn(),m,s.fieldTransforms)}function f_(t,e,n,r){return void 0===r&&(r=!1),d_(n,t.Af(r?4:3,e))}function d_(t,e){if(t instanceof ly&&(t=t.o_),g_(t))return b_("Unsupported field value:",e,t),p_(t,e);if(t instanceof ey)return function(t,e){if(!s_(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=d_(o[i],e.If(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ly&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Jf(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Sh.fromDate(t);return{timestampValue:Yf(e.serializer,n)}}if(t instanceof Sh){var r=new Sh(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yf(e.serializer,r)}}if(t instanceof uy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cy)return{bytesValue:Zf(e.serializer,t.E_)};if(t instanceof Ny){var i=e.t,o=t.firestore.A_;if(!o.isEqual(i))throw e.a_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ed(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+Zv(t))}(t,e)}function p_(t,e){var n={};return Ef(t)?e.path&&e.path.length>0&&e.en.push(e.path):Cf(t,function(t,r){var i=d_(r,e.wf(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function g_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sh||t instanceof uy||t instanceof cy||t instanceof Ny||t instanceof ey)}function b_(t,e,n){if(!g_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Zv(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function m_(t,e,n){if(e instanceof ly&&(e=e.o_),e instanceof Oy)return e.j_;if("string"==typeof e)return y_(t,e);throw __("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var v_=new RegExp("[~\\*/\\[\\]]");function y_(t,e,n){if(e.search(v_)>=0)throw __("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Oy.bind.apply(Oy,Object(Js.g)([void 0],e.split("."))))).j_}catch(r){throw __("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function __(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new gh(ph.INVALID_ARGUMENT,(a+=". ")+t+u)}function w_(t,e){return t.some(function(t){return t.isEqual(e)})}var O_=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n=this;return Object(Js.d)(this,function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new gh(ph.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Js.d)(this,function(u){switch(u.label){case 0:return n=dh(t),r=ad(n.serializer)+"/documents",i={documents:e.map(function(t){return rd(n.serializer,t)})},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){fh(!!e.found);var n=id(t,e.found.name),r=td(e.found.updateTime),i=new rp({mapValue:{fields:e.found.fields}});return new ap(n,r,i,{})}(t,e):"missing"in e?function(t,e){fh(!!e.missing),fh(!!e.readTime);var n=id(t,e.missing),r=td(e.readTime);return new up(n,r)}(t,e):hh()}(n.serializer,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());fh(!!e),a.push(e)}),a)]}})})}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof up||t instanceof ap?n.vf(t):hh()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new ep(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(Js.b)(this,void 0,void 0,function(){var t,e=this;return Object(Js.d)(this,function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Mh.st(n);e.mutations.push(new np(r,e.rn(r)))}),[4,function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i;return Object(Js.d)(this,function(o){switch(o.label){case 0:return n=dh(t),r=ad(n.serializer)+"/documents",i={writes:e.map(function(t){return ld(n.serializer,t)})},[4,n.yu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}})})},t.prototype.vf=function(t){var e;if(t instanceof ap)e=t.version;else{if(!(t instanceof up))throw hh();e=xh.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new gh(ph.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?zd.updateTime(e):zd.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(xh.min()))throw new gh(ph.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zd.updateTime(e)}return zd.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),C_=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new eg(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs(function(){return Object(Js.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Js.d)(this,function(r){return t=new O_(this.Mu),(e=this.Cf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.Nf(t)})})}).catch(function(t){n.Nf(t)}),[2]})})})},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Ph(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri(function(){return e.Df(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Gh(e)}return!1},t}(),E_=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=ih.UNAUTHENTICATED,this.clientId=Oh.D(),this.Ff=function(){},this.g=new $p,this.credentials.A(function(t){ah("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}})})},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then(function(){return e.Ff(e.user)})},t.prototype.Mf=function(){if(this.di.Ci)throw new gh(ph.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new $p;return this.di.Ni(function(){return Object(Js.b)(t,void 0,void 0,function(){var t,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=gg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function I_(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r=this;return Object(Js.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),ah("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return Object(Js.b)(r,void 0,void 0,function(){return Object(Js.d)(this,function(t){switch(t.label){case 0:return[4,Db(e.Ou,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.rc(function(){return t.terminate()}),t.$f=e,[2]}})})}function S_(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r;return Object(Js.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,x_(t)];case 1:return n=i.sent(),ah("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r;return Object(Js.d)(this,function(i){switch(i.label){case 0:return(n=dh(t)).di.Li(),ah("RemoteStore","RemoteStore received new credentials"),r=cm(n),n.Bu.add(3),[4,nm(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,em(n)];case 3:return i.sent(),[2]}})})}(e.$h,n)})}),t.kf=e,[2]}})})}function x_(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(ah("FirestoreClient","Using default OfflineComponentProvider"),[4,I_(t,new qv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function T_(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return t.kf?[3,2]:(ah("FirestoreClient","Using default OnlineComponentProvider"),[4,S_(t,new Wv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}})})}function k_(t){return x_(t).then(function(t){return t.persistence})}function A_(t){return x_(t).then(function(t){return t.Ou})}function j_(t){return T_(t).then(function(t){return t.$h})}function M_(t){return T_(t).then(function(t){return t.va})}function P_(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return[4,T_(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=Zm.bind(null,e.va),n.sa=tv.bind(null,e.va),n)]}})})}function L_(t,e,n){var r=this;void 0===n&&(n={});var i=new $p;return t.di.Ri(function(){return Object(Js.b)(r,void 0,void 0,function(){var r;return Object(Js.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Gv({next:function(o){e.Ri(function(){return km(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new gh(ph.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new gh(ph.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Pm(fp(n.path),o,{includeMetadataChanges:!0,ha:!0});return Tm(t,s)},[4,P_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}})})}),i.promise}function R_(t,e,n){var r=this;void 0===n&&(n={});var i=new $p;return t.di.Ri(function(){return Object(Js.b)(r,void 0,void 0,function(){var r;return Object(Js.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Gv({next:function(n){e.Ri(function(){return km(t,s)}),n.fromCache&&"server"===r.source?i.reject(new gh(ph.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Pm(n,o,{includeMetadataChanges:!0,ha:!0});return Tm(t,s)},[4,P_(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}})})}),i.promise}var N_=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=n_(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=D_(t,this.q_),i=rw(r.W_,e,n),o=c_(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(o.tf(r.Q_,zd.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var o,s=D_(t,this.q_);return e instanceof ly&&(e=e.o_),o="string"==typeof e||e instanceof Oy?h_(this.Uf,"WriteBatch.update",s.Q_,e,n,r):l_(this.Uf,"WriteBatch.update",s.Q_,e),this.Bf=this.Bf.concat(o.tf(s.Q_,zd.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=D_(t,this.q_);return this.Bf=this.Bf.concat(new ep(e.Q_,zd.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new gh(ph.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function D_(t,e){if(t instanceof ly&&(t=t.o_),t.firestore!==e)throw new gh(ph.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var V_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(Js.c)(e,t),e.prototype.get=function(e){var n=this,r=D_(e,this.q_),i=new jy(this.q_);return t.prototype.get.call(this,e).then(function(t){return new Sy(n.q_,i,r.Q_,t.K_,new K_(!1,!1),r.W_)})},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=n_(t)}return t.prototype.get=function(t){var e=this,n=D_(t,this.q_),r=new Xy(this.q_);return this.Kf.Vf([n.Q_]).then(function(t){if(!t||1!==t.length)return hh();var i=t[0];if(i instanceof up)return new yy(e.q_,r,n.Q_,null,n.W_);if(i instanceof ap)return new yy(e.q_,r,i.key,i,n.W_);throw hh()})},t.prototype.set=function(t,e,n){var r=D_(t,this.q_),i=rw(r.W_,e,n),o=c_(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=D_(t,this.q_);return e instanceof ly&&(e=e.o_),o="string"==typeof e||e instanceof Oy?h_(this.Uf,"Transaction.update",s.Q_,e,n,r):l_(this.Uf,"Transaction.update",s.Q_,e),this.Kf.update(s.Q_,o),this},t.prototype.delete=function(t){var e=D_(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),U_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Iy(t=Xv(t,Cy));var n=z_(t),r=t.b_(),i=new Wv;return Ey(n,i,new Bv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Iy(t=Xv(t,Cy));var e=z_(t),n=t.b_(),r=new Wv;return Ey(e,r,new Hv(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new gh(ph.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new $p;return t.G_.Ni(function(){return Object(Js.b)(e,void 0,void 0,function(){var e;return Object(Js.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Js.b)(this,void 0,void 0,function(){return Object(Js.d)(this,function(e){switch(e.label){case 0:return ng.Gs()?[4,ng.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Lb(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),F_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof rh||(i.jf=e),i}return Object(Js.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&ch("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Js.b)(e,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return[4,k_(t)];case 1:return e=r.sent(),[4,j_(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=dh(t);return e.Bu.delete(0),em(e)}(n))]}})})})}(z_(Xv(this.o_,Cy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Js.b)(e,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return[4,k_(t)];case 1:return e=r.sent(),[4,j_(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(Js.b)(this,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return(e=dh(t)).Bu.add(0),[4,nm(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}})})}(n))]}})})})}(z_(Xv(this.o_,Cy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Kv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new $p;return t.di.Ri(function(){return Object(Js.b)(e,void 0,void 0,function(){var e;return Object(Js.d)(this,function(r){switch(r.label){case 0:return e=av,[4,M_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(z_(Xv(this.o_,Cy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Gv(e);return t.di.Ri(function(){return Object(Js.b)(n,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){dh(t).Zu.add(e),e.next()},[4,P_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.di.Ri(function(){return Object(Js.b)(n,void 0,void 0,function(){var e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){dh(t).Zu.delete(e)},[4,P_(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(z_(t=Xv(t,Cy)),Kp(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new gh(ph.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ew(this,Yy(this.o_,t))}catch(t){throw G_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new W_(this,Zy(this.o_,t))}catch(t){throw G_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Z_(this,function(t,e){if(t=Xv(t,dy),$v("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gh(ph.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Dy(t,null,function(t){return new lp(kh.X(),t)}(e))}(this.o_,t))}catch(t){throw G_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new $p;return t.di.Ri(function(){return Object(Js.b)(n,void 0,void 0,function(){var n;return Object(Js.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return T_(t).then(function(t){return t.Mu})}(t)];case 1:return n=i.sent(),new C_(t.di,n,e,r).run(),[2]}})})}),r.promise}(z_(t),function(n){return e(new V_(t,n))})}(this.o_,function(n){return t(new B_(e,n))})},e.prototype.batch=function(){var t=this;return z_(this.o_),new H_(new N_(this.o_,function(e){return Ly(t.o_,e)}))},e}(ly);function z_(t){return t.z_||q_(t),t.z_.Mf(),t.z_}function q_(t){var e=t.b_(),n=function(t,e,n){return new nh(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new E_(t.R_,t.G_,n)}var B_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Js.c)(e,t),e.prototype.get=function(t){var e=this,n=nw(t);return this.o_.get(n).then(function(t){return new J_(e.q_,t)})},e.prototype.set=function(t,e,n){var r=nw(t);return n?(Qv("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=nw(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(Js.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=nw(t);return this.o_.delete(e),this},e}(ly),H_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.set=function(t,e,n){var r=nw(t);return n?(Qv("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=nw(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(Js.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=nw(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(ly),W_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new vy(e),r}return Object(Js.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new gh(ph.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Ny(n.o_,r,new Mh(t)))},e.B_=function(t,n,r){return new e(n,new Ny(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ew(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new ew(this.firestore,Yy(this.o_,t))}catch(t){throw G_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ly&&(t=t.o_),t instanceof Ny&&t_(this.o_,t)},e.prototype.set=function(t,e){e=Qv("DocumentReference.set",e);try{return function(t,e,n){t=Xv(t,Ny);var r=Xv(t.firestore,Cy),i=rw(t.W_,e,n);return Ly(r,c_(n_(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,zd.on()))}(this.o_,t,e)}catch(t){throw G_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?My(this.o_,t):My.apply(void 0,Object(Js.g)([this.o_,t,e],n))}catch(t){throw G_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ly(Xv((t=this.o_).firestore,Cy),[new ep(t.Q_,zd.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$_(e),i=Q_(e,function(e){return new J_(t.firestore,new Sy(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))});return Py(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xv(t,Ny);var e=Xv(t.firestore,Cy),n=z_(e),r=new jy(e);return function(t,e){var n=this,r=new $p;return t.di.Ri(function(){return Object(Js.b)(n,void 0,void 0,function(){var n;return Object(Js.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o;return Object(Js.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=dh(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Bc.cs(t,e)})}(t,e)];case 1:return(r=s.sent())instanceof ap?n.resolve(r):r instanceof up?n.resolve(null):n.reject(new gh(ph.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=gg(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,A_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Q_).then(function(n){return new Sy(e,r,t.Q_,n,new K_(n instanceof ap&&n.an,!0),t.W_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Xv(t,Ny);var e=Xv(t.firestore,Cy);return L_(z_(e),t.Q_,{source:"server"}).then(function(n){return Ry(e,t,n)})}(this.o_):function(t){t=Xv(t,Ny);var e=Xv(t.firestore,Cy);return L_(z_(e),t.Q_).then(function(n){return Ry(e,t,n)})}(this.o_)).then(function(t){return new J_(e.firestore,new Sy(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ly);function G_(t,e,n){return t.message=t.message.replace(e,n),t}function $_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Kp(r))return r}return{}}function Q_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Kp(t[0])?t[0]:Kp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var K_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),J_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Js.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new W_(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Ay(this.o_,t.o_)},e}(ly),Y_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(J_),Z_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new vy(e),r}return Object(Js.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Uy(this.o_,function(t,e,n){var r=e,i=wy("where",t);return new Fy(i,r,n)}(t,n,r)))}catch(t){throw G_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Uy(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=wy("orderBy",t);return new zy(r,n)}(t,n)))}catch(t){throw G_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Uy(this.o_,function(t){return ty("limit",t),new qy("limit",t,"F")}(t)))}catch(t){throw G_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Uy(this.o_,function(t){return ty("limitToLast",t),new qy("limitToLast",t,"L")}(t)))}catch(t){throw G_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Uy(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new By("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw G_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Uy(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new By("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw G_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Uy(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hy("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw G_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Uy(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hy("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw G_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return e_(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Xv(t,Dy);var e=Xv(t.firestore,Cy),n=z_(e),r=new jy(e);return function(t,e){var n=this,r=new $p;return t.di.Ri(function(){return Object(Js.b)(n,void 0,void 0,function(){var n;return Object(Js.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Js.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Hb(t,e,!0)];case 1:return r=c.sent(),i=new Qm(e,r.Kc),o=i.bh(r.documents),s=i.Zn(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=gg(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,A_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Z_).then(function(n){return new Ty(e,r,t,n)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Xv(t,Dy);var e=Xv(t.firestore,Cy),n=z_(e),r=new jy(e);return R_(n,t.Z_,{source:"server"}).then(function(n){return new Ty(e,r,t,n)})}(this.o_):function(t){t=Xv(t,Dy);var e=Xv(t.firestore,Cy),n=z_(e),r=new jy(e);return Ky(t.Z_),R_(n,t.Z_).then(function(n){return new Ty(e,r,t,n)})}(this.o_)).then(function(t){return new tw(e.firestore,new Ty(e.firestore.o_,e.U_,e.o_,t.J_))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$_(e),i=Q_(e,function(e){return new tw(t.firestore,new Ty(t.firestore.o_,t.U_,t.o_,e.J_))});return Py(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ly),X_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Js.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Y_(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(ly),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Js.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Z_(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new Y_(t.q_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new X_(e.q_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new Y_(n.q_,r))})},e.prototype.isEqual=function(t){return Ay(this.o_,t.o_)},e}(ly),ew=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Js.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new W_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new W_(this.firestore,void 0===t?Zy(this.o_):Zy(this.o_,t))}catch(t){throw G_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Xv(t.firestore,Cy),r=Zy(t),i=rw(t.W_,e);return Ly(n,c_(n_(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,zd.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new W_(e.firestore,t)})},e.prototype.isEqual=function(t){return t_(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Z_);function nw(t){return t instanceof ly&&(t=t.o_),Xv(t,Ny)}function rw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var iw,ow=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Oy.bind.apply(Oy,Object(Js.g)([void 0],e))))||this}return Object(Js.c)(e,t),e.documentId=function(){return new e(jh.et().J())},e.prototype.isEqual=function(t){return t instanceof ly&&(t=t.o_),t instanceof Oy&&this.o_.j_.isEqual(t.j_)},e}(ly),sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Js.c)(e,t),e.serverTimestamp=function(){var t=new iy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ny("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new oy("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sy("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ay("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(ly),aw={Firestore:F_,GeoPoint:uy,Timestamp:Sh,Blob:by,Transaction:B_,WriteBatch:H_,DocumentReference:W_,DocumentSnapshot:J_,Query:Z_,QueryDocumentSnapshot:Y_,QuerySnapshot:tw,CollectionReference:ew,FieldPath:ow,FieldValue:sw,setLogLevel:function(t){oh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function uw(t,e){return function(t,e=Bs.b){return new Mt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function cw(t,e){return uw(t,e).pipe(Object(Lt.a)(t=>({payload:t,type:"query"})))}function lw(t,e){return cw(t,e).pipe(sr(void 0),Hs(),Object(Lt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function hw(t,e,n){return lw(t,n).pipe(ar((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return fw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return fw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new $s(void 0,void 0)),Object(Lt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function fw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function dw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new eh.a("firestore",function(t){return function(t,e){return new F_(t,new Cy(t,e),new U_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},aw)))})(iw=Ys.a),iw.registerVersion("@firebase/firestore","2.0.5");class pw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=lw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(sr(void 0),Hs(),Dn(([t,e])=>e.length>0||!t),Object(Lt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ar((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=dw(t);return hw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return cw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Nt.a)(this.query.get(t)).pipe(Object(Ss.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new gw(this.ref.doc(t),this.afs)}}class gw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ww(n,e);return new pw(r,i,this.afs)}snapshotChanges(){return uw(this.ref,this.afs.schedulers.outsideAngular).pipe(sr(void 0),Hs(),Object(Lt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Lt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Nt.a)(this.ref.get(t)).pipe(Object(Ss.b)(this.afs.schedulers.insideAngular))}}class bw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?lw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Dn(t=>t.length>0),this.afs.keepUnstableUntilFirst):lw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ar((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=dw(t);return hw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return cw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Nt.a)(this.query.get(t)).pipe(Object(Ss.b)(this.afs.schedulers.insideAngular))}}const mw=new r.q("angularfire2.enableFirestorePersistence"),vw=new r.q("angularfire2.firestore.persistenceSettings"),yw=new r.q("angularfire2.firestore.settings"),_w=new r.q("angularfire2.firestore.use-emulator");function ww(t,e=(t=>t)){return{query:e(t),ref:t}}let Ow=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ls.d(o),this.keepUnstableUntilFirst=Object(Ls.h)(this.schedulers);const c=Object(Ls.g)(t,o,e);!Ks.a.auth&&u&&Object(Ls.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ls.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Y(i)){const e=()=>{try{return Object(Nt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(vn.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(vn.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ww(n,e),o=this.schedulers.ngZone.run(()=>r);return new pw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new bw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new gw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ls.c),r.Qb(Ls.b,8),r.Qb(mw,8),r.Qb(yw,8),r.Qb(r.B),r.Qb(r.z),r.Qb(vw,8),r.Qb(_w,8),r.Qb(Rs,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(Ls.c),Object(r.Qb)(Ls.b,8),Object(r.Qb)(mw,8),Object(r.Qb)(yw,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(vw,8),Object(r.Qb)(_w,8),Object(r.Qb)(Rs,8))},token:t,providedIn:"any"}),t})(),Cw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:mw,useValue:!0},{provide:vw,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Ow]}),t})(),Ew=(()=>{class t extends class{isAdmin(t){return"ADMIN"===t.role}isClient(t){return"CLIENT"===t.role}}{constructor(t,e,n){super(),this.afAuth=t,this.afs=e,this.router=n,this.user$=this.afAuth.authState.pipe(Xn(t=>t?this.afs.doc("users/"+t.uid).valueChanges():Object(vn.a)(null)))}login(t,e){return Es(this,void 0,void 0,function*(){try{const n=yield this.afAuth.signInWithEmailAndPassword(t,e);return this.router.navigate(["/home"]),n}catch(n){console.log(n)}})}register(t,e){return Es(this,void 0,void 0,function*(){try{const n=yield this.afAuth.createUserWithEmailAndPassword(t,e);return this.router.navigate(["/home"]),n}catch(n){console.log(n)}})}logout(){return Es(this,void 0,void 0,function*(){try{return yield this.afAuth.signOut(),void this.router.navigate(["/login"])}catch(t){console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(zs),r.Qb(Ow),r.Qb($o))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Iw=(()=>{class t{constructor(t){this.afs=t,this.categorieCollection=t.collection("categories"),this.categoriesCollection=t.collection("categories")}saveCategorie(t){return Es(this,void 0,void 0,function*(){try{this.categoriesCollection.add(t)}catch(e){console.log(e)}})}getAllCategories(){return this.categories=this.categoriesCollection.snapshotChanges().pipe(Object(Lt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e}))),this.categories}deleteCategorie(t){return Es(this,void 0,void 0,function*(){try{return yield this.categorieCollection.doc(t).delete()}catch(e){console.log(e)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ow))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Sw="firebasestorage.googleapis.com",xw=function(t){function e(n,r){var i=t.call(this,jw(n),"Firebase Storage: "+r+" ("+jw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Js.c)(e,t),e.prototype.codeEquals=function(t){return jw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Xs.c),Tw="canceled",kw="invalid-argument",Aw="unsupported-environment";function jw(t){return"storage/"+t}function Mw(){return new xw("unknown","An unknown error occurred, please check the error payload for server response.")}function Pw(){return new xw(Tw,"User canceled the upload/download.")}function Lw(){return new xw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Rw(t){return new xw(kw,t)}function Nw(){return new xw("app-deleted","The Firebase app was deleted.")}function Dw(t){return new xw("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vw(t,e){return new xw("invalid-format","String does not match format '"+t+"': "+e)}function Uw(t){throw new xw("internal-error","Internal error: "+t)}var Fw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},zw=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function qw(t,e){switch(t){case Fw.RAW:return new zw(Bw(e));case Fw.BASE64:case Fw.BASE64URL:return new zw(Hw(t,e));case Fw.DATA_URL:return new zw((n=new Ww(e)).base64?Hw(Fw.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Vw(Fw.DATA_URL,"Malformed data URL.")}return Bw(e)}(n.rest),new Ww(e).contentType)}var n;throw Mw()}function Bw(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Hw(t,e){switch(t){case Fw.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Vw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Fw.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Vw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw Vw(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Ww=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Vw(Fw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Gw="running",$w="pausing",Qw="paused",Kw="success",Jw="canceling",Yw="canceled",Zw="error",Xw={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tO(t){switch(t){case Gw:case $w:case Jw:return Xw.RUNNING;case Qw:return Xw.PAUSED;case Kw:return Xw.SUCCESS;case Yw:return Xw.CANCELED;case Zw:default:return Xw.ERROR}}var eO=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),nO=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=eO.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=eO.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=eO.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Uw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Uw("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Uw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Uw("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),rO=function(){function t(){}return t.prototype.createXhrIo=function(){return new nO},t}();function iO(t){return"string"==typeof t||t instanceof String}function oO(t){return sO()&&t instanceof Blob}function sO(){return"undefined"!=typeof Blob}function aO(t,e,n,r){if(r<e)throw new xw(kw,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new xw(kw,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function uO(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function cO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=uO();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(sO())return new Blob(t);throw new xw(Aw,"This browser doesn't seem to support creating Blobs")}var lO=function(){function t(t,e){var n=0,r="";oO(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(oO(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(sO()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(cO.apply(null,r))}var i=e.map(function(t){return iO(t)?qw(Fw.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),hO=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new xw("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Sw.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new xw("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function fO(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function dO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function pO(t){return"https://"+Sw+"/v0"+t}function gO(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function bO(t,e){return e}var mO=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||bO}}(),vO=null;function yO(){if(vO)return vO;var t=[];t.push(new mO("bucket")),t.push(new mO("generation")),t.push(new mO("metageneration")),t.push(new mO("name","fullPath",!0));var e=new mO("name");e.xform=function(t,e){return function(t){return!iO(t)||t.length<2?t:dO(t)}(e)},t.push(e);var n=new mO("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new mO("timeCreated")),t.push(new mO("updated")),t.push(new mO("md5Hash",null,!0)),t.push(new mO("cacheControl",null,!0)),t.push(new mO("contentDisposition",null,!0)),t.push(new mO("contentEncoding",null,!0)),t.push(new mO("contentLanguage",null,!0)),t.push(new mO("contentType",null,!0)),t.push(new mO("metadata","customMetadata",!0)),vO=t}function _O(t,e,n){var r=fO(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new hO(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function wO(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var OO=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function CO(t){if(!t)throw Mw()}function EO(t,e){return function(n,r){var i=_O(t,r,e);return CO(null!==i),i}}function IO(t){return function(e,n){var r;return(r=401===e.getStatus()?new xw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new xw("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new xw("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function SO(t){var e=IO(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new xw("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function xO(t,e,n){var r=pO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new OO(r,"GET",EO(t,n),i);return o.errorHandler=SO(e),o}function TO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var kO=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function AO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){CO(!1)}return CO(!!n&&-1!==(e||["active"]).indexOf(n)),n}var jO=262144,MO=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),PO=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function LO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var RO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=yO(),this._resumable=this._shouldDoResumable(this._blob),this._state=Gw,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Tw)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(Zw))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Tw)?r.completeTransitions_():(r._error=t,r._transition(Zw))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===Gw&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case Gw:t(n);break;case Jw:e._transition(Yw);break;case $w:e._transition(Qw)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=TO(e,r,i),a={name:s.fullPath},u=pO(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=wO(s,n),h=new OO(u,"POST",function(t){var e;AO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){CO(!1)}return CO(iO(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=IO(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new OO(n,"POST",function(t){var e=AO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){CO(!1)}n||CO(!1);var i=Number(n);return CO(!isNaN(i)),new kO(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=IO(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=jO*this._chunkMultiplier,n=new kO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new kO(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new xw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Lw();var p=new OO(n,"POST",function(t,n){var i,s=AO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?EO(e,o)(t,n):null,new kO(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=IO(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition(Zw)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(Kw)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){jO*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=xO(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(Kw)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=TO(e,r,i),c=wO(u,n),l=lO.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Lw();var h={name:u.fullPath},f=pO(o),d=t.maxUploadRetryTime,p=new OO(f,"POST",EO(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=IO(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(Kw)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case Jw:case $w:this._state=t,void 0!==this._request&&this._request.cancel();break;case Gw:var e=this._state===Qw;this._state=t,e&&(this._notifyObservers(),this._start());break;case Qw:this._state=t,this._notifyObservers();break;case Yw:this._error=Pw(),this._state=t,this._notifyObservers();break;case Zw:case Kw:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case $w:this._transition(Qw);break;case Jw:this._transition(Yw);break;case Gw:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=tO(this._state);return new PO(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new MO(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(tO(this._state)){case Xw.SUCCESS:LO(this._resolve.bind(null,this.snapshot))();break;case Xw.CANCELED:case Xw.ERROR:LO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(tO(this._state)){case Xw.RUNNING:case Xw.PAUSED:t.next&&LO(t.next.bind(t,this.snapshot))();break;case Xw.SUCCESS:t.complete&&LO(t.complete.bind(t))();break;case Xw.CANCELED:case Xw.ERROR:t.error&&LO(t.error.bind(t,this._error))();break;default:t.error&&LO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===Qw||this._state===$w;return t&&this._transition(Gw),t},t.prototype.pause=function(){var t=this._state===Gw;return t&&this._transition($w),t},t.prototype.cancel=function(){var t=this._state===Gw||this._state===$w;return t&&this._transition(Jw),t},t}(),NO=function(){function t(t,e){this._service=t,this._location=e instanceof hO?e:hO.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new hO(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return dO(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new hO(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Dw(t)},t}();function DO(t){var e={prefixes:[],items:[]};return VO(t,e).then(function(){return e})}function VO(t,e,n){return Object(Js.b)(this,void 0,void 0,function(){var r,i,o;return Object(Js.d)(this,function(s){switch(s.label){case 0:return[4,UO(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,VO(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function UO(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r,i;return Object(Js.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&aO("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=pO(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new OO(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=fO(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new hO(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new hO(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return CO(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=IO(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function FO(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new hO(t._location.bucket,n);return new NO(t.storage,r)}var zO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),qO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new zO(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new zO(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new zO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new zO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),BO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new HO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new HO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),HO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(FO(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new qO(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new RO(t,new lO(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Fw.RAW),this._throwIfRoot("putString"),new qO(function(t,e,n,r){void 0===n&&(n=Fw.RAW),t._throwIfRoot("putString");var i=qw(n,e),o=Object(Js.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new RO(t,new lO(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return DO(this._delegate).then(function(e){return new BO(e,t.storage)})},t.prototype.list=function(t){var e=this;return UO(this._delegate,t).then(function(t){return new BO(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=xO(t.storage,t._location,yO()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Js.b)(this,void 0,void 0,function(){var n,r;return Object(Js.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=pO(e.fullServerUrl()),o=wO(n,r),s=t.maxOperationRetryTime,a=new OO(i,"PATCH",EO(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=SO(e),a}(t.storage,t._location,e,yO()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=pO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new OO(r,"GET",function(t,e){return function(n,r){var i=_O(t,r,e);return CO(null!==i),function(t,e){var n=fO(e);if(null===n)return null;if(!iO(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return pO("/b/"+i(t.bucket)+"/o/"+i(n))+gO({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=SO(e),o}(t.storage,t._location,yO()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new xw("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Js.b)(this,void 0,void 0,function(){var e,n;return Object(Js.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=pO(e.fullServerUrl()),r=new OO(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=SO(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Dw(t)},t}(),WO=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),GO=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(u){o(u)}else null!==s?((r=Mw()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Nw():Pw():new xw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new $O(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new $O(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===eO.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new $O(s,n))}else{var a=n.getErrorCode()===eO.ABORT;e(!1,new $O(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Js.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Js.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),$O=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function QO(t){return/^[A-Za-z]+:\/\//.test(t)}function KO(t,e){if(t instanceof XO){var n=t;if(null==n._bucket)throw new xw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new NO(n,n._bucket);return null!=e?KO(r,e):r}if(void 0!==e){if(e.includes(".."))throw Rw('`path` param cannot contain ".."');return FO(t,e)}return t}function JO(t,e){if(e&&QO(e)){if(t instanceof XO)return new NO(t,e);throw Rw("To use ref(service, url), the first argument must be a Storage instance.")}return KO(t,e)}var YO,ZO,XO=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?hO.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:hO.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){aO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){aO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Js.b)(this,void 0,void 0,function(){var t,e;return Object(Js.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new NO(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new WO(Nw());var r=function(t,e,n,r){var i=gO(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Ys.a?Ys.a.SDK_VERSION:"AppManager")}(s),new GO(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),tC=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(QO(t))throw Rw("ref() expected a child path but got a URL, use refFromURL instead.");return new HO(JO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!QO(t))throw Rw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{hO.makeFromUrl(t)}catch(e){throw Rw("refFromUrl() expected a valid full URL but got an invalid one.")}return new HO(JO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function eC(t){const e=function(t){return new Mt.a(e=>{const n=t=>e.next(t);t.on("state_changed",n,r=>{n(t.snapshot),(t=>{e.error(t)})(r)},()=>{n(t.snapshot),e.complete()})}).pipe(js({bufferSize:1,refCount:!1}))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Lt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function nC(t,e,n){return{getDownloadURL:()=>Object(vn.a)(void 0).pipe(Object(Ss.b)(e.outsideAngular),Xn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(vn.a)(void 0).pipe(Object(Ss.b)(e.outsideAngular),Xn(()=>t.getMetadata()),n),delete:()=>Object(Nt.a)(t.delete()),child:r=>nC(t.child(r),e,n),updateMetadata:e=>Object(Nt.a)(t.updateMetadata(e)),put:(e,n)=>eC(t.put(e,n)),putString:(e,n,r)=>eC(t.putString(e,n,r)),listAll:()=>Object(Nt.a)(t.listAll())}}ZO={TaskState:Xw,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Fw,Storage:XO,Reference:HO},(YO=Ys.a).INTERNAL.registerComponent(new eh.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new tC(n,new XO(n,r,new rO,e))},"PUBLIC").setServiceProps(ZO).setMultipleInstances(!0)),YO.registerVersion("@firebase/storage","0.4.2");const rC=new r.q("angularfire2.storageBucket"),iC=new r.q("angularfire2.storage.maxUploadRetryTime"),oC=new r.q("angularfire2.storage.maxOperationRetryTime");let sC=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Ls.d(i),this.keepUnstableUntilFirst=Object(Ls.h)(this.schedulers);const a=Object(Ls.g)(t,i,e);this.storage=Object(Ls.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return nC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return nC(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return nC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ls.c),r.Qb(Ls.b,8),r.Qb(rC,8),r.Qb(r.B),r.Qb(r.z),r.Qb(iC,8),r.Qb(oC,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(Ls.c),Object(r.Qb)(Ls.b,8),Object(r.Qb)(rC,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(iC,8),Object(r.Qb)(oC,8))},token:t,providedIn:"any"}),t})(),aC=(()=>{class t{constructor(t,e){this.afs=t,this.storage=e,this.MEDIA_STORAGE_PATH="ImagesAds",this.title="",this.searchTitleSubject=new yn.a,this.searchTitleObservable=this.searchTitleSubject.asObservable(),this.adsCollection=t.collection("ads"),this.mostSeenAdsCollection=t.collection("ads"),this.bannersAdsCollection=t.collection("ads"),this.adCollection=t.collection("ads")}generateFilename(t){return`${this.MEDIA_STORAGE_PATH}/${(new Date).getTime()}_${t}`}onUpLoadImage(t,e){t.uploading=!0;const n=this.generateFilename(t.name),r=this.storage.ref(n),i=this.storage.upload(n,t);t.uploadPercent=i.percentageChanges(),i.snapshotChanges().pipe(vr(()=>{t.downloadURL=r.getDownloadURL(),t.uploading=!1,r.getDownloadURL().subscribe(r=>{r&&(t.uploading=!1,e.imageUrl=r.toString(),e.image=n,this.saveAd(e))})})).subscribe()}saveAd(t){const e=(new Date).getTime();t.dateCreated=e,this.adsCollection.add(t)}getAd(){return this.ad=this.adCollection.snapshotChanges().pipe(Object(Lt.a)(t=>t.map(t=>t.payload.doc.data()))),this.ad}getAllAds(){return this.adsCollection=this.afs.collection("ads",t=>t.orderBy("title","asc")),this.ads=this.adsCollection.snapshotChanges().pipe(Object(Lt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e}))),this.ads}getLastetAds(){return this.adsCollection=this.afs.collection("ads",t=>t.orderBy("dateCreated","desc").limit(10)),this.lastetAds=this.adsCollection.snapshotChanges().pipe(Object(Lt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e}))),this.lastetAds}getMostSeenAds(){return this.mostSeenAdsCollection=this.afs.collection("ads",t=>t.where("vistas",">",0).orderBy("vistas","desc").limit(10)),this.mostSeenAds=this.mostSeenAdsCollection.snapshotChanges().pipe(Object(Lt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e}))),this.mostSeenAds}getBannersAds(){return this.bannersAdsCollection=this.afs.collection("ads",t=>t.where("banner","==",!0)),this.bannersAds=this.bannersAdsCollection.snapshotChanges().pipe(Object(Lt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e}))),this.bannersAds}getCategorie(t){return this.adsCollection=this.afs.collection("ads",e=>e.where("categorie","==",t)),this.ads=this.adsCollection.snapshotChanges().pipe(Object(Lt.a)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e}))),this.ads}deleteAd(t){return this.adCollection.doc(t.id).delete().then(()=>this.deleteImageAd(t))}deleteImageAd(t){return this.storage.ref(t.image).delete()}updateVistas(t){return console.log(t.vistas),this.afs.doc("ads/"+t.id).update({vistas:t.vistas+1})}updateBannerState(t){return this.afs.doc("ads/"+t.id).update({banner:!t.banner})}searchTitle(t){this.searchTitleSubject.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ow),r.Qb(sC))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uC(t){return(uC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){cC(t,e,n[e])})}return t}function hC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var fC={},dC={};try{"undefined"!=typeof window&&(fC=window),"undefined"!=typeof document&&(dC=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(zS){}var pC=(fC.navigator||{}).userAgent,gC=void 0===pC?"":pC,bC=fC,mC=dC,vC=!!mC.documentElement&&!!mC.head&&"function"==typeof mC.addEventListener&&"function"==typeof mC.createElement,yC=(~gC.indexOf("MSIE")||gC.indexOf("Trident/"),"svg-inline--fa"),_C=[1,2,3,4,5,6,7,8,9,10],wC=_C.concat([11,12,13,14,15,16,17,18,19,20]),OC={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},CC=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",OC.GROUP,OC.SWAP_OPACITY,OC.PRIMARY,OC.SECONDARY].concat(_C.map(function(t){return"".concat(t,"x")})).concat(wC.map(function(t){return"w-".concat(t)})),bC.FontAwesomeConfig||{});mC&&"function"==typeof mC.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=hC(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=mC.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(CC[n]=r)});var EC=lC({},{familyPrefix:"fa",replacementClass:yC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},CC);EC.autoReplaceSvg||(EC.observeMutations=!1);var IC=lC({},EC);bC.FontAwesomeConfig=IC;var SC=bC||{};SC.___FONT_AWESOME___||(SC.___FONT_AWESOME___={}),SC.___FONT_AWESOME___.styles||(SC.___FONT_AWESOME___.styles={}),SC.___FONT_AWESOME___.hooks||(SC.___FONT_AWESOME___.hooks={}),SC.___FONT_AWESOME___.shims||(SC.___FONT_AWESOME___.shims=[]);var xC=SC.___FONT_AWESOME___,TC=[];vC&&((mC.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(mC.readyState)||mC.addEventListener("DOMContentLoaded",function t(){mC.removeEventListener("DOMContentLoaded",t),TC.map(function(t){return t()})}));var kC,AC="pending",jC="settled",MC="fulfilled",PC="rejected",LC=function(){},RC="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,NC="undefined"==typeof setImmediate?setTimeout:setImmediate,DC=[];function VC(){for(var t=0;t<DC.length;t++)DC[t][0](DC[t][1]);DC=[],kC=!1}function UC(t,e){DC.push([t,e]),kC||(kC=!0,NC(VC,0))}function FC(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n=MC;try{r=i(r)}catch(zS){HC(o,zS)}}zC(o,r)||(n===MC&&qC(o,r),n===PC&&HC(o,r))}function zC(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===uC(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e===r?BC(t,r):qC(t,r))},function(e){n||(n=!0,HC(t,e))}),!0}}catch(zS){return n||HC(t,zS),!0}return!1}function qC(t,e){t!==e&&zC(t,e)||BC(t,e)}function BC(t,e){t._state===AC&&(t._state=jC,t._data=e,UC(GC,t))}function HC(t,e){t._state===AC&&(t._state=jC,t._data=e,UC($C,t))}function WC(t){t._then=t._then.forEach(FC)}function GC(t){t._state=MC,WC(t)}function $C(t){t._state=PC,WC(t),!t._handled&&RC&&global.process.emit("unhandledRejection",t._data,t)}function QC(t){global.process.emit("rejectionHandled",t)}function KC(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof KC==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){HC(e,t)}try{t(function(t){qC(e,t)},n)}catch(zS){n(zS)}}(t,this)}KC.prototype={constructor:KC,_state:AC,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(LC),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===PC&&RC&&UC(QC,this)),this._state===MC||this._state===PC?UC(FC,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},KC.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new KC(function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)})},KC.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new KC(function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)})},KC.resolve=function(t){return t&&"object"===uC(t)&&t.constructor===KC?t:new KC(function(e){e(t)})},KC.reject=function(t){return new KC(function(e,n){n(t)})};var JC={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function YC(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function ZC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function XC(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function tE(t){return t.size!==JC.size||t.x!==JC.x||t.y!==JC.y||t.rotate!==JC.rotate||t.flipX||t.flipY}function eE(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var nE={x:0,y:0,width:"100%",height:"100%"};function rE(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function iE(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,u=t.title,c=t.maskId,l=t.titleId,h=t.extra,f=t.watchable,d=void 0!==f&&f,p=r.found?r:n,g=p.width,b=p.height,m="fak"===i,v=m?"":"fa-w-".concat(Math.ceil(g/b*16)),y=[IC.replacementClass,o?"".concat(IC.familyPrefix,"-").concat(o):"",v].filter(function(t){return-1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),_={children:[],attributes:lC({},h.attributes,{"data-prefix":i,"data-icon":o,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(b)})},w=m&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/b*16*.0625,"em")}:{};d&&(_.attributes["data-fa-i2svg"]=""),u&&_.children.push({tag:"title",attributes:{id:_.attributes["aria-labelledby"]||"title-".concat(l||YC())},children:[u]});var O=lC({},_,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:s,symbol:a,styles:lC({},w,h.styles)}),C=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,a=i.icon,u=o.icon,c=eE({transform:t.transform,containerWidth:o.width,iconWidth:i.width}),l={tag:"rect",attributes:lC({},nE,{fill:"white"})},h=a.children?{children:a.children.map(rE)}:{},f={tag:"g",attributes:lC({},c.inner),children:[rE(lC({tag:a.tag,attributes:lC({},a.attributes,c.path)},h))]},d={tag:"g",attributes:lC({},c.outer),children:[f]},p="mask-".concat(s||YC()),g="clip-".concat(s||YC()),b={tag:"mask",attributes:lC({},nE,{id:p,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,d]},m={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(e=u,"g"===e.tag?e.children:[e])},b]};return n.push(m,{tag:"rect",attributes:lC({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(p,")")},nE)}),{children:n,attributes:r}}(O):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=XC(t.styles);if(o.length>0&&(n.style=o),tE(i)){var s=eE({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:lC({},s.outer),children:[{tag:"g",attributes:lC({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:lC({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(O),E=C.attributes;return O.children=C.children,O.attributes=E,a?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:lC({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(IC.familyPrefix,"-").concat(e):r}),children:n}]}]}(O):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(tE(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=XC(lC({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(O)}var oE=function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s};function sE(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{});"function"!=typeof xC.hooks.addPack||i?xC.styles[t]=lC({},xC.styles[t]||{},o):xC.hooks.addPack(t,o),"fas"===t&&sE("fa",e)}var aE=xC.styles,uE=xC.shims,cE=function(){var t=function(t){return oE(aE,function(e,n,r){return e[r]=oE(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var r=e[2];return t[n]=n,r.forEach(function(e){t[e]=n}),t});var e="far"in aE;oE(uE,function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t},{})};function lE(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function hE(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?ZC(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(ZC(t[n]),'" ')},"").trim()}(r),">").concat(o.map(hE).join(""),"</").concat(e,">")}function fE(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}cE(),(fE.prototype=Object.create(Error.prototype)).constructor=fE;var dE={fill:"currentColor"},pE={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},gE=(lC({},dE,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),lC({},pE,{attributeName:"opacity"}));function bE(t){var e=t[0],n=t[1],r=hC(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(IC.familyPrefix,"-").concat(OC.GROUP)},children:[{tag:"path",attributes:{class:"".concat(IC.familyPrefix,"-").concat(OC.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(IC.familyPrefix,"-").concat(OC.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}function mE(){IC.autoAddCss&&!OE&&(function(t){if(t&&vC){var e=mC.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=mC.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}mC.head.insertBefore(e,r)}}(function(){var t="fa",e=yC,n=IC.familyPrefix,r=IC.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}()),OE=!0)}function vE(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return hE(t)})}}),Object.defineProperty(t,"node",{get:function(){if(vC){var e=mC.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function yE(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return lE(wE.definitions,n,r)||lE(xC.styles,n,r)}lC({},dE,{cx:"256",cy:"364",r:"28"}),lC({},pE,{attributeName:"r",values:"28;14;28;28;14;28;"}),lC({},gE,{values:"1;0;1;1;0;1;"}),lC({},dE,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),lC({},gE,{values:"1;0;0;0;0;1;"}),lC({},dE,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),lC({},gE,{values:"0;0;1;1;0;0;"});var _E,wE=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(e){t.definitions[e]=lC({},t.definitions[e]||{},i[e]),sE(e,i[e]),cE()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),OE=!1,CE=(_E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?JC:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,u=e.maskId,c=void 0===u?null:u,l=e.title,h=void 0===l?null:l,f=e.titleId,d=void 0===f?null:f,p=e.classes,g=void 0===p?[]:p,b=e.attributes,m=void 0===b?{}:b,v=e.styles,y=void 0===v?{}:v;if(t){var _=t.prefix,w=t.iconName,O=t.icon;return vE(lC({type:"icon"},t),function(){return mE(),IC.autoA11y&&(h?m["aria-labelledby"]="".concat(IC.replacementClass,"-title-").concat(d||YC()):(m["aria-hidden"]="true",m.focusable="false")),iE({icons:{main:bE(O),mask:a?bE(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:w,transform:lC({},JC,r),symbol:o,title:h,maskId:c,titleId:d,extra:{attributes:m,styles:y,classes:g}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:yE(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:yE(r||{})),_E(n,lC({},e,{mask:r}))});let EE=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),IE=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const SE=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,["fa-"+t.size]:null!==t.size,["fa-rotate-"+t.rotate]:null!==t.rotate,["fa-pull-"+t.pull]:null!==t.pull,["fa-stack-"+t.stackItemSize]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let xE=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[r.xb]}),t})(),TE=(()=>{class t{constructor(t,e,n,r){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[]}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=yE(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t},e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...SE(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=CE(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(St),r.Jb(EE),r.Jb(IE),r.Jb(xE,8))},t.\u0275cmp=r.Db({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(r.Pb("innerHTML",e.renderedIconHTML,r.jc),r.Ab("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[r.xb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),kE=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})();const AE=function(t){return["/categories/",t]};function jE(t,e){if(1&t&&(r.Mb(0,"a",19),r.oc(1),r.Lb()),2&t){const t=e.$implicit;r.bc("routerLink",r.fc(2,AE,t.name)),r.zb(1),r.pc(t.name)}}const ME=function(){return["/admin"]};function PE(t,e){1&t&&(r.Mb(0,"li",6),r.Mb(1,"a",20),r.oc(2," Admin"),r.Lb(),r.Lb()),2&t&&(r.zb(1),r.bc("routerLink",r.ec(1,ME)))}const LE=function(){return["/login"]};function RE(t,e){if(1&t&&(r.Mb(0,"li",6),r.Mb(1,"a",20),r.Kb(2,"fa-icon",8),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.zb(1),r.bc("routerLink",r.ec(2,LE)),r.zb(1),r.bc("icon",t.faUserAdmin)}}const NE=function(){return["/home"]};function DE(t,e){if(1&t){const t=r.Nb();r.Mb(0,"li",6),r.Mb(1,"a",21),r.Tb("click",function(){return r.ic(t),r.Vb().logout()}),r.oc(2,"Cerrar sesion"),r.Lb(),r.Lb()}2&t&&(r.zb(1),r.bc("routerLink",r.ec(1,NE)))}let VE=(()=>{class t{constructor(t,e,n,r,i){this.authService=t,this.af=e,this.router=n,this.categorieSv=r,this.adSvc=i,this.faPhone=_s,this.faUserAdmin=Cs,this.faHome=vs,this.cel=2235698659,this.isLogged=!1,this.isAdmin=!1,this.title="",this.user$=this.af.user,this.categories=[]}ngOnInit(){this.getAllCategories(),this.currenuser()}currenuser(){this.authService.user$.subscribe(t=>{t&&(this.user=t,this.isLogged=!0,this.isAdmin=this.authService.isAdmin(t))})}logout(){this.authService.logout(),this.isLogged=!1,this.router.navigate(["home"])}getAllCategories(){this.categorieSv.getAllCategories().subscribe(t=>this.categories=t)}search(t){this.adSvc.searchTitle(this.title)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ew),r.Jb(zs),r.Jb($o),r.Jb(Iw),r.Jb(aC))},t.\u0275cmp=r.Db({type:t,selectors:[["app-navbar-simple"]],decls:28,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["href","#",1,"nav-link"],[3,"icon"],[1,"sr-only"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",3,"routerLink",4,"ngFor","ngForOf"],["class","nav-item",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"nav-link","disabled"],[1,"cel",3,"icon"],[1,"cel"],[1,"navbar-nav"],[1,"dropdown-item",3,"routerLink"],[1,"nav-link",3,"routerLink"],["tabindex","-1","aria-disabled","true",1,"nav-link",3,"routerLink","click"]],template:function(t,e){1&t&&(r.Mb(0,"nav",0),r.Mb(1,"a",1),r.oc(2,"MiAnuncioApp"),r.Lb(),r.Mb(3,"button",2),r.Kb(4,"span",3),r.Lb(),r.Mb(5,"div",4),r.Mb(6,"ul",5),r.Mb(7,"li",6),r.Mb(8,"a",7),r.Kb(9,"fa-icon",8),r.oc(10," Inicio "),r.Mb(11,"span",9),r.oc(12,"(current)"),r.Lb(),r.Lb(),r.Lb(),r.Mb(13,"li",10),r.Mb(14,"a",11),r.oc(15," Categorias "),r.Lb(),r.Mb(16,"div",12),r.Mb(17,"li"),r.mc(18,jE,2,4,"a",13),r.Lb(),r.Lb(),r.Lb(),r.mc(19,PE,3,2,"li",14),r.Mb(20,"li",6),r.Mb(21,"a",15),r.Kb(22,"fa-icon",16),r.Mb(23,"span",17),r.oc(24),r.Lb(),r.Lb(),r.Lb(),r.mc(25,RE,3,3,"li",14),r.Lb(),r.Mb(26,"ul",18),r.mc(27,DE,3,2,"li",14),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.zb(9),r.bc("icon",e.faHome),r.zb(9),r.bc("ngForOf",e.categories),r.zb(1),r.bc("ngIf",e.isLogged&&e.isAdmin),r.zb(3),r.bc("icon",e.faPhone),r.zb(2),r.qc(" ",e.cel,""),r.zb(1),r.bc("ngIf",!e.isLogged),r.zb(2),r.bc("ngIf",e.isLogged))},directives:[TE,D,U,Qo],styles:[".cel[_ngcontent-%COMP%]{color:#0adf0a}"]}),t})();function UE(t,e){if(1&t){const t=r.Nb();r.Mb(0,"tr"),r.Mb(1,"td"),r.oc(2),r.Lb(),r.Mb(3,"td"),r.Mb(4,"button",13),r.Tb("click",function(){r.ic(t);const n=e.$implicit;return r.Vb(2).categorieDelete(n)}),r.oc(5," Borrar "),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.zb(2),r.pc(t.name)}}function FE(t,e){if(1&t&&(r.Mb(0,"section"),r.Mb(1,"table",10),r.Mb(2,"thead",11),r.Mb(3,"tr"),r.Mb(4,"th"),r.oc(5,"Categoria"),r.Lb(),r.Kb(6,"th"),r.Lb(),r.Lb(),r.Mb(7,"tbody"),r.mc(8,UE,6,1,"tr",12),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.zb(8),r.bc("ngForOf",t.categories)}}function zE(t,e){1&t&&(r.Mb(0,"div",14),r.Kb(1,"div",15),r.Mb(2,"h3"),r.oc(3,"Buscando Categorias"),r.Lb(),r.Lb())}let qE=(()=>{class t{constructor(t){this.categorieSv=t,this.categorieForm=new Ye({categorie:new Je("")})}ngOnInit(){this.getAllCategories()}createCategorie(){const{categorie:t}=this.categorieForm.value;let e={};e.name=t,this.categorieSv.saveCategorie(e).then(()=>{alert("Categoria guardada"),this.categorieForm.reset()})}getAllCategories(){this.categorieSv.getAllCategories().subscribe(t=>this.categories=t)}categorieDelete(t){confirm("Seguro que deseas eliminar la categoria")&&this.categorieSv.deleteCategorie(t.id)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Iw))},t.\u0275cmp=r.Db({type:t,selectors:[["app-categorie"]],decls:14,vars:3,consts:[[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","text-area","formControlName","categorie","placeholder","Nombre de la categoria",1,"form-control"],[1,"btn","btn-primary","btn-long","btn-block"],[4,"ngIf","ngIfElse"],["loading",""],[1,"table","table-hover","table-fixed","mt-2"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"load"],[1,"loader"]],template:function(t,e){if(1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"h3",2),r.oc(3,"Crear categoria"),r.Lb(),r.Mb(4,"form",3),r.Tb("ngSubmit",function(){return e.createCategorie()}),r.Mb(5,"div",4),r.Mb(6,"label",5),r.oc(7,"Categoria"),r.Lb(),r.Kb(8,"input",6),r.Lb(),r.Mb(9,"button",7),r.oc(10," Crear categoria "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.mc(11,FE,9,1,"section",8),r.mc(12,zE,4,0,"ng-template",null,9,r.nc)),2&t){const t=r.hc(13);r.zb(4),r.bc("formGroup",e.categorieForm),r.zb(7),r.bc("ngIf",(null==e.categories?null:e.categories.length)>0)("ngIfElse",t)}},directives:[sn,fe,cn,Bt,he,hn,U,D],styles:[".table-fixed[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{width:107%}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{height:830px;overflow-y:auto;display:block}.load[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]{border-radius:50%;border:16px solid #f3f3f3;border-top-color:#3498db;width:120px;height:120px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),t})();var BE=n("Y7HM");function HE(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}n("8Qeq"),n("z6cu");var WE=n("n6bG");function GE(t,e,n){return n?GE(t,e).pipe(Object(Lt.a)(t=>Object(Pt.a)(t)?n(...t):n(t))):new Mt.a(n=>{const r=(...t)=>n.next(1===t.length?t[0]:t);let i;try{i=t(r)}catch(o){return void n.error(o)}if(Object(WE.a)(e))return()=>e(r,i)})}class $E{constructor(t){this.notifier=t}call(t,e){const n=new QE(t),r=e.subscribe(n);return r.add(Object(Zn.c)(this.notifier,new Zn.a(n))),r}}class QE extends Zn.b{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}n("oB13");class KE{constructor(t){this.total=t}call(t,e){return e.subscribe(new JE(t,this.total))}}class JE extends Cn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const YE=["*"];let ZE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),XE=(()=>{class t{constructor(t,e){this._loader=t,this._zone=e,this._map=new Promise(t=>{this._mapResolver=t})}createMap(t,e){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const n=new google.maps.Map(t,e);this._mapResolver(n)}))}setMapOptions(t){return this._zone.runOutsideAngular(()=>{this._map.then(e=>{e.setOptions(t)})})}createMarker(t={},e=!0){return this._zone.runOutsideAngular(()=>this._map.then(n=>(e&&(t.map=n),new google.maps.Marker(t))))}createInfoWindow(t){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(t)))}createCircle(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>(t.map=e,new google.maps.Circle(t))))}createRectangle(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>(t.map=e,new google.maps.Rectangle(t))))}createPolyline(t){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(e=>{const n=new google.maps.Polyline(t);return n.setMap(e),n}))}createPolygon(t){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(e=>{const n=new google.maps.Polygon(t);return n.setMap(e),n}))}createDataLayer(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>{const n=new google.maps.Data(t);return n.setMap(e),n}))}createTransitLayer(){return this._zone.runOutsideAngular(()=>this._map.then(t=>{const e=new google.maps.TransitLayer;return e.setMap(t),e}))}createBicyclingLayer(){return this._zone.runOutsideAngular(()=>this._map.then(t=>{const e=new google.maps.BicyclingLayer;return e.setMap(t),e}))}containsLocation(t,e){return this._map.then(()=>google.maps.geometry.poly.containsLocation(t,e))}subscribeToMapEvent(t){return new Mt.a(e=>{this._map.then(n=>n.addListener(t,()=>this._zone.run(()=>e.next(arguments[0]))))})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(t=>{google.maps.event.clearInstanceListeners(t)})})}setCenter(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.setCenter(t)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getMapTypeId()))}setZoom(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.setZoom(t)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getCenter()))}panTo(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.panTo(t)))}panBy(t,e){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panBy(t,e)))}fitBounds(t,e){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.fitBounds(t,e)))}panToBounds(t,e){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panToBounds(t,e)))}getNativeMap(){return this._map}triggerMapEvent(t){return this._map.then(e=>google.maps.event.trigger(e,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(ZE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),tI=(()=>{class t{constructor(t,e){this._apiWrapper=t,this._zone=e,this._circles=new Map}addCircle(t){this._apiWrapper.getNativeMap().then(()=>this._circles.set(t,this._apiWrapper.createCircle({center:{lat:t.latitude,lng:t.longitude},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,radius:t.radius,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:google.maps.StrokePosition[t.strokePosition],strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex})))}removeCircle(t){return this._circles.get(t).then(e=>{e.setMap(null),this._circles.delete(t)})}setOptions(t,e){return Es(this,void 0,void 0,function*(){return this._circles.get(t).then(t=>{e.strokePosition=google.maps.StrokePosition[e.strokePosition],t.setOptions(e)})})}getBounds(t){return this._circles.get(t).then(t=>t.getBounds())}getCenter(t){return this._circles.get(t).then(t=>t.getCenter())}getRadius(t){return this._circles.get(t).then(t=>t.getRadius())}setCenter(t){return this._circles.get(t).then(e=>e.setCenter({lat:t.latitude,lng:t.longitude}))}setEditable(t){return this._circles.get(t).then(e=>e.setEditable(t.editable))}setDraggable(t){return this._circles.get(t).then(e=>e.setDraggable(t.draggable))}setVisible(t){return this._circles.get(t).then(e=>e.setVisible(t.visible))}setRadius(t){return this._circles.get(t).then(e=>e.setRadius(t.radius))}getNativeCircle(t){return this._circles.get(t)}createEventObservable(t,e){return new Mt.a(n=>{let r=null;return this._circles.get(e).then(e=>{r=e.addListener(t,t=>this._zone.run(()=>n.next(t)))}),()=>{null!==r&&r.remove()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),eI=(()=>{class t{constructor(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}addDataLayer(t){const e=this._wrapper.createDataLayer({style:t.style}).then(e=>(t.geoJson&&this.getDataFeatures(e,t.geoJson).then(t=>e.features=t),e));this._layers.set(t,e)}deleteDataLayer(t){this._layers.get(t).then(e=>{e.setMap(null),this._layers.delete(t)})}updateGeoJson(t,e){this._layers.get(t).then(t=>{t.forEach(e=>{t.remove(e);const n=t.features.indexOf(e,0);n>-1&&t.features.splice(n,1)}),this.getDataFeatures(t,e).then(e=>t.features=e)})}setDataOptions(t,e){this._layers.get(t).then(t=>{t.setControlPosition(e.controlPosition),t.setControls(e.controls),t.setDrawingMode(e.drawingMode),t.setStyle(e.style)})}createEventObservable(t,e){return new Mt.a(n=>{this._layers.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}getDataFeatures(t,e){return new Promise((n,r)=>{if("object"==typeof e)try{n(t.addGeoJson(e))}catch(zS){r(zS)}else"string"==typeof e?t.loadGeoJson(e,null,n):r("Impossible to extract features from geoJson: wrong argument type")})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class nI{}let rI=(()=>{class t{constructor(t){var e;this._boundsChangeSampleTime$=new wn(200),this._includeInBounds$=new wn(new Map),this.bounds$=Object(Nt.a)(t.load()).pipe(Object(dr.a)(()=>this._includeInBounds$),(e=this._boundsChangeSampleTime$.pipe(Xn(t=>function(t=0,e,n){let r=-1;return Object(BE.a)(e)?r=Number(e)<1?1:Number(e):Object(On.a)(e)&&(n=e),Object(On.a)(n)||(n=Bs.a),new Mt.a(e=>{const i=Object(BE.a)(t)?t:+t-n.now();return n.schedule(HE,i,{index:0,period:r,subscriber:e})})}(0,t))),t=>t.lift(new $E(e))),Object(Lt.a)(t=>this._generateBounds(t)),js(1))}_generateBounds(t){const e=new google.maps.LatLngBounds;return t.forEach(t=>e.extend(t)),e}addToBounds(t){const e=this._createIdentifier(t);if(this._includeInBounds$.value.has(e))return;const n=this._includeInBounds$.value;n.set(e,t),this._includeInBounds$.next(n)}removeFromBounds(t){const e=this._includeInBounds$.value;e.delete(this._createIdentifier(t)),this._includeInBounds$.next(e)}changeFitBoundsChangeSampleTime(t){this._boundsChangeSampleTime$.next(t)}getBounds$(){return this.bounds$}_createIdentifier(t){return`${t.lat}+${t.lng}`}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(ZE))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class iI{getNativeWindow(){return window}}class oI{getNativeDocument(){return document}}const sI=[iI,oI];var aI=function(t){return t[t.HTTP=1]="HTTP",t[t.HTTPS=2]="HTTPS",t[t.AUTO=3]="AUTO",t}({});const uI=new r.q("angular-google-maps LAZY_MAPS_API_CONFIG");let cI=(()=>{class t extends ZE{constructor(t=null,e,n,r){super(),this.localeId=r,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=t||{},this._windowRef=e,this._documentRef=n}load(){const t=this._windowRef.getNativeWindow();if(t.google&&t.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const e=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(e)return this._assignScriptLoadingPromise(e),this._scriptLoadingPromise;const n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise}_assignScriptLoadingPromise(t){this._scriptLoadingPromise=new Promise((e,n)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{e()},t.onerror=t=>{n(t)}})}_getScriptSrc(t){let e;switch(this._config&&this._config.protocol||aI.HTTPS){case aI.AUTO:e="";break;case aI.HTTP:e="http:";break;case aI.HTTPS:e="https:"}const n={v:this._config.apiVersion||"quarterly",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||("en-US"!==this.localeId?this.localeId:null)};return`${e}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(n).filter(t=>null!=n[t]).filter(t=>!Array.isArray(n[t])||Array.isArray(n[t])&&n[t].length>0).map(t=>{const e=n[t];return Array.isArray(e)?{key:t,value:e.join(",")}:{key:t,value:n[t]}}).map(t=>`${t.key}=${t.value}`).join("&")}`}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(uI,8),r.Qb(iI),r.Qb(oI),r.Qb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),lI=(()=>{class t{constructor(t,e){this._mapsWrapper=t,this._zone=e,this._markers=new Map}convertAnimation(t){return Es(this,void 0,void 0,function*(){return null===t?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[t])})}deleteMarker(t){const e=this._markers.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setMap(null),this._markers.delete(t)}))}updateMarkerPosition(t){return this._markers.get(t).then(e=>e.setPosition({lat:t.latitude,lng:t.longitude}))}updateTitle(t){return this._markers.get(t).then(e=>e.setTitle(t.title))}updateLabel(t){return this._markers.get(t).then(e=>{e.setLabel(t.label)})}updateDraggable(t){return this._markers.get(t).then(e=>e.setDraggable(t.draggable))}updateIcon(t){return this._markers.get(t).then(e=>e.setIcon(t.iconUrl))}updateOpacity(t){return this._markers.get(t).then(e=>e.setOpacity(t.opacity))}updateVisible(t){return this._markers.get(t).then(e=>e.setVisible(t.visible))}updateZIndex(t){return this._markers.get(t).then(e=>e.setZIndex(t.zIndex))}updateClickable(t){return this._markers.get(t).then(e=>e.setClickable(t.clickable))}updateAnimation(t){return Es(this,void 0,void 0,function*(){(yield this._markers.get(t)).setAnimation(yield this.convertAnimation(t.animation))})}addMarker(t){const e=new Promise(e=>Es(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:t.latitude,lng:t.longitude},label:t.label,draggable:t.draggable,icon:t.iconUrl,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,title:t.title,clickable:t.clickable,animation:yield this.convertAnimation(t.animation)}).then(e)}));this._markers.set(t,e)}getNativeMarker(t){return this._markers.get(t)}createEventObservable(t,e){return new Mt.a(n=>{this._markers.get(e).then(e=>e.addListener(t,t=>this._zone.run(()=>n.next(t))))})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),hI=(()=>{class t{constructor(t,e,n){this._mapsWrapper=t,this._zone=e,this._markerManager=n,this._infoWindows=new Map}deleteInfoWindow(t){const e=this._infoWindows.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.close(),this._infoWindows.delete(t)}))}setPosition(t){return this._infoWindows.get(t).then(e=>e.setPosition({lat:t.latitude,lng:t.longitude}))}setZIndex(t){return this._infoWindows.get(t).then(e=>e.setZIndex(t.zIndex))}open(t){return this._infoWindows.get(t).then(e=>null!=t.hostMarker?this._markerManager.getNativeMarker(t.hostMarker).then(t=>this._mapsWrapper.getNativeMap().then(n=>e.open(n,t))):this._mapsWrapper.getNativeMap().then(t=>e.open(t)))}close(t){return this._infoWindows.get(t).then(t=>t.close())}setOptions(t,e){return this._infoWindows.get(t).then(t=>t.setOptions(e))}addInfoWindow(t){const e={content:t.content,maxWidth:t.maxWidth,zIndex:t.zIndex,disableAutoPan:t.disableAutoPan};"number"==typeof t.latitude&&"number"==typeof t.longitude&&(e.position={lat:t.latitude,lng:t.longitude});const n=this._mapsWrapper.createInfoWindow(e);this._infoWindows.set(t,n)}createEventObservable(t,e){return new Mt.a(n=>{this._infoWindows.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z),r.Qb(lI))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),fI=(()=>{class t{constructor(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}addKmlLayer(t){const e=this._wrapper.getNativeMap().then(e=>new google.maps.KmlLayer({clickable:t.clickable,map:e,preserveViewport:t.preserveViewport,screenOverlays:t.screenOverlays,suppressInfoWindows:t.suppressInfoWindows,url:t.url,zIndex:t.zIndex}));this._layers.set(t,e)}setOptions(t,e){this._layers.get(t).then(t=>t.setOptions(e))}deleteKmlLayer(t){this._layers.get(t).then(e=>{e.setMap(null),this._layers.delete(t)})}createEventObservable(t,e){return new Mt.a(n=>{this._layers.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),dI=(()=>{class t{constructor(t){this._wrapper=t,this._layers=new Map}addTransitLayer(t){const e=this._wrapper.createTransitLayer();this._layers.set(t,e)}addBicyclingLayer(t){const e=this._wrapper.createBicyclingLayer();this._layers.set(t,e)}deleteLayer(t){return this._layers.get(t).then(e=>{e.setMap(null),this._layers.delete(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function pI(t){const e=["insert_at","remove_at","set_at"];return GE(n=>e.map(e=>t.addListener(e,(r,i)=>n.apply(t,[{newArr:t.getArray(),eventName:e,index:r,previous:i}]))),(t,e)=>e.forEach(t=>t.remove()))}let gI=(()=>{class t{constructor(t,e){this._mapsWrapper=t,this._zone=e,this._polygons=new Map}addPolygon(t){const e=this._mapsWrapper.createPolygon({clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,geodesic:t.geodesic,paths:t.paths,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex});this._polygons.set(t,e)}updatePolygon(t){const e=this._polygons.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setPaths(t.paths)}))}setPolygonOptions(t,e){return this._polygons.get(t).then(t=>{t.setOptions(e)})}deletePolygon(t){const e=this._polygons.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setMap(null),this._polygons.delete(t)}))}getPath(t){return this._polygons.get(t).then(t=>t.getPath().getArray())}getPaths(t){return this._polygons.get(t).then(t=>t.getPaths().getArray().map(t=>t.getArray()))}createEventObservable(t,e){return new Mt.a(n=>{this._polygons.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}createPathEventObservable(t){return Es(this,void 0,void 0,function*(){const e=(yield this._polygons.get(t)).getPaths();return pI(e).pipe(sr({newArr:e.getArray()}),Xn(t=>Object(Is.a)(...t.newArr.map((e,n)=>pI(e).pipe(Object(Lt.a)(e=>({parentMVEvent:t,chMVCEvent:e,pathIndex:n}))))).pipe(sr({parentMVEvent:t,chMVCEvent:null,pathIndex:null}))),t=>t.lift(new KE(1)),Object(Lt.a)(({parentMVEvent:t,chMVCEvent:e,pathIndex:n})=>{let r;return e?(r={newArr:t.newArr.map(t=>t.getArray().map(t=>t.toJSON())),pathIndex:n,eventName:e.eventName,index:e.index},e.previous&&(r.previous=e.previous)):(r={newArr:t.newArr.map(t=>t.getArray().map(t=>t.toJSON())),eventName:t.eventName,index:t.index},t.previous&&(r.previous=t.previous.getArray())),r}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),bI=(()=>{class t{constructor(t,e){this._mapsWrapper=t,this._zone=e,this._polylines=new Map}static _convertPoints(t){return t._getPoints().map(t=>({lat:t.latitude,lng:t.longitude}))}static _convertPath(t){const e=google.maps.SymbolPath[t];return"number"==typeof e?e:t}static _convertIcons(e){const n=e._getIcons().map(e=>({fixedRotation:e.fixedRotation,offset:e.offset,repeat:e.repeat,icon:{anchor:new google.maps.Point(e.anchorX,e.anchorY),fillColor:e.fillColor,fillOpacity:e.fillOpacity,path:t._convertPath(e.path),rotation:e.rotation,scale:e.scale,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight}}));return n.forEach(t=>{Object.entries(t).forEach(([e,n])=>{void 0===n&&delete t[e]}),void 0!==t.icon.anchor.x&&void 0!==t.icon.anchor.y||delete t.icon.anchor}),n}addPolyline(e){const n=this._mapsWrapper.getNativeMap().then(()=>[t._convertPoints(e),t._convertIcons(e)]).then(([t,n])=>this._mapsWrapper.createPolyline({clickable:e.clickable,draggable:e.draggable,editable:e.editable,geodesic:e.geodesic,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex,path:t,icons:n}));this._polylines.set(e,n)}updatePolylinePoints(e){const n=t._convertPoints(e),r=this._polylines.get(e);return null==r?Promise.resolve():r.then(t=>this._zone.run(()=>t.setPath(n)))}updateIconSequences(e){return Es(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const n=t._convertIcons(e),r=this._polylines.get(e);if(null!=r)return r.then(t=>this._zone.run(()=>t.setOptions({icons:n})))})}setPolylineOptions(t,e){return this._polylines.get(t).then(t=>{t.setOptions(e)})}deletePolyline(t){const e=this._polylines.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setMap(null),this._polylines.delete(t)}))}getMVCPath(t){return Es(this,void 0,void 0,function*(){return(yield this._polylines.get(t)).getPath()})}getPath(t){return Es(this,void 0,void 0,function*(){return(yield this.getMVCPath(t)).getArray()})}createEventObservable(t,e){return new Mt.a(n=>{this._polylines.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}createPathEventObservable(t){return Es(this,void 0,void 0,function*(){return pI(yield this.getMVCPath(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),mI=(()=>{class t{constructor(t,e){this._apiWrapper=t,this._zone=e,this._rectangles=new Map}addRectangle(t){this._apiWrapper.getNativeMap().then(()=>this._rectangles.set(t,this._apiWrapper.createRectangle({bounds:{north:t.north,east:t.east,south:t.south,west:t.west},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:google.maps.StrokePosition[t.strokePosition],strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex})))}removeRectangle(t){return this._rectangles.get(t).then(e=>{e.setMap(null),this._rectangles.delete(t)})}setOptions(t,e){return this._rectangles.get(t).then(t=>{e.strokePosition=google.maps.StrokePosition[e.strokePosition],t.setOptions(e)})}getBounds(t){return this._rectangles.get(t).then(t=>t.getBounds())}setBounds(t){return this._rectangles.get(t).then(e=>e.setBounds({north:t.north,east:t.east,south:t.south,west:t.west}))}setEditable(t){return this._rectangles.get(t).then(e=>e.setEditable(t.editable))}setDraggable(t){return this._rectangles.get(t).then(e=>e.setDraggable(t.draggable))}setVisible(t){return this._rectangles.get(t).then(e=>e.setVisible(t.visible))}createEventObservable(t,e){return new Mt.a(n=>{let r=null;return this._rectangles.get(e).then(e=>{r=e.addListener(t,t=>this._zone.run(()=>n.next(t)))}),()=>{null!==r&&r.remove()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(XE),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),vI=0,yI=(()=>{class t{constructor(t,e){this._infoWindowManager=t,this._el=e,this.isOpen=!1,this.infoWindowClose=new r.n,this._infoWindowAddedToManager=!1,this._id=(vI++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(t){this._infoWindowAddedToManager&&((t.latitude||t.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),t.zIndex&&this._infoWindowManager.setZIndex(this),t.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(t))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(e){const n={};Object.keys(e).filter(e=>-1!==t._infoWindowOptionsInputs.indexOf(e)).forEach(t=>{n[t]=e[t].currentValue}),this._infoWindowManager.setOptions(this,n)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(hI),r.Jb(r.l))},t.\u0275cmp=r.Db({type:t,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[r.xb],ngContentSelectors:YE,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(t,e){1&t&&(r.ac(),r.Mb(0,"div",0),r.Zb(1),r.Lb())},encapsulation:2}),t._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],t})(),_I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,inputs:{position:"position"}}),t})(),wI=(()=>{class t{constructor(t,e,n,i,o){this._elem=t,this._mapsWrapper=e,this._platformId=n,this._fitBoundsService=i,this._zone=o,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.mapTypeId="ROADMAP",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new r.n,this.mapRightClick=new r.n,this.mapDblClick=new r.n,this.centerChange=new r.n,this.boundsChange=new r.n,this.mapTypeIdChange=new r.n,this.idle=new r.n,this.zoomChange=new r.n,this.mapReady=new r.n,this.tilesLoaded=new r.n}ngAfterContentInit(){if(Y(this._platformId))return;const t=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(t)}_initMapInstance(t){this._mapsWrapper.createMap(t,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,mapTypeId:this.mapTypeId.toLocaleLowerCase(),clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(t=>this.mapReady.emit(t)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent(),this._handleControlChange()}ngOnDestroy(){this._observableSubscriptions.forEach(t=>t.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(t){this._updateMapOptionsChanges(t),this._updatePosition(t)}_updateMapOptionsChanges(e){const n={};Object.keys(e).filter(e=>-1!==t._mapOptionsAttributes.indexOf(e)).forEach(t=>{n[t]=e[t].currentValue}),this._mapsWrapper.setMapOptions(n)}triggerResize(t=!0){return new Promise(e=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{t&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),e()}))})}_updatePosition(t){(null!=t.latitude||null!=t.longitude||t.fitBounds)&&("fitBounds"in t?this._fitBounds():"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._setCenter())}_setCenter(){const t={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(t):this._mapsWrapper.setCenter(t)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe(),this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(t=>{this._zone.run(()=>this._updateBounds(t,this.fitBoundsPadding))})})}_updateBounds(t,e){if(t){if(this._isLatLngBoundsLiteral(t)&&"undefined"!=typeof google&&google&&google.maps&&google.maps.LatLngBounds){const e=new google.maps.LatLngBounds;e.union(t),t=e}this.usePanning?this._mapsWrapper.panToBounds(t,e):this._mapsWrapper.fitBounds(t,e)}}_isLatLngBoundsLiteral(t){return null!=t&&void 0===t.extend}_handleMapCenterChange(){const t=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(t=>{this.latitude=t.lat(),this.longitude=t.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(t)}_handleBoundsChange(){const t=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(t=>{this.boundsChange.emit(t)})});this._observableSubscriptions.push(t)}_handleMapTypeIdChange(){const t=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(t=>{this.mapTypeIdChange.emit(t)})});this._observableSubscriptions.push(t)}_handleMapZoomChange(){const t=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(t=>{this.zoom=t,this.zoomChange.emit(t)})});this._observableSubscriptions.push(t)}_handleIdleEvent(){const t=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(t)}_handleTilesLoadedEvent(){const t=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(t)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(t=>{const e=this._mapsWrapper.subscribeToMapEvent(t.name).subscribe(([e])=>{e.placeId&&!this.showDefaultInfoWindow&&e.stop(),t.emitter.emit(e)});this._observableSubscriptions.push(e)})}_handleControlChange(){this._setControls(),this.mapControls.changes.subscribe(()=>this._setControls())}_setControls(){const t={fullscreenControl:!this.disableDefaultUI,mapTypeControl:!1,panControl:!1,rotateControl:!1,scaleControl:!1,streetViewControl:!this.disableDefaultUI,zoomControl:!this.disableDefaultUI};this._mapsWrapper.getNativeMap().then(()=>{this.mapControls.forEach(e=>Object.assign(t,e.getOptions())),this._mapsWrapper.setMapOptions(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(XE),r.Jb(r.B),r.Jb(rI),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["agm-map"]],contentQueries:function(t,e,n){if(1&t&&r.Cb(n,_I,!1),2&t){let t;r.gc(t=r.Ub())&&(e.mapControls=t)}},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",fitBoundsPadding:"fitBoundsPadding",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[r.yb([tI,eI,eI,rI,XE,hI,fI,dI,lI,gI,bI,mI]),r.xb],ngContentSelectors:YE,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(t,e){1&t&&(r.ac(),r.Kb(0,"div",0),r.Mb(1,"div",1),r.Zb(2),r.Lb())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),t._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","styles","zoom","minZoom","maxZoom","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],t})(),OI=0,CI=(()=>{class t{constructor(t){this._markerManager=t,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new r.n,this.markerClick=new r.n,this.markerDblClick=new r.n,this.markerRightClick=new r.n,this.dragStart=new r.n,this.drag=new r.n,this.dragEnd=new r.n,this.mouseOver=new r.n,this.mouseOut=new r.n,this.infoWindow=new r.D,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new ks(1),this._id=(OI++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(t=>{t.hostMarker=this})}ngOnChanges(t){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(t.latitude||t.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),t.title&&this._markerManager.updateTitle(this),t.label&&this._markerManager.updateLabel(this),t.draggable&&this._markerManager.updateDraggable(this),t.iconUrl&&this._markerManager.updateIcon(this),t.opacity&&this._markerManager.updateOpacity(this),t.visible&&this._markerManager.updateVisible(this),t.zIndex&&this._markerManager.updateZIndex(this),t.clickable&&this._markerManager.updateClickable(this),t.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const t=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(t=>t.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(t);const e=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(e);const n=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(n);const r=this._markerManager.createEventObservable("dragstart",this).subscribe(t=>this.dragStart.emit(t));this._observableSubscriptions.push(r);const i=this._markerManager.createEventObservable("drag",this).subscribe(t=>this.drag.emit(t));this._observableSubscriptions.push(i);const o=this._markerManager.createEventObservable("dragend",this).subscribe(t=>this.dragEnd.emit(t));this._observableSubscriptions.push(o);const s=this._markerManager.createEventObservable("mouseover",this).subscribe(t=>this.mouseOver.emit(t));this._observableSubscriptions.push(s);const a=this._markerManager.createEventObservable("mouseout",this).subscribe(t=>this.mouseOut.emit(t));this._observableSubscriptions.push(a);const u=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(u)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(lI))},t.\u0275dir=r.Eb({type:t,selectors:[["agm-marker"]],contentQueries:function(t,e,n){if(1&t&&r.Cb(n,yI,!1),2&t){let t;r.gc(t=r.Ub())&&(e.infoWindow=t)}},inputs:{draggable:["markerDraggable","draggable"],visible:"visible",openInfoWindow:"openInfoWindow",opacity:"opacity",zIndex:"zIndex",clickable:["markerClickable","clickable"],latitude:"latitude",longitude:"longitude",title:"title",label:"label",iconUrl:"iconUrl",animation:"animation"},outputs:{animationChange:"animationChange",markerClick:"markerClick",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut"},features:[r.yb([{provide:nI,useExisting:Object(r.U)(()=>t)}]),r.xb]}),t})(),EI=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[...sI,{provide:ZE,useClass:cI},{provide:uI,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})();const II=["search"];function SI(t,e){1&t&&(r.Mb(0,"div",26),r.oc(1," Por favor ingresa un titulo. "),r.Lb())}function xI(t,e){if(1&t&&(r.Mb(0,"option",27),r.oc(1),r.Lb()),2&t){const t=e.$implicit;r.bc("value",t.name),r.zb(1),r.qc(" ",t.name," ")}}function TI(t,e){1&t&&(r.Mb(0,"div",26),r.oc(1," Por favor selecciona una categoria. "),r.Lb())}function kI(t,e){1&t&&(r.Mb(0,"div",26),r.oc(1," Por favor escribe una descripcion. "),r.Lb())}const AI=function(t){return{width:t}};function jI(t,e){if(1&t&&(r.Mb(0,"div",30),r.Mb(1,"div",31),r.oc(2),r.Wb(3,"number"),r.Lb(),r.Lb()),2&t){const t=e.ngIf;r.zb(1),r.bc("ngStyle",r.fc(5,AI,t+"%")),r.zb(1),r.qc(" ",r.Yb(3,2,t,"1.0-0")," % ")}}function MI(t,e){if(1&t&&(r.Mb(0,"div",28),r.mc(1,jI,4,7,"div",29),r.Wb(2,"async"),r.Lb()),2&t){const t=r.Vb();r.zb(1),r.bc("ngIf",r.Xb(2,1,t.file.uploadPercent))}}function PI(t,e){1&t&&(r.Mb(0,"div",26),r.oc(1," Por favor ingresa una direcci\xf3n. "),r.Lb())}function LI(t,e){1&t&&(r.Mb(0,"div",26),r.oc(1," Por favor ingresa un n\xfamero telef\xf3nico. "),r.Lb())}let RI=(()=>{class t{constructor(t,e,n,r){this.adSv=t,this.categorieSv=e,this.mapsAPILoader=n,this.ngZone=r,this.categories=[],this.zoom=18,this.lat=51.678418,this.lng=7.809007,this.latLongs=[],this.latLong={},this.mapTypeId="hybrid",this.adForm=new Ye({title:new Je("",[Kt.required]),direction:new Je("",[Kt.required]),description:new Je("",[Kt.required]),email:new Je(""),facebook:new Je(""),phone:new Je("",[Kt.required]),web:new Je(""),categorie:new Je("",[Kt.required]),image:new Je("",[Kt.required]),latitud:new Je(""),longitud:new Je("")})}ngOnInit(){this.getAllCategories(),this.searchControl=new Je,this.mapsAPILoader.load().then(()=>{const t=new google.maps.places.Autocomplete(this.searchElementRef.nativeElement,{types:[],componentRestrictions:{country:"MX"}});t.addListener("place_changed",()=>{this.ngZone.run(()=>{let e=t.getPlace();null!=e.geometry&&(this.lat=e.geometry.location.lat(),this.lng=e.geometry.location.lng(),this.latLongs.push(this.latLong),this.searchControl.reset())})})})}createAd(){const{title:t}=this.adForm.value,{direction:e}=this.adForm.value,{description:n}=this.adForm.value,{facebook:r}=this.adForm.value,{phone:i}=this.adForm.value,{web:o}=this.adForm.value,{categorie:s}=this.adForm.value;let a={};a.title=t,a.direction=e,a.description=n,a.latitud=this.lat,a.longitud=this.lng,a.facebook=r,a.phone=i,a.categorie=s,a.web=o,a.vistas=0,a.banner=!1,this.adForm.valid?this.upLoad(a):window.alert("Formulario no valido revisa tus datos ingresado")}getAllCategories(){this.categorieSv.getAllCategories().subscribe(t=>this.categories=t)}onUploadImg(t){this.file=t.target.files[0]}upLoad(t){this.adSv.onUpLoadImage(this.file,t),this.adForm.reset()}get title(){return this.adForm.get("title")}get categorie(){return this.adForm.get("categorie")}get phone(){return this.adForm.get("phone")}get description(){return this.adForm.get("description")}get latitud(){return this.adForm.get("latitud")}get longitud(){return this.adForm.get("longitud")}get image(){return this.adForm.get("image")}get direction(){return this.adForm.get("direction")}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aC),r.Jb(Iw),r.Jb(ZE),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["app-ad"]],viewQuery:function(t,e){if(1&t&&r.rc(II,!0),2&t){let t;r.gc(t=r.Ub())&&(e.searchElementRef=t.first)}},decls:66,vars:23,consts:[[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col","form-group"],["type","text","formControlName","title","placeholder","Titulo del anuncio","required","","name","title",1,"form-control",3,"className"],["class","invalid-feedback",4,"ngIf"],["name","categorie","formControlName","categorie",1,"form-control",3,"className"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group"],["formControlName","description","rows","3","required","",1,"form-control",3,"className"],["type","file","formControlName","image","accept",".png, .jpg, .mp4",1,"form-control-file",3,"className","change"],["class","mt-2",4,"ngIf"],["type","text","formControlName","direction","placeholder","Direcci\xf3n",1,"form-control",3,"className"],["required","","type","text","formControlName","phone","placeholder","Numero de tel\xe9fono",1,"form-control",3,"className"],["required","","type","text","formControlName","facebook","placeholder","Ingresa tu link a facebook",1,"form-control"],["required","","type","text","formControlName","web","placeholder","Ingresa tu link a tu pagina web",1,"form-control"],[1,"mapa-search"],["type","text","placeholder","Ingresa una direccion y selecciona una opcion","autocorrect","off","autocapitalize","off","spellcheck","off","type","text",1,"form-control"],["search",""],[3,"latitude","longitude","zoom","mapTypeId"],[3,"latitude","longitude","markerDraggable"],["type","text","formControlName","longitud","placeholder","Longitud",1,"form-control",3,"value"],["type","text","formControlName","latitud","placeholder","Latitud",1,"form-control",3,"value"],[1,"btn","btn-primary","btn-long","btn-block","mt-3"],[1,"invalid-feedback"],[3,"value"],[1,"mt-2"],["class","progress",4,"ngIf"],[1,"progress"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"h3",2),r.oc(3,"Crear anuncio"),r.Lb(),r.Mb(4,"form",3),r.Tb("ngSubmit",function(){return e.createAd()}),r.Mb(5,"div",4),r.Mb(6,"div",5),r.Mb(7,"label"),r.oc(8,"Titulo del anuncio"),r.Lb(),r.Kb(9,"input",6),r.mc(10,SI,2,0,"div",7),r.Lb(),r.Mb(11,"div",5),r.Mb(12,"label"),r.oc(13,"Categoria"),r.Lb(),r.Mb(14,"select",8),r.mc(15,xI,2,2,"option",9),r.Lb(),r.mc(16,TI,2,0,"div",7),r.Lb(),r.Lb(),r.Mb(17,"div",10),r.Mb(18,"label"),r.oc(19,"Descripci\xf3n"),r.Lb(),r.Kb(20,"textarea",11),r.mc(21,kI,2,0,"div",7),r.Lb(),r.Mb(22,"div",10),r.Mb(23,"label"),r.oc(24,"Imagen"),r.Lb(),r.Mb(25,"input",12),r.Tb("change",function(t){return e.onUploadImg(t)}),r.Lb(),r.mc(26,MI,3,3,"div",13),r.Lb(),r.Mb(27,"div",4),r.Mb(28,"div",5),r.Mb(29,"label"),r.oc(30,"Direcci\xf3n"),r.Lb(),r.Kb(31,"input",14),r.mc(32,PI,2,0,"div",7),r.Lb(),r.Mb(33,"div",5),r.Mb(34,"label"),r.oc(35,"Tel\xe9fono"),r.Lb(),r.Kb(36,"input",15),r.mc(37,LI,2,0,"div",7),r.Lb(),r.Lb(),r.Mb(38,"div",4),r.Mb(39,"div",5),r.Mb(40,"label"),r.oc(41,"Facebook"),r.Lb(),r.Kb(42,"input",16),r.Lb(),r.Mb(43,"div",5),r.Mb(44,"label"),r.oc(45,"Pagina web"),r.Lb(),r.Kb(46,"input",17),r.Lb(),r.Lb(),r.Mb(47,"div",18),r.Mb(48,"div",10),r.Mb(49,"label"),r.oc(50,"Buscar lugar"),r.Lb(),r.Kb(51,"input",19,20),r.Lb(),r.Mb(53,"agm-map",21),r.Kb(54,"agm-marker",22),r.Lb(),r.Lb(),r.Mb(55,"div",4),r.Mb(56,"div",5),r.Mb(57,"label"),r.oc(58,"Longitud"),r.Lb(),r.Kb(59,"input",23),r.Lb(),r.Mb(60,"div",5),r.Mb(61,"label"),r.oc(62,"Latitud"),r.Lb(),r.Kb(63,"input",24),r.Lb(),r.Lb(),r.Mb(64,"button",25),r.oc(65," Publicar anuncio "),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.zb(4),r.bc("formGroup",e.adForm),r.zb(5),r.bc("className",e.title.errors||!e.title.dirty&&!e.title.touched?"is-invalid form-control":"is-valid form-control"),r.zb(1),r.bc("ngIf",e.title.errors),r.zb(4),r.bc("className",e.categorie.errors||!e.categorie.dirty&&!e.categorie.touched?"is-invalid form-control":"is-valid form-control"),r.zb(1),r.bc("ngForOf",e.categories),r.zb(1),r.bc("ngIf",e.categorie.errors),r.zb(4),r.bc("className",e.description.errors||!e.description.dirty&&!e.description.touched?"is-invalid form-control":"is-valid form-control"),r.zb(1),r.bc("ngIf",e.description.errors),r.zb(4),r.bc("className",e.image.errors?"is-invalid form-control":"is-valid form-control"),r.zb(1),r.bc("ngIf",e.file),r.zb(5),r.bc("className",e.direction.errors?"is-invalid form-control":"is-valid form-control"),r.zb(1),r.bc("ngIf",e.direction.errors),r.zb(4),r.bc("className",e.phone.errors||!e.phone.dirty&&!e.phone.touched?"is-invalid form-control":"is-valid form-control"),r.zb(1),r.bc("ngIf",e.phone.errors),r.zb(16),r.bc("latitude",e.lat)("longitude",e.lng)("zoom",e.zoom)("mapTypeId",e.mapTypeId),r.zb(1),r.bc("latitude",e.lat)("longitude",e.lng)("markerDraggable",!1),r.zb(5),r.bc("value",e.lng),r.zb(4),r.bc("value",e.lat))},directives:[sn,fe,cn,Bt,he,hn,dn,U,Oe,D,wI,CI,Ce,xe,q],pipes:[Q,K],styles:[""]}),t})(),NI=(()=>{class t{transform(t,e){const n=[];let r="";for(const i of t){if(!(e.length>2))return t;r=i.title.toUpperCase(),r.indexOf(e.toUpperCase())>-1&&n.push(i)}return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"filterCategories",type:t,pure:!0}),t})();function DI(t,e){if(1&t&&r.Kb(0,"fa-icon",16),2&t){const t=r.Vb(3);r.bc("icon",t.faCheckCircle)}}function VI(t,e){if(1&t&&r.Kb(0,"fa-icon",16),2&t){const t=r.Vb(3);r.bc("icon",t.faTimesCircle)}}function UI(t,e){if(1&t){const t=r.Nb();r.Mb(0,"tr"),r.Mb(1,"td"),r.Mb(2,"span",10),r.oc(3),r.Lb(),r.Kb(4,"br"),r.oc(5),r.Lb(),r.Mb(6,"td"),r.Mb(7,"span",11),r.oc(8,"Celular:"),r.Lb(),r.oc(9),r.Kb(10,"br"),r.Mb(11,"span",11),r.oc(12,"Direcci\xf3n:"),r.Lb(),r.oc(13),r.Kb(14,"br"),r.Mb(15,"span",11),r.oc(16,"Pagina:"),r.Lb(),r.oc(17),r.Kb(18,"br"),r.Mb(19,"span",11),r.oc(20,"Facebook:"),r.Lb(),r.oc(21),r.Lb(),r.Mb(22,"td"),r.oc(23),r.Lb(),r.Mb(24,"td"),r.Mb(25,"button",12),r.Tb("click",function(){r.ic(t);const n=e.$implicit;return r.Vb(2).bannerUpdateState(n)}),r.mc(26,DI,1,1,"fa-icon",13),r.mc(27,VI,1,1,"fa-icon",13),r.Lb(),r.Lb(),r.Mb(28,"td"),r.Kb(29,"img",14),r.Lb(),r.Mb(30,"td"),r.Mb(31,"button",15),r.Tb("click",function(){r.ic(t);const n=e.$implicit;return r.Vb(2).deleteAd(n)}),r.oc(32,"Borrar"),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.zb(3),r.pc(t.title),r.zb(2),r.qc(" ",t.description," "),r.zb(4),r.qc(" ",t.phone," "),r.zb(4),r.qc(" ",t.direction," "),r.zb(4),r.qc(" ",t.web," "),r.zb(4),r.qc(" ",t.facebook," "),r.zb(2),r.pc(t.categorie),r.zb(2),r.bc("className",t.banner?"btn btn-success mt-2":"btn btn-outline-danger mt-2"),r.zb(1),r.bc("ngIf",t.banner),r.zb(1),r.bc("ngIf",!t.banner),r.zb(2),r.cc("src",t.imageUrl,r.kc)}}function FI(t,e){if(1&t){const t=r.Nb();r.Mb(0,"section"),r.Kb(1,"hr",2),r.Mb(2,"form"),r.Mb(3,"div",3),r.Mb(4,"input",4),r.Tb("input",function(e){return r.ic(t),r.Vb().search(e.target.value)}),r.Lb(),r.Kb(5,"fa-icon",5),r.Lb(),r.Lb(),r.Mb(6,"table",6),r.Mb(7,"thead",7),r.Mb(8,"tr"),r.Mb(9,"th",8),r.oc(10,"Anuncio"),r.Lb(),r.Mb(11,"th",8),r.oc(12,"Contacto"),r.Lb(),r.Mb(13,"th",8),r.oc(14,"Categoria"),r.Lb(),r.Mb(15,"th",8),r.oc(16,"Banner"),r.Lb(),r.Mb(17,"th"),r.oc(18,"Imagen"),r.Lb(),r.Kb(19,"th"),r.Lb(),r.Lb(),r.Mb(20,"tbody"),r.mc(21,UI,33,11,"tr",9),r.Wb(22,"filterCategories"),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.Vb();r.zb(5),r.bc("icon",t.faSearch),r.zb(16),r.bc("ngForOf",r.Yb(22,2,t.ads,t.title))}}function zI(t,e){1&t&&(r.Mb(0,"div",17),r.Kb(1,"div",18),r.Mb(2,"h3"),r.oc(3,"Buscando anuncios..."),r.Lb(),r.Lb())}let qI=(()=>{class t{constructor(t){this.adSv=t,this.faCheckCircle=gs,this.faTimesCircle=Os,this.faSearch=ws,this.title=""}ngOnInit(){this.getAllAds(),this.getTitle()}getAllAds(){this.adSv.getAllAds().subscribe(t=>this.ads=t)}deleteAd(t){confirm("Seguro que deseas eliminar el anuncio")&&this.adSv.deleteAd(t)}bannerUpdateState(t){this.adSv.updateBannerState(t)}getTitle(){this.adSv.searchTitleObservable.subscribe(t=>{this.title=t})}search(t){this.adSv.searchTitle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aC))},t.\u0275cmp=r.Db({type:t,selectors:[["app-ads-list"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notAds",""],[1,"mt-4"],[1,"form-inline","mt-4"],["type","text","placeholder","Buscar...",1,"form-control",3,"input"],[1,"ml-2",3,"icon"],[1,"table","table-hover","mt-2"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"title"],[1,"contacto"],[3,"className","click"],[3,"icon",4,"ngIf"],["width","100",3,"src"],[1,"btn","btn-danger",3,"click"],[3,"icon"],[1,"load"],[1,"loader"]],template:function(t,e){if(1&t&&(r.mc(0,FI,23,5,"section",0),r.mc(1,zI,4,0,"ng-template",null,1,r.nc)),2&t){const t=r.hc(2);r.bc("ngIf",(null==e.ads?null:e.ads.length)>0)("ngIfElse",t)}},directives:[U,sn,fe,en,TE,D],pipes:[NI],styles:[".title[_ngcontent-%COMP%]{font-size:large}.contacto[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{font-weight:700}.load[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]{border-radius:50%;border:16px solid #f3f3f3;border-top-color:#3498db;width:120px;height:120px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),t})(),BI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-admin"]],decls:8,vars:0,consts:[[1,"container"],[1,"row","mt-2"],[1,"col-md-4","col-12","mx-auto"],[1,"col-md-8","col-12","mx-auto"]],template:function(t,e){1&t&&(r.Kb(0,"app-navbar-simple"),r.Mb(1,"div",0),r.Mb(2,"div",1),r.Mb(3,"div",2),r.Kb(4,"app-categorie"),r.Lb(),r.Mb(5,"div",3),r.Kb(6,"app-ad"),r.Lb(),r.Lb(),r.Kb(7,"app-ads-list"),r.Lb())},directives:[VE,qE,RI,qI],styles:[""]}),t})();const HI=function(t){return["/categories/",t]};function WI(t,e){if(1&t&&(r.Mb(0,"a",21),r.oc(1),r.Lb()),2&t){const t=e.$implicit;r.bc("routerLink",r.fc(2,HI,t.name)),r.zb(1),r.pc(t.name)}}const GI=function(){return["/admin"]};function $I(t,e){1&t&&(r.Mb(0,"li",6),r.Mb(1,"a",22),r.oc(2," Admin"),r.Lb(),r.Lb()),2&t&&(r.zb(1),r.bc("routerLink",r.ec(1,GI)))}const QI=function(){return["/login"]};function KI(t,e){if(1&t&&(r.Mb(0,"li",6),r.Mb(1,"a",22),r.Kb(2,"fa-icon",8),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.zb(1),r.bc("routerLink",r.ec(2,QI)),r.zb(1),r.bc("icon",t.faUserAdmin)}}const JI=function(){return["/home"]};function YI(t,e){if(1&t){const t=r.Nb();r.Mb(0,"li",6),r.Mb(1,"a",23),r.Tb("click",function(){return r.ic(t),r.Vb().logout()}),r.oc(2,"Cerrar sesion"),r.Lb(),r.Lb()}2&t&&(r.zb(1),r.bc("routerLink",r.ec(1,JI)))}let ZI=(()=>{class t{constructor(t,e,n,r,i){this.authService=t,this.af=e,this.router=n,this.categorieSv=r,this.adSvc=i,this.faPhone=_s,this.faUserAdmin=Cs,this.faHome=vs,this.cel=2235698659,this.isLogged=!1,this.isAdmin=!1,this.title="",this.user$=this.af.user,this.categories=[]}ngOnInit(){this.getAllCategories(),this.currenuser()}currenuser(){this.authService.user$.subscribe(t=>{t&&(this.user=t,this.isLogged=!0,this.isAdmin=this.authService.isAdmin(t))})}logout(){this.authService.logout(),this.isLogged=!1,this.router.navigate(["home"])}getAllCategories(){this.categorieSv.getAllCategories().subscribe(t=>this.categories=t)}search(t){this.adSvc.searchTitle(this.title)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ew),r.Jb(zs),r.Jb($o),r.Jb(Iw),r.Jb(aC))},t.\u0275cmp=r.Db({type:t,selectors:[["app-navbar"]],decls:31,vars:8,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["href","#",1,"nav-link"],[3,"icon"],[1,"sr-only"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["class","dropdown-item",3,"routerLink",4,"ngFor","ngForOf"],["class","nav-item",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"nav-link","disabled"],[1,"cel",3,"icon"],[1,"cel"],[1,"form-inline","my-2","my-lg-0"],["type","search","name","title","placeholder","Buscar","aria-label","Search",1,"form-control","mr-sm-2",3,"ngModel","input","ngModelChange"],["type","submit",1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"],[1,"dropdown-item",3,"routerLink"],[1,"nav-link",3,"routerLink"],["tabindex","-1","aria-disabled","true",1,"nav-link",3,"routerLink","click"]],template:function(t,e){1&t&&(r.Mb(0,"nav",0),r.Mb(1,"a",1),r.oc(2,"MiAnuncioApp"),r.Lb(),r.Mb(3,"button",2),r.Kb(4,"span",3),r.Lb(),r.Mb(5,"div",4),r.Mb(6,"ul",5),r.Mb(7,"li",6),r.Mb(8,"a",7),r.Kb(9,"fa-icon",8),r.oc(10," Inicio "),r.Mb(11,"span",9),r.oc(12,"(current)"),r.Lb(),r.Lb(),r.Lb(),r.Mb(13,"li",10),r.Mb(14,"a",11),r.oc(15," Categorias "),r.Lb(),r.Mb(16,"div",12),r.Mb(17,"li"),r.mc(18,WI,2,4,"a",13),r.Lb(),r.Lb(),r.Lb(),r.mc(19,$I,3,2,"li",14),r.Mb(20,"li",6),r.Mb(21,"a",15),r.Kb(22,"fa-icon",16),r.Mb(23,"span",17),r.oc(24),r.Lb(),r.Lb(),r.Lb(),r.mc(25,KI,3,3,"li",14),r.mc(26,YI,3,2,"li",14),r.Lb(),r.Mb(27,"form",18),r.Mb(28,"input",19),r.Tb("input",function(t){return e.search(t.target.value)})("ngModelChange",function(t){return e.title=t}),r.Lb(),r.Mb(29,"button",20),r.Tb("click",function(){return e.search(e.title)}),r.oc(30," Buscar "),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.zb(9),r.bc("icon",e.faHome),r.zb(9),r.bc("ngForOf",e.categories),r.zb(1),r.bc("ngIf",e.isLogged&&e.isAdmin),r.zb(3),r.bc("icon",e.faPhone),r.zb(2),r.qc(" ",e.cel,""),r.zb(1),r.bc("ngIf",!e.isLogged),r.zb(1),r.bc("ngIf",e.isLogged),r.zb(2),r.bc("ngModel",e.title))},directives:[TE,D,U,sn,fe,en,Bt,he,on,Qo],styles:[".cel[_ngcontent-%COMP%]{color:#0adf0a}"]}),t})();function XI(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",9,10),r.Mb(2,"div",11),r.Kb(3,"img",12),r.Mb(4,"div",13),r.Mb(5,"h5",14),r.oc(6),r.Lb(),r.Mb(7,"p"),r.Mb(8,"span",15),r.oc(9),r.Lb(),r.Lb(),r.Mb(10,"button",16),r.Tb("click",function(){r.ic(t);const n=e.$implicit;return r.Vb().viewDetail(n)}),r.oc(11," M\xe1s informaci\xf3n... "),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.zb(3),r.cc("src",t.imageUrl,r.kc),r.zb(3),r.qc("",t.title.substring(15,-1),"..."),r.zb(3),r.qc(" ",t.description.substring(30,-1),"...")}}function tS(t,e){if(1&t&&(r.Mb(0,"a",31),r.oc(1,"Pagina Web"),r.Lb()),2&t){const t=r.Vb(2);r.bc("href",t.ad.web,r.kc)}}function eS(t,e){if(1&t&&(r.Mb(0,"a",32),r.oc(1,"Facebook"),r.Lb()),2&t){const t=r.Vb(2);r.bc("href",t.ad.facebook,r.kc)}}function nS(t,e){if(1&t&&(r.Mb(0,"a",33),r.Kb(1,"fa-icon",34),r.oc(2," Ubicacion"),r.Lb()),2&t){const t=r.Vb(2);r.dc("href","https://maps.google.com/?q=",t.ad.latitud,",",t.ad.longitud,"",r.kc),r.zb(1),r.bc("icon",t.faMarker)}}function rS(t,e){if(1&t&&(r.Mb(0,"div",17),r.Mb(1,"div",18),r.Mb(2,"div",19),r.Mb(3,"div",20),r.Mb(4,"h5",21),r.oc(5),r.Lb(),r.Mb(6,"button",22),r.Mb(7,"span",23),r.oc(8,"\xd7"),r.Lb(),r.Lb(),r.Lb(),r.Mb(9,"div",24),r.Mb(10,"p"),r.oc(11),r.Lb(),r.Mb(12,"p"),r.Kb(13,"fa-icon",25),r.oc(14),r.Lb(),r.mc(15,tS,2,1,"a",26),r.mc(16,eS,2,1,"a",27),r.mc(17,nS,3,3,"a",28),r.Lb(),r.Mb(18,"div",29),r.Mb(19,"button",30),r.oc(20," Close "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.zb(5),r.qc(" ",t.ad.title," "),r.zb(6),r.pc(t.ad.description),r.zb(2),r.bc("icon",t.faPhone),r.zb(1),r.qc(" ",t.ad.phone,""),r.zb(1),r.bc("ngIf",""!=t.ad.web&&null!=t.ad.web),r.zb(1),r.bc("ngIf",""!=t.ad.facebook&&null!=t.ad.facebook),r.zb(1),r.bc("ngIf",""!=t.ad.latitud&&null!=t.ad.latitud)}}let iS=(()=>{class t{constructor(t,e){this.activedRoute=t,this.adsSvc=e,this.faMarker=ys,this.faPhone=_s,this.adList=[],this.title=""}ngOnInit(){this.ads={categorie:this.activedRoute.snapshot.params.categorie},this.activedRoute.params.subscribe(t=>{this.ads.categorie=t.categorie,this.getAllCategorie(this.ads.categorie)}),this.getTitleSearch()}getAllCategorie(t){this.adsSvc.getCategorie(t).subscribe(t=>{this.adList=t})}viewDetail(t){this.ad=t,this.adsSvc.updateVistas(t)}getTitleSearch(){this.adsSvc.searchTitleObservable.subscribe(t=>{this.title=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(xi),r.Jb(aC))},t.\u0275cmp=r.Db({type:t,selectors:[["app-categories"]],decls:12,vars:6,consts:[[1,"container"],[1,"carousel-ads","mt-5"],[1,"text-center"],["id","slick-list",1,"slick-list"],["slickList",""],[1,"adsList"],["adsList",""],["id","container","class","ad",4,"ngFor","ngForOf"],["class","modal fade","id","modalAd","tabindex","-1","role","dialog","aria-labelledby","modalAd","aria-hidden","true",4,"ngIf"],["id","container",1,"ad"],["ad",""],[1,"card","mx-2"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-description"],["type","button","data-toggle","modal","data-target","#modalAd",1,"btn","btn-primary",3,"click"],["id","modalAd","tabindex","-1","role","dialog","aria-labelledby","modalAd","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"icon"],["target","_blank","class","btn btn-warning mr-2",3,"href",4,"ngIf"],["target","_blank","class","btn btn-primary mr-2",3,"href",4,"ngIf"],["target","_blank","class","btn btn-success",3,"href",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["target","_blank",1,"btn","btn-warning","mr-2",3,"href"],["target","_blank",1,"btn","btn-primary","mr-2",3,"href"],["target","_blank",1,"btn","btn-success",3,"href"],[1,"mapMarker",3,"icon"]],template:function(t,e){1&t&&(r.Kb(0,"app-navbar"),r.Mb(1,"div",0),r.Mb(2,"div",1),r.Mb(3,"h2",2),r.oc(4),r.Lb(),r.Mb(5,"div",3,4),r.Mb(7,"div",5,6),r.mc(9,XI,12,3,"div",7),r.Wb(10,"filterCategories"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.mc(11,rS,21,7,"div",8)),2&t&&(r.zb(4),r.qc("Seccion de ",e.ads.categorie,""),r.zb(5),r.bc("ngForOf",r.Yb(10,3,e.adList,e.title)),r.zb(2),r.bc("ngIf",e.ad))},directives:[ZI,D,U,TE],pipes:[NI],styles:[".adsList[_ngcontent-%COMP%]{width:100%;display:block;display:flex;justify-content:space-between;flex-wrap:wrap}.card[_ngcontent-%COMP%]{margin:1rem;width:15rem;height:22rem;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:.5rem;height:10rem}.card-title[_ngcontent-%COMP%]{font-size:1.2rem;text-transform:uppercase}.card-body[_ngcontent-%COMP%]   .url[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:lowercase}h2[_ngcontent-%COMP%]{text-transform:uppercase}.mapMarker[_ngcontent-%COMP%]{color:red}.slick-list[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;position:relative;justify-content:center}@media screen and (max-width:800px){.card[_ngcontent-%COMP%]{width:100%}}"]}),t})(),oS=(()=>{class t{transform(t,e){const n=[];let r="";for(const i of t){if(!(e.length>2))return;r=i.title.toUpperCase(),r.indexOf(e.toUpperCase())>-1&&n.push(i)}return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"filterAds",type:t,pure:!0}),t})();const sS=["buttonPrevLastet"],aS=["buttonNextLastet"],uS=["buttonPrevMostSeen"],cS=["buttonNextMostSeen"],lS=["buttonLeftMostSeen"],hS=["buttonLeftLastetAds"],fS=["adLastet"],dS=["adMostSeen"];function pS(t,e){if(1&t&&(r.Mb(0,"div",26),r.Kb(1,"img",23),r.Mb(2,"div",24),r.Mb(3,"h5"),r.oc(4),r.Lb(),r.Mb(5,"p"),r.oc(6),r.Lb(),r.Lb(),r.Lb()),2&t){const t=e.$implicit;r.zb(1),r.cc("src",t.imageUrl,r.kc),r.zb(3),r.qc("",t.title.substring(18,-1),"..."),r.zb(2),r.qc("",t.description.substring(180,-1)," .....")}}function gS(t,e){if(1&t&&(r.Mb(0,"div",21),r.Mb(1,"div",22),r.Kb(2,"img",23),r.Mb(3,"div",24),r.Mb(4,"h5"),r.oc(5),r.Lb(),r.Mb(6,"p"),r.oc(7),r.Lb(),r.Lb(),r.Lb(),r.mc(8,pS,7,3,"div",25),r.Lb()),2&t){const t=r.Vb(2);r.zb(2),r.cc("src",t.adCarousel.imageUrl,r.kc),r.zb(3),r.qc("",t.adCarousel.title.substring(18,-1),"..."),r.zb(2),r.qc("",t.adCarousel.description.substring(180,-1)," ....."),r.zb(1),r.bc("ngForOf",t.adListCarousel)}}const bS=function(t){return["/categories/",t]};function mS(t,e){if(1&t&&(r.Mb(0,"tr"),r.Mb(1,"td"),r.Mb(2,"a",31),r.oc(3),r.Lb(),r.Lb(),r.Lb()),2&t){const t=e.$implicit;r.zb(2),r.bc("routerLink",r.fc(2,bS,t.name)),r.zb(1),r.pc(t.name)}}function vS(t,e){if(1&t&&(r.Mb(0,"section",27),r.Mb(1,"table",28),r.Mb(2,"thead",29),r.Mb(3,"tr"),r.Mb(4,"th"),r.oc(5,"Categoria"),r.Lb(),r.Lb(),r.Lb(),r.Mb(6,"tbody"),r.mc(7,mS,4,4,"tr",30),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.Vb(2);r.zb(7),r.bc("ngForOf",t.categories)}}function yS(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",35),r.Mb(1,"div",36),r.Kb(2,"img",37),r.Mb(3,"div",38),r.Mb(4,"h5",39),r.oc(5),r.Lb(),r.Mb(6,"p"),r.Mb(7,"span",40),r.oc(8),r.Lb(),r.Lb(),r.Mb(9,"button",41),r.Tb("click",function(){r.ic(t);const n=e.$implicit;return r.Vb(3).viewDetail(n)}),r.oc(10," M\xe1s informaci\xf3n... "),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.zb(2),r.cc("src",t.imageUrl,r.kc),r.zb(3),r.qc("",t.title.substring(15,-1),"..."),r.zb(3),r.qc(" ",t.description.substring(30,-1),"...")}}function _S(t,e){if(1&t&&(r.Mb(0,"section",32),r.Mb(1,"h2"),r.oc(2,"Resultados de la busqueda..."),r.Lb(),r.Mb(3,"div",33),r.mc(4,yS,11,3,"div",34),r.Wb(5,"filterAds"),r.Lb(),r.Lb()),2&t){const t=r.Vb(2);r.zb(4),r.bc("ngForOf",r.Yb(5,1,t.ads,t.title))}}function wS(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",35,51),r.Mb(2,"div",36),r.Kb(3,"img",37),r.Mb(4,"div",38),r.Mb(5,"h5",39),r.oc(6),r.Lb(),r.Mb(7,"p"),r.Mb(8,"span",40),r.oc(9),r.Lb(),r.Lb(),r.Mb(10,"button",41),r.Tb("click",function(){r.ic(t);const n=e.$implicit;return r.Vb(3).viewDetail(n)}),r.oc(11," M\xe1s informaci\xf3n... "),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.zb(3),r.cc("src",t.imageUrl,r.kc),r.zb(3),r.qc("",t.title.substring(15,-1),"..."),r.zb(3),r.qc(" ",t.description.substring(30,-1),"...")}}function OS(t,e){if(1&t){const t=r.Nb();r.Mb(0,"section",42),r.Mb(1,"h2"),r.oc(2,"Ultimos anuncios"),r.Lb(),r.Mb(3,"div",43,44),r.Mb(5,"button",45,46),r.Tb("click",function(){return r.ic(t),r.Vb(2).buttonNextLastetClick()}),r.Mb(7,"span"),r.Kb(8,"fa-icon",47),r.Lb(),r.Lb(),r.Mb(9,"div",48,49),r.mc(11,wS,12,3,"div",34),r.Lb(),r.Mb(12,"button",50),r.Tb("click",function(){return r.ic(t),r.Vb(2).buttonPrevLastetClick()}),r.Mb(13,"span"),r.Kb(14,"fa-icon",47),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.Vb(2);r.zb(8),r.bc("icon",t.faChevronLeft),r.zb(3),r.bc("ngForOf",t.lastetAds),r.zb(3),r.bc("icon",t.faChevronRight)}}function CS(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",35,56),r.Mb(2,"div",36),r.Kb(3,"img",37),r.Mb(4,"div",38),r.Mb(5,"h5",39),r.oc(6),r.Lb(),r.Mb(7,"p"),r.Mb(8,"span",40),r.oc(9),r.Lb(),r.Lb(),r.Mb(10,"button",41),r.Tb("click",function(){r.ic(t);const n=e.$implicit;return r.Vb(3).viewDetail(n)}),r.oc(11," M\xe1s informaci\xf3n... "),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.zb(3),r.cc("src",t.imageUrl,r.kc),r.zb(3),r.qc("",t.title.substring(15,-1),"..."),r.zb(3),r.qc(" ",t.description.substring(30,-1),"...")}}function ES(t,e){if(1&t){const t=r.Nb();r.Mb(0,"section",42),r.Mb(1,"h2"),r.oc(2,"Mas relevantes"),r.Lb(),r.Mb(3,"div",43,44),r.Mb(5,"button",52,53),r.Tb("click",function(){return r.ic(t),r.Vb(2).buttonNextMostSeenClick()}),r.Mb(7,"span"),r.Kb(8,"fa-icon",47),r.Lb(),r.Lb(),r.Mb(9,"div",48,49),r.mc(11,CS,12,3,"div",34),r.Lb(),r.Mb(12,"button",54,55),r.Tb("click",function(){return r.ic(t),r.Vb(2).buttonPrevMostSeenClick()}),r.Mb(14,"span"),r.Kb(15,"fa-icon",47),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.Vb(2);r.zb(8),r.bc("icon",t.faChevronLeft),r.zb(3),r.bc("ngForOf",t.mostSeenAds),r.zb(4),r.bc("icon",t.faChevronRight)}}const IS=function(){return["/aviso-privacidad"]};function SS(t,e){if(1&t&&(r.Mb(0,"main"),r.Mb(1,"section",4),r.Mb(2,"section",5),r.Mb(3,"div",6),r.mc(4,gS,9,4,"div",7),r.Mb(5,"a",8),r.Kb(6,"span",9),r.Mb(7,"span",10),r.oc(8,"Previous"),r.Lb(),r.Lb(),r.Mb(9,"a",11),r.Kb(10,"span",12),r.Mb(11,"span",10),r.oc(12,"Next"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.mc(13,vS,8,1,"section",13),r.Lb(),r.mc(14,_S,6,4,"section",14),r.Wb(15,"filterAds"),r.mc(16,OS,15,3,"section",15),r.mc(17,ES,16,3,"section",15),r.Mb(18,"section",16),r.Mb(19,"div",17),r.Mb(20,"h3"),r.oc(21,"MiAnuncioApp"),r.Lb(),r.Mb(22,"h4"),r.Kb(23,"fa-icon",18),r.Mb(24,"span",19),r.oc(25),r.Lb(),r.Lb(),r.Mb(26,"a",20),r.oc(27,"Terminos y condiciones"),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.zb(4),r.bc("ngIf",t.adCarousel),r.zb(9),r.bc("ngIf",t.categories.length),r.zb(1),r.bc("ngIf",r.Yb(15,8,t.ads,t.title)),r.zb(2),r.bc("ngIf",t.lastetAds),r.zb(1),r.bc("ngIf",t.mostSeenAds.length),r.zb(6),r.bc("icon",t.faPhone),r.zb(2),r.qc(" ",t.cel,""),r.zb(1),r.bc("routerLink",r.ec(11,IS))}}function xS(t,e){1&t&&(r.Mb(0,"div",57),r.Kb(1,"div",58),r.Mb(2,"h3"),r.oc(3,"Cargando..."),r.Lb(),r.Lb())}function TS(t,e){if(1&t&&(r.Mb(0,"a",72),r.oc(1,"Pagina Web"),r.Lb()),2&t){const t=r.Vb(2);r.bc("href",t.ad.web,r.kc)}}function kS(t,e){if(1&t&&(r.Mb(0,"a",73),r.oc(1,"Facebook"),r.Lb()),2&t){const t=r.Vb(2);r.bc("href",t.ad.facebook,r.kc)}}function AS(t,e){if(1&t&&(r.Mb(0,"a",74),r.Kb(1,"fa-icon",75),r.oc(2," Ubicacion"),r.Lb()),2&t){const t=r.Vb(2);r.dc("href","https://maps.google.com/?q=",t.ad.latitud,",",t.ad.longitud,"",r.kc),r.zb(1),r.bc("icon",t.faMarker)}}function jS(t,e){if(1&t&&(r.Mb(0,"div",59),r.Mb(1,"div",60),r.Mb(2,"div",61),r.Mb(3,"div",62),r.Mb(4,"h5",63),r.oc(5),r.Lb(),r.Mb(6,"button",64),r.Mb(7,"span",65),r.oc(8,"\xd7"),r.Lb(),r.Lb(),r.Lb(),r.Mb(9,"div",66),r.Mb(10,"p"),r.oc(11),r.Lb(),r.Mb(12,"p"),r.Kb(13,"fa-icon",47),r.oc(14),r.Lb(),r.mc(15,TS,2,1,"a",67),r.mc(16,kS,2,1,"a",68),r.mc(17,AS,3,3,"a",69),r.Lb(),r.Mb(18,"div",70),r.Mb(19,"button",71),r.oc(20," Close "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t){const t=r.Vb();r.zb(5),r.qc(" ",t.ad.title," "),r.zb(6),r.pc(t.ad.description),r.zb(2),r.bc("icon",t.faPhone),r.zb(1),r.qc(" ",t.ad.phone,""),r.zb(1),r.bc("ngIf",""!=t.ad.web&&null!=t.ad.web),r.zb(1),r.bc("ngIf",""!=t.ad.facebook&&null!=t.ad.facebook),r.zb(1),r.bc("ngIf",null!=t.ad.latitud)}}let MS=(()=>{class t{constructor(t,e,n){this.adSv=t,this.categorieSv=e,this.renderer=n,this.faMarker=ys,this.faChevronLeft=bs,this.faChevronRight=ms,this.faPhone=_s,this.cel=2235698659,this.categories=[],this.adListCarousel=[],this.ads=[],this.lastetAds=[],this.mostSeenAds=[],this.numberAds=0,this.cont=0,this.zoom=18,this.lat=51.678418,this.lng=7.809007,this.latLongs=[],this.latLong={},this.mapTypeId="hybrid",this.title=""}ngOnInit(){this.getAllads(),this.getLastetAds(),this.getBannersAds(),this.getMostSeenAds(),this.getAllCategories(),this.adSv.searchTitleObservable.subscribe(t=>this.title=t)}buttonPrevLastetClick(){this.cont!=-1*this.adLastet.length+1&&(this.cont--,this.adLastet.forEach(t=>{this.renderer.setStyle(t.nativeElement,"transform",`translate(${16*this.cont}rem)`),this.renderer.setStyle(this.buttonLeftLastetAds.nativeElement,"display","block")}))}buttonNextLastetClick(){this.cont<=-1&&(this.cont++,this.adLastet.forEach(t=>{this.renderer.setStyle(t.nativeElement,"transform",`translate(${16*this.cont}rem)`),0==this.cont&&this.renderer.setStyle(this.buttonLeftLastetAds.nativeElement,"display","none")}))}buttonPrevMostSeenClick(){this.cont!=-1*this.adMostSeen.length+1&&(this.cont--,this.adMostSeen.forEach(t=>{this.renderer.setStyle(t.nativeElement,"transform",`translate(${16*this.cont}rem)`),this.renderer.setStyle(this.buttonLeftMostSeen.nativeElement,"display","block")}))}buttonNextMostSeenClick(){this.cont<=-1&&(this.cont++,this.adMostSeen.forEach(t=>{this.renderer.setStyle(t.nativeElement,"transform",`translate(${16*this.cont}rem)`),0==this.cont&&this.renderer.setStyle(this.buttonLeftMostSeen.nativeElement,"display","none")}))}getAllads(){this.adSv.getAllAds().subscribe(t=>{this.ads=t})}getLastetAds(){this.adSv.getLastetAds().subscribe(t=>{this.lastetAds=t})}getAllCategories(){this.categorieSv.getAllCategories().subscribe(t=>this.categories=t)}getBannersAds(){this.adSv.getBannersAds().subscribe(t=>{this.adCarousel=t[0],t.map((t,e)=>{0!=e&&this.adListCarousel.push(t)})})}getMostSeenAds(){this.adSv.getMostSeenAds().subscribe(t=>{this.mostSeenAds=t})}viewDetail(t){this.ad=t,this.adSv.updateVistas(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(aC),r.Jb(Iw),r.Jb(r.E))},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],viewQuery:function(t,e){if(1&t&&(r.rc(sS,!0),r.rc(aS,!0),r.rc(uS,!0),r.rc(cS,!0),r.rc(lS,!0),r.rc(hS,!0),r.rc(fS,!0),r.rc(dS,!0)),2&t){let t;r.gc(t=r.Ub())&&(e.buttonPrevLastet=t.first),r.gc(t=r.Ub())&&(e.buttonNextLastet=t.first),r.gc(t=r.Ub())&&(e.buttonPrevMostSeen=t.first),r.gc(t=r.Ub())&&(e.buttonNextMostSeen=t.first),r.gc(t=r.Ub())&&(e.buttonLeftMostSeen=t.first),r.gc(t=r.Ub())&&(e.buttonLeftLastetAds=t.first),r.gc(t=r.Ub())&&(e.adLastet=t),r.gc(t=r.Ub())&&(e.adMostSeen=t)}},decls:6,vars:3,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["loading",""],["class","modal fade","id","modalAd","tabindex","-1","role","dialog","aria-labelledby","modalAd","aria-hidden","true",4,"ngIf"],[1,"row"],[1,"col-12","col-md-9"],["id","carouselExampleControls","data-ride","carousel",1,"carousel","slide","mt-2"],["class","carousel-inner",4,"ngIf"],["href","#carouselExampleControls","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleControls","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["class","col-12 col-md-3",4,"ngIf"],["class","search-ads mt-5",4,"ngIf"],["class","carousel-ads mt-5",4,"ngIf"],[1,"footer","mb-2"],[1,"container","text-center"],[1,"cel",3,"icon"],[1,"cel"],["target","blanck",3,"routerLink"],[1,"carousel-inner"],[1,"carousel-item","active"],[1,"d-block","w-100",3,"src"],[1,"carousel-caption","d-none","d-md-block"],["class","carousel-item",4,"ngFor","ngForOf"],[1,"carousel-item"],[1,"col-12","col-md-3"],[1,"table","table-hover","table-fixed","mt-2"],[1,"thead-dark"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"search-ads","mt-5"],[1,"searchList"],["id","container","class","ad",4,"ngFor","ngForOf"],["id","container",1,"ad"],[1,"card","mx-2"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-description"],["type","button","data-toggle","modal","data-target","#modalAd",1,"btn","btn-primary",3,"click"],[1,"carousel-ads","mt-5"],["id","slick-list",1,"slick-list"],["slickList",""],[1,"buttonLeftLastetAds",3,"click"],["buttonLeftLastetAds",""],[3,"icon"],[1,"adsList"],["adsList",""],[1,"buttonRightLastetAds",3,"click"],["adLastet",""],[1,"buttonLeftMostSeen",3,"click"],["buttonLeftMostSeen",""],[1,"buttonRightMostSeen",3,"click"],["buttonRightMostSeen",""],["adMostSeen",""],[1,"load"],[1,"loader"],["id","modalAd","tabindex","-1","role","dialog","aria-labelledby","modalAd","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["target","_blank","class","btn btn-warning mr-2",3,"href",4,"ngIf"],["target","_blank","class","btn btn-primary mr-2",3,"href",4,"ngIf"],["target","_blank","class","btn btn-success",3,"href",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["target","_blank",1,"btn","btn-warning","mr-2",3,"href"],["target","_blank",1,"btn","btn-primary","mr-2",3,"href"],["target","_blank",1,"btn","btn-success",3,"href"],[1,"mapMarker",3,"icon"]],template:function(t,e){if(1&t&&(r.Kb(0,"app-navbar"),r.Mb(1,"div",0),r.mc(2,SS,28,12,"main",1),r.mc(3,xS,4,0,"ng-template",null,2,r.nc),r.Lb(),r.mc(5,jS,21,7,"div",3)),2&t){const t=r.hc(4);r.zb(2),r.bc("ngIf",e.categories.length&&e.ads.length&&e.lastetAds.length)("ngIfElse",t),r.zb(3),r.bc("ngIf",e.ad)}},directives:[ZI,U,TE,Qo,D],pipes:[oS],styles:[".adsList[_ngcontent-%COMP%]{width:100%;display:block;display:inline-block;display:flex;overflow-x:hidden}.ad[_ngcontent-%COMP%]{transition:.7s}.ad[_ngcontent-%COMP%]:hover{opacity:.8}.buttonLeftLastetAds[_ngcontent-%COMP%], .buttonLeftMostSeen[_ngcontent-%COMP%], .buttonRightLastetAds[_ngcontent-%COMP%], .buttonRightMostSeen[_ngcontent-%COMP%]{border:none;position:absolute;background-color:rgba(0,0,0,.4);font-size:40px;height:20%;top:calc(50%-25%);line-height:40px;width:50px;color:#fff}.buttonLeftLastetAds[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50px;z-index:1;left:0;display:none}.buttonRightLastetAds[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50px;right:0}.buttonLeftMostSeen[_ngcontent-%COMP%]{z-index:1;left:0;display:none}.buttonLeftMostSeen[_ngcontent-%COMP%], .buttonRightMostSeen[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50px}.buttonRightMostSeen[_ngcontent-%COMP%]{right:0}.buttonLeftLastetAds[_ngcontent-%COMP%]:hover, .buttonLeftMostSeen[_ngcontent-%COMP%]:hover, .buttonRightLastetAds[_ngcontent-%COMP%]:hover, .buttonRightMostSeen[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.6)}.card[_ngcontent-%COMP%]{margin:1rem;width:15rem;height:22rem;display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:.5rem;height:10rem}.card-title[_ngcontent-%COMP%]{font-size:1.2rem}.card-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-transform:lowercase}.carousel-caption[_ngcontent-%COMP%]{background-color:#000;opacity:.7;border:1px solid #000;border-radius:5px}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25rem;width:100%}.cel[_ngcontent-%COMP%]{color:#0adf0a}.footer[_ngcontent-%COMP%]{padding:2rem;background-color:#666}.footer[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bbb}.footer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{padding:1rem}h2[_ngcontent-%COMP%]{text-transform:uppercase}.mapMarker[_ngcontent-%COMP%]{color:red}.slick-list[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;position:relative;justify-content:center}.searchList[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-around}.table-fixed[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{width:100%}.table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{height:20rem;width:100%;overflow-y:auto;display:block}.load[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]{border-radius:50%;border:16px solid #f3f3f3;border-top-color:#3498db;width:120px;height:120px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@media screen and (max-width:800px){.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .table-fixed[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{height:12rem}}"]}),t})(),PS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-aviso-privacidad"]],decls:5,vars:0,consts:[[1,"container","mt-4","bg-dark"],[1,"text-center"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"h2",1),r.oc(2,"Terminos y condiciones"),r.Lb(),r.Mb(3,"p"),r.oc(4," CONSORCIO INTERAMERICANO DE COMUNICACI\xd3N, S.A. DE C.V. y EDICIONES DEL NORTE, S.A. DE C.V., incluyendo todas sus publicaciones (en lo sucesivo referidas para efectos del presente Aviso como REFORMA), con domicilio para o\xedr y recibir notificaciones en Av. M\xe9xico Coyoac\xe1n No. 40, Col. Santa Cruz Atoyac, Alcald\xeda de Benito Ju\xe1rez, C.P. 03310, Cd. de M\xe9xico, recaba datos personales de sus clientes, proveedores y/o lectores, en cumplimiento a la Ley Federal de Protecci\xf3n de Datos Personales en Posesi\xf3n de los Particulares, publicada en el Diario Oficial de la Federaci\xf3n el 05 de julio de 2010 (en lo sucesivo la \u201cLey\u201d), siendo responsable de su tratamiento y comprometi\xe9ndose a respetar la privacidad de los mismos, por lo que hace de su conocimiento que:REFORMA recaba datos personales de manera personal y directa cuando el titular acude a nuestras oficinas, o bien por medios electr\xf3nicos y/o sonoros, a trav\xe9s del sitio www.reforma.com, a trav\xe9s de nuestras aplicaciones m\xf3viles, y/o l\xedneas telef\xf3nicas, as\xed como por otras fuentes permitidas por la Ley.Los datos personales que recaba REFORMA, incluyen nombre, edad, domicilio, tel\xe9fono, correo electr\xf3nico y en ocasiones datos bancarios cuando usted solicita un cargo a su tarjeta de cr\xe9dito, son utilizados \xfanica y exclusivamente para fines de prestaci\xf3n de nuestros servicios y cumplimiento de nuestro objeto social, incluyendo los fines mercadot\xe9cnicos y publicitarios. Lo anterior significa que sus datos no ser\xe1n transferidos ni tratados por personas distintas a REFORMA y/o sus directivos o empleados, salvo a instituciones bancarias para efectos de cobro de nuestros servicios, contando con su consentimiento.Los datos personales se encuentran restringidos, con excepci\xf3n de aquellos requeridos por mandato de autoridad competente. Tambi\xe9n se except\xfaan aquellos que se encuentran en fuentes de acceso p\xfablico y los proporcionados por los propios usuarios que participen en la secci\xf3n de Comentarios sobre notas publicadas en nuestros sitios de internet o en los Foros en l\xednea, evitando con ello el mal uso por parte de personas que se refugian en el anonimato, por lo que se advierte a los participantes que sus comentarios podr\xedan incluir el nombre del titular de la suscripci\xf3n con el que acceden a los foros o emiten sus comentarios.Cuando nuestros usuarios acceden a nuestro Portal de Internet recibimos informaci\xf3n de sus cookies y web beacons (Ver apartado de Definiciones).Es posible que dentro de los sitios web de REFORMA se alojen enlaces a sitios de terceros ajenos a nosotros, en los que no tenemos control sobre los mismos, por lo que invitamos a nuestros usuarios a revisar las pol\xedticas de privacidad de dichos sitios.Para prevenir el acceso, uso y divulgaci\xf3n no autorizados de los datos personales, REFORMA cuenta con procedimientos y controles que garantizan su trato adecuado. \xdanicamente el titular de los datos personales podr\xe1 tener acceso a ellos y a ejercer los derechos ARCO (acceso, rectificaci\xf3n, cancelaci\xf3n y oposici\xf3n) de los mismos. Para ello el titular enviar\xe1 una solicitud por escrito, redactada en espa\xf1ol, incluyendo su nombre completo, tel\xe9fono, domicilio o correo electr\xf3nico para recibir notificaciones y copia simple o digital de su identificaci\xf3n oficial a REFORMA a trav\xe9s del correo electr\xf3nico ARCO@REFORMA.COM o bien a trav\xe9s de correo postal con porte pagado al domicilio se\xf1alado al inicio del presente Aviso dirigido al Departamento de Atenci\xf3n Derechos ARCO. En la solicitud el titular describir\xe1 los datos personales a los que se refiere y derecho ARCO que busca ejercer.REFORMA atender\xe1 su solicitud en un plazo m\xe1ximo de veinte d\xedas h\xe1biles contados a partir de la fecha en que reciba su solicitud. Dentro de dicho plazo le informaremos sobre la procedencia de la misma. REFORMA habr\xe1 cumplido en el momento en que entregue la correspondencia al servicio postal, o bien en la fecha en que responda a su correo electr\xf3nico.REFORMA podr\xe1 modificar el presente Aviso de privacidad y publicar las modificaciones de forma inmediata en sus oficinas, sitios web, o a trav\xe9s de los medios que \xe9ste determine.El presente Aviso aplica para todos los servicios de REFORMA, excepto el servicio de Bolsa de Trabajo a trav\xe9s de www.reforma.com ya que la captaci\xf3n y tratamiento de los datos personales que sus titulares de forma voluntaria proporcionan a terceros a trav\xe9s de la Bolsa de Trabajo, son responsabilidad de los destinatarios finales que los reciban, esto en virtud de que REFORMA no hace uso de dichos datos personales y tampoco ha solicitado a dichos terceros el tratamiento de los mismos. En virtud de ello, los titulares de los datos personales deber\xe1n contactar a los destinatarios finales para conocer sus propios avisos de privacidad.Definiciones.I.-Cookies.- Archivos de texto que se descargan autom\xe1ticamente y se almacenan en el disco duro del equipo de c\xf3mputo del usuario al navegar en una p\xe1gina o portal de Internet espec\xedfico, que permiten almacenar al servidor de Internet ciertos datos, entre ellos, p\xe1ginas preferidas de visualizaci\xf3n en internet.II.-Web beacons.-Im\xe1genes insertadas en p\xe1ginas, portales de Internet, o correos electr\xf3nicos y que pueden almacenar informaci\xf3n de la direcci\xf3n IP del usuario, tiempo de interacci\xf3n en los sitios web, entre otros.Para cualquier asunto relacionado con el presente Aviso de privacidad contacte a nuestro Departamento Legal al Tel:(52) 55-5628-7360 \xf3 mail juridico.reforma@reforma.com "),r.Lb(),r.Lb())},styles:["h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding:15px;margin:15px;color:#f5f5f5}"]}),t})(),LS=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.loginForm=new Ye({email:new Je(""),password:new Je("")})}ngOnInit(){}onLogin(){const{email:t,password:e}=this.loginForm.value;this.authService.login(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ew),r.Jb($o))},t.\u0275cmp=r.Db({type:t,selectors:[["app-login"]],decls:18,vars:1,consts:[[1,"row","mt-5"],[1,"col-md-6","col-12","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","formControlName","email","placeholder","Enter email",1,"form-control"],["for","exampleInputPassword1"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"btn","btn-primary","btn-long","btn-block"]],template:function(t,e){1&t&&(r.Kb(0,"app-navbar-simple"),r.Mb(1,"div",0),r.Mb(2,"div",1),r.Mb(3,"div",2),r.Mb(4,"div",3),r.Mb(5,"h1",4),r.oc(6,"Iniciar sesion"),r.Lb(),r.Mb(7,"form",5),r.Tb("ngSubmit",function(){return e.onLogin()}),r.Mb(8,"div",6),r.Mb(9,"label",7),r.oc(10,"Email address"),r.Lb(),r.Kb(11,"input",8),r.Lb(),r.Mb(12,"div",6),r.Mb(13,"label",9),r.oc(14,"Password"),r.Lb(),r.Kb(15,"input",10),r.Lb(),r.Mb(16,"button",11),r.oc(17,"Ingresar"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.zb(7),r.bc("formGroup",e.loginForm))},directives:[VE,sn,fe,cn,Bt,he,hn],styles:[".row[_ngcontent-%COMP%]{height:90vh;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{width:100%}"]}),t})(),RS=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e}canActivate(){return this.authSvc.user$.pipe(nr(1),Object(Lt.a)(t=>t&&this.authSvc.isAdmin(t)),Object(br.a)(t=>{t||this.router.navigate(["/home"])}))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ew),r.Qb($o))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const NS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:MS},{path:"aviso-privacidad",component:PS},{path:"categories/:categorie",component:iS},{path:"login",component:LS},{path:"admin",component:BI,canActivate:[RS]}];let DS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[ss.forRoot(NS)],ss]}),t})(),VS=(()=>{class t{constructor(){this.title="mianuncio-app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:[Jo],styles:[""]}),t})(),US=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),FS=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[VS]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Ew,RS],imports:[[jt,DS,Ls.a.initializeApp(i),EI.forRoot({apiKey:"AIzaSyDxAyJCf9jUCg-jcRrxGt8cy2ja5VEYZyM",libraries:["places"]}),Cw,qs,Cw,bn,mn,kE,US]]}),t})();Object(r.T)(),kt().bootstrapModule(FS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);